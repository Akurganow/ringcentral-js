{"version":3,"sources":["webpack/universalModuleDefinition","rc-sdk.js","webpack/bootstrap 139b895366d77bb468af","../lib/index.js","external {\"amd\":\"es6-promise\",\"commonjs\":\"es6-promise\",\"commonjs2\":\"es6-promise\",\"root\":\"Promise\"}","external {\"amd\":\"pubnub\",\"commonjs\":\"pubnub\",\"commonjs2\":\"pubnub\",\"root\":\"PUBNUB\"}","external {\"amd\":\"crypto-js/aes\",\"commonjs\":\"crypto-js/aes\",\"commonjs2\":\"crypto-js/aes\",\"root\":[\"CryptoJS\",\"AES\"]}","external {\"amd\":\"crypto-js/mode-ecb\",\"commonjs\":\"crypto-js/mode-ecb\",\"commonjs2\":\"crypto-js/mode-ecb\",\"root\":[\"CryptoJS\",\"mode\",\"ECB\"]}","external {\"amd\":\"crypto-js/core\",\"commonjs\":\"crypto-js/core\",\"commonjs2\":\"crypto-js/core\",\"root\":[\"CryptoJS\"]}","external {\"amd\":\"empty:\",\"commonjs\":\"xhr2\",\"commonjs2\":\"xhr2\",\"root\":\"XMLHttpRequest\"}","external {\"amd\":\"empty:\",\"commonjs\":\"dom-storage\",\"commonjs2\":\"dom-storage\",\"root\":\"localStorage\"}","../lib/RCSDK.js","../lib/core/xhr/XhrResponse.js","../lib/core/AjaxObserver.js","../lib/core/Cache.js","../lib/core/Context.js","../lib/core/Helper.js","../lib/core/List.js","../lib/core/Log.js","../lib/core/Observable.js","../lib/core/PageVisibility.js","../lib/core/Platform.js","../lib/core/Subscription.js","../lib/core/Utils.js","../lib/core/Validator.js","../lib/helpers/Account.js","../lib/helpers/BlockedNumber.js","../lib/helpers/Call.js","../lib/helpers/Contact.js","../lib/helpers/ContactGroup.js","../lib/helpers/Conferencing.js","../lib/helpers/Country.js","../lib/helpers/Device.js","../lib/helpers/DeviceModel.js","../lib/helpers/Extension.js","../lib/helpers/ForwardingNumber.js","../lib/helpers/Language.js","../lib/helpers/Location.js","../lib/helpers/Message.js","../lib/helpers/PhoneNumber.js","../lib/helpers/Presence.js","../lib/helpers/Ringout.js","../lib/helpers/Service.js","../lib/helpers/ShippingMethod.js","../lib/helpers/State.js","../lib/helpers/Timezone.js","../lib/core/pubnub/PubnubMock.js","../lib/core/xhr/XhrMock.js","../lib/core/http/Request.js","../lib/core/http/Headers.js","../lib/core/http/Response.js"],"names":["root","factory","exports","module","require","e","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_7__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","promise","pubnub","rcsdk","CryptoJS","XHR","XMLHttpRequest","ActiveXObject","e1","e2","e3","Error","localStorage","Promise","PUBNUB","code","injections","RCSDK","setInjections","xhrResponse","ajaxObserver","cache","context","helper","list","log","observable","pageVisibility","platform","subscription","utils","validator","accountHelper","blockedNumberHelper","callHelper","contactHelper","contactGroupHelper","conferencingHelper","countryHelper","deviceHelper","deviceModelHelper","extensionHelper","forwardingNumberHelper","languageHelper","locationHelper","messageHelper","phoneNumberHelper","presenceHelper","ringoutHelper","serviceHelper","shippingMethodHelper","stateHelper","timezoneHelper","options","_context","$get","getCache","setPrefix","cachePrefix","getPlatform","setServer","server","setCredentials","appKey","appSecret","prototype","getContext","getAjaxObserver","getXhrResponse","getSubscription","getPageVisibility","getHelper","getObservable","getValidator","getLog","getUtils","getList","getCountryHelper","getDeviceModelHelper","getLanguageHelper","getLocationHelper","getShippingMethodHelper","getStateHelper","getTimezoneHelper","getAccountHelper","getBlockedNumberHelper","getCallHelper","getConferencingHelper","getContactHelper","getContactGroupHelper","getDeviceHelper","getExtensionHelper","getForwardingNumberHelper","getMessageHelper","getPhoneNumberHelper","getPresenceHelper","getRingoutHelper","getServiceHelper","version","createSingleton","XhrResponse","responses","add","response","push","clear","find","ajax","currentResponse","forEach","url","indexOf","path","test","AjaxObserver","__extends","d","b","__","constructor","hasOwnProperty","_super","apply","arguments","events","beforeRequest","requestSuccess","requestError","Observable","Cache","storage","getLocalStorage","prefix","prefixKey","key","setItem","data","JSON","stringify","removeItem","getItem","item","parse","clean","Context","pubnubMock","xhrMock","singletons","stubPubnub","stubAjax","name","usePubnubStub","flag","useAjaxStub","getCryptoJS","getPubnub","_this","getPromise","getXHR","Helper","defaultProperty","createUrl","getId","object","isNew","getUri","resetAsNew","uri","parseMultipartResponse","isMultipart","filter","result","error","map","loadRequest","extend","method","saveRequest","post","body","deleteRequest","syncRequest","sync","query","get","syncToken","syncType","nextPageExists","navigation","index","array","getIdFn","gather","bind","reduce","merge","target","supplement","mergeItems","supplementIndex","updatedIDs","newItem","List","numberComparator","stringComparator","propertyExtractor","property","a","parseString","localeCompare","parseNumber","comparator","extractFn","sortBy","compareFn","item1","item2","equalsFilter","obj","condition","containsFilter","toString","regexpFilter","RegExp","filterConfigs","self","opt","filterBy","filterFn","pass","Log","console","warn","info","logDebug","logInfo","logWarnings","logErrors","addTimestamps","disableAll","enableAll","parseArguments","args","argumentsToArray","unshift","Date","toLocaleString","debug","_i","length","Object","defineProperty","value","enumerable","writable","hasListeners","event","listeners","registerOneTimeEvent","oneTimeEvents","oneTimeArguments","on","callback","isOneTimeEventFired","getOneTimeEventArgumens","emit","isOneTimeEvent","setOneTimeEventFired","setOneTimeEventArgumens","some","off","cb","i","offAll","destroy","emitAndCallback","concat","PageVisibility","change","hidden","onchange","evt","window","v","h","evtMap","focus","focusin","pageshow","blur","focusout","pagehide","visible","type","document","addEventListener","onfocusin","onfocusout","onpageshow","onpagehide","onfocus","onblur","isVisible","Platform","request","accessViolation","logoutSuccess","logoutError","authorizeSuccess","authorizeError","refreshSuccess","refreshError","apiKey","account","urlPrefix","apiVersion","accountPrefix","accessTokenTtl","refreshTokenTtl","refreshTokenTtlRemember","refreshHandicapMs","refreshDelayMs","clearCacheOnRefreshError","refreshPromise","cacheId","pollInterval","releaseTimeout","getStorage","getRequest","clearStorage","btoa","Buffer","remember","undefined","authorize","authCall","grant_type","username","extension","password","access_token_ttl","refresh_token_ttl","then","setCache","isPaused","now","parseInt","pause","resume","refresh","resolve","reject","refreshPolling","setTimeout","authData","getAuthData","access_token","refresh_token","refreshExpireTime","logout","token","getToken","poll","next","isTokenValid","getTokenType","token_type","expires_in","refresh_token_expires_in","forcedTokenType","expireTime","getTime","isAuthorized","cancelAccessToken","oldAuthData","forceAuthentication","apiCall","apiUrl","addServer","setOptions","setHeader","send","isUnauthorized","put","builtUrl","replace","addMethod","addToken","Subscription","notification","removeSuccess","removeError","renewSuccess","renewError","subscribeSuccess","subscribeError","eventFilters","timeout","expirationTime","expiresIn","deliveryMode","transportType","encryption","address","subscriberKey","secretKey","creationTime","status","getCrypto","register","isSubscribed","renew","subscribe","addEvents","setEvents","getFullEventFilters","clearTimeout","updateSubscription","subscribeAtPubnub","unsubscribe","remove","async","timeToExpiration","renewHandicapMs","channel","notify","message","encryptionKey","enc","Base64","decrypted","AES","decrypt","ciphertext","mode","ECB","padding","pad","Pkcs7","Utf8","init","ssl","subscribe_key","ready","connect","Utils","hasOwn","rdigit","class2type","split","toLowerCase","src","copy","copyIsArray","clone","deep","isFunction","isPlainObject","isArray","res","queryStringify","parameters","vv","encodeURIComponent","join","parseQueryString","queryString","argsParsed","arg","decodeURIComponent","trim","pair","isEmail","multiple","isPhoneNumber","Array","slice","isDate","isWindow","isNaN","String","nodeType","getProperty","part","fn","interval","stopPolling","delay","s","n","parseFloat","Validator","validate","validators","errors","isValid","field","email","phone","required","max","min","Account","BlockedNumber","extensionId","phoneNumber","Call","presence","contact","personal","active","getSessionId","sessionId","isInProgress","isAlive","availability","isInbound","direction","isOutbound","isMissed","isFindMe","action","getCallerInfo","from","to","getAllCallerInfos","formatDuration","addZero","duration","hours","Math","floor","mins","secs","alive","attachContacts","contacts","calls","callerInfos","attachToCallerInfos","checkMergeability","outboundRingOutCall","inboundCall","dateString","strict","startTime","abs","maxStartTimeDiscrepancy","combineCalls","hasSubsequent","subsequent","processCalls","processedCalls","callsToMerge","merged","secondCall","parsePresenceCalls","activeCalls","activeCall","isCallInProgress","telephonyStatus","getSignature","cleanup","mergePresenceCalls","presenceCalls","currentDate","toISOString","mergeAll","presenceAndCalls","Contact","phoneFields","faxFields","addressFields","addressSubFields","nameFields","otherFields","emailFields","groupId","getFieldValues","where","fields","asHash","getFullName","getEmails","getPhones","getFaxes","getAddresses","match","string","inAddresses","transformFn","toLocaleLowerCase","found","matchWith","transformed","subField","matchAsPhone","callerInfoIndex","callerInfo","indexedCallerInfos","foundContact","foundPhone","contactPhone","startsWith","phonesOnly","faxesOnly","opts","firstName","lastName","email2","email3","ContactGroup","groupName","Conferencing","Country","Device","deviceModel","order","emergencyServiceAddress","street","city","state","country","zip","customerName","model","DeviceModel","devices","deviceClass","addons","count","device","cleanForSaving","addon","Extension","department","user","announcement","voicemail","departmentId","isUser","isDepartment","isAnnouncement","isVoicemail","search","extensionNumber","ForwardingNumber","forwardingNumber","hasFeature","feature","features","Language","languages","Location","uniqueNPAs","stateId","onlyUniqueNPA","npa","nxx","Message","fax","sms","pager","isSMS","isPager","isVoiceMail","isFax","isRead","readStatus","setIsRead","getAttachmentUrl","attachments","getAttachmentContentType","contentType","getCallerInfos","conversationId","messages","shorten","text","subject","validateSMS","validatePager","PhoneNumber","lookup","reserve","date","reservedTill","unreserve","usageType","paymentType","Presence","detailed","isAvailable","presenceStatus","presences","attachToExtensions","extensions","ex","presenceCall","Ringout","ringout","callStatus","isSuccess","isError","Service","isSmsEnabled","isServiceFeatureEnabledMethod","isSmsReceivingEnabled","isPresenceEnabled","isRingOutEnabled","isInternationalCallingEnabled","isDndEnabled","isFaxEnabled","isFaxReceivingEnabled","isVoicemailEnabled","isPagerEnabled","isPagerReceivingEnabled","isVoipCallingEnabled","isVideoConferencingEnabled","isSalesForceEnabled","isIntercomEnabled","isPagingEnabled","isConferencingEnabled","isFreeSoftPhoneLinesEnabled","isHipaaComplianceEnabled","isCallParkEnabled","isOnDemandCallRecordingEnabled","isEnabled","serviceFeatures","f","featureName","enabled","ShippingMethod","shippingMethods","State","countryId","Timezone","PubnubFactory","PubnubMock","onMessage","receiveMessage","msg","XhrMock","requestHeaders","withCredentials","readyState","responseHeaders","getResponseHeader","header","setRequestHeader","getAllResponseHeaders","open","getRequestHeader","onerror","setStatus","setResponseHeader","onLoad","responseText","onload","abort","Request","r","xhr","observer","isLoaded","setHeaders","headers","checkOptions","hasHeader","Headers","jsonContentType","toUpperCase","getEncodedBody","isJson","isUrlEncoded","responsePromise","statusText","getHeader","isContentType","getContentType","multipartContentType","urlencodedContentType","Response","tmp","bodySeparator","shift","json","parts","headerSeparator","checkStatus","getError","boundary","boundarySeparator","pop","statusInfo","stack","error_description","description"],"mappings":"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","file":"rc-sdk.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"es6-promise\"), require(\"pubnub\"), require(\"crypto-js/aes\"), require(\"crypto-js/mode-ecb\"), require(\"crypto-js/core\"), (function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()), require(\"dom-storage\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"es6-promise\", \"pubnub\", \"crypto-js/aes\", \"crypto-js/mode-ecb\", \"crypto-js/core\", \"empty:\", \"empty:\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RCSDK\"] = factory(require(\"es6-promise\"), require(\"pubnub\"), require(\"crypto-js/aes\"), require(\"crypto-js/mode-ecb\"), require(\"crypto-js/core\"), (function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()), require(\"dom-storage\"));\n\telse\n\t\troot[\"RCSDK\"] = factory(root[\"Promise\"], root[\"PUBNUB\"], root[\"CryptoJS\"][\"AES\"], root[\"CryptoJS\"][\"mode\"][\"ECB\"], root[\"CryptoJS\"], root[\"XMLHttpRequest\"], root[\"localStorage\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"es6-promise\"), require(\"pubnub\"), require(\"crypto-js/aes\"), require(\"crypto-js/mode-ecb\"), require(\"crypto-js/core\"), (function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()), require(\"dom-storage\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"es6-promise\", \"pubnub\", \"crypto-js/aes\", \"crypto-js/mode-ecb\", \"crypto-js/core\", \"empty:\", \"empty:\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RCSDK\"] = factory(require(\"es6-promise\"), require(\"pubnub\"), require(\"crypto-js/aes\"), require(\"crypto-js/mode-ecb\"), require(\"crypto-js/core\"), (function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()), require(\"dom-storage\"));\n\telse\n\t\troot[\"RCSDK\"] = factory(root[\"Promise\"], root[\"PUBNUB\"], root[\"CryptoJS\"][\"AES\"], root[\"CryptoJS\"][\"mode\"][\"ECB\"], root[\"CryptoJS\"], root[\"XMLHttpRequest\"], root[\"localStorage\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../typings/tsd.d.ts\" />\nvar promise = __webpack_require__(1);\nvar pubnub = __webpack_require__(2);\nvar rcsdk = __webpack_require__(8);\n__webpack_require__(3);\n__webpack_require__(4);\nvar CryptoJS = __webpack_require__(5);\nvar XHR = (typeof (XMLHttpRequest) !== 'undefined' ? XMLHttpRequest : function () {\n    try {\n        return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\");\n    }\n    catch (e1) {\n    }\n    try {\n        return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\");\n    }\n    catch (e2) {\n    }\n    try {\n        return new ActiveXObject(\"Msxml2.XMLHTTP\");\n    }\n    catch (e3) {\n    }\n    try {\n        return __webpack_require__(6);\n    }\n    catch (e3) {\n    }\n    throw new Error(\"This browser does not support XMLHttpRequest.\");\n});\nexports = module.exports = rcsdk.factory({\n    CryptoJS: CryptoJS,\n    localStorage: typeof (localStorage) !== 'undefined' ? localStorage : __webpack_require__(7),\n    Promise: typeof (Promise) !== 'undefined' ? Promise : promise.Promise,\n    PUBNUB: pubnub,\n    XHR: XHR\n});\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\nif(typeof __WEBPACK_EXTERNAL_MODULE_6__ === 'undefined') {var e = new Error(\"Cannot find module \\\"undefined\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar xhrResponse = __webpack_require__(9);\nvar ajaxObserver = __webpack_require__(10);\nvar cache = __webpack_require__(11);\nvar context = __webpack_require__(12);\nvar helper = __webpack_require__(13);\nvar list = __webpack_require__(14);\nvar log = __webpack_require__(15);\nvar observable = __webpack_require__(16);\nvar pageVisibility = __webpack_require__(17);\nvar platform = __webpack_require__(18);\nvar subscription = __webpack_require__(19);\nvar utils = __webpack_require__(20);\nvar validator = __webpack_require__(21);\nvar accountHelper = __webpack_require__(22);\nvar blockedNumberHelper = __webpack_require__(23);\nvar callHelper = __webpack_require__(24);\nvar contactHelper = __webpack_require__(25);\nvar contactGroupHelper = __webpack_require__(26);\nvar conferencingHelper = __webpack_require__(27);\nvar countryHelper = __webpack_require__(28);\nvar deviceHelper = __webpack_require__(29);\nvar deviceModelHelper = __webpack_require__(30);\nvar extensionHelper = __webpack_require__(31);\nvar forwardingNumberHelper = __webpack_require__(32);\nvar languageHelper = __webpack_require__(33);\nvar locationHelper = __webpack_require__(34);\nvar messageHelper = __webpack_require__(35);\nvar phoneNumberHelper = __webpack_require__(36);\nvar presenceHelper = __webpack_require__(37);\nvar ringoutHelper = __webpack_require__(38);\nvar serviceHelper = __webpack_require__(39);\nvar shippingMethodHelper = __webpack_require__(40);\nvar stateHelper = __webpack_require__(41);\nvar timezoneHelper = __webpack_require__(42);\nvar RCSDK = (function () {\n    function RCSDK(options) {\n        options = options || {};\n        this._context = context.$get(RCSDK.injections);\n        this.getCache().setPrefix(options.cachePrefix || '');\n        this.getPlatform().setServer(options.server || '').setCredentials(options.appKey || '', options.appSecret || '');\n        //TODO Link Platform events with Subscriptions and the rest\n    }\n    RCSDK.setInjections = function (injections) {\n        this.injections = injections;\n        return this;\n    };\n    // Internals\n    RCSDK.prototype.getContext = function () {\n        return this._context;\n    };\n    // Core\n    RCSDK.prototype.getAjaxObserver = function () {\n        return ajaxObserver.$get(this.getContext());\n    };\n    RCSDK.prototype.getXhrResponse = function () {\n        return xhrResponse.$get(this.getContext());\n    };\n    RCSDK.prototype.getPlatform = function () {\n        return platform.$get(this.getContext());\n    };\n    RCSDK.prototype.getCache = function () {\n        return cache.$get(this.getContext());\n    };\n    RCSDK.prototype.getSubscription = function () {\n        return subscription.$get(this.getContext());\n    };\n    RCSDK.prototype.getPageVisibility = function () {\n        return pageVisibility.$get(this.getContext());\n    };\n    RCSDK.prototype.getHelper = function () {\n        return helper.$get(this.getContext());\n    };\n    RCSDK.prototype.getObservable = function () {\n        return observable.$get(this.getContext());\n    };\n    RCSDK.prototype.getValidator = function () {\n        return validator.$get(this.getContext());\n    };\n    RCSDK.prototype.getLog = function () {\n        return log.$get(this.getContext());\n    };\n    RCSDK.prototype.getUtils = function () {\n        return utils.$get(this.getContext());\n    };\n    RCSDK.prototype.getList = function () {\n        return list.$get(this.getContext());\n    };\n    // Helpers\n    RCSDK.prototype.getCountryHelper = function () {\n        return countryHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getDeviceModelHelper = function () {\n        return deviceModelHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getLanguageHelper = function () {\n        return languageHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getLocationHelper = function () {\n        return locationHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getShippingMethodHelper = function () {\n        return shippingMethodHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getStateHelper = function () {\n        return stateHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getTimezoneHelper = function () {\n        return timezoneHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getAccountHelper = function () {\n        return accountHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getBlockedNumberHelper = function () {\n        return blockedNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getCallHelper = function () {\n        return callHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getConferencingHelper = function () {\n        return conferencingHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getContactHelper = function () {\n        return contactHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getContactGroupHelper = function () {\n        return contactGroupHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getDeviceHelper = function () {\n        return deviceHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getExtensionHelper = function () {\n        return extensionHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getForwardingNumberHelper = function () {\n        return forwardingNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getMessageHelper = function () {\n        return messageHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getPhoneNumberHelper = function () {\n        return phoneNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getPresenceHelper = function () {\n        return presenceHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getRingoutHelper = function () {\n        return ringoutHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getServiceHelper = function () {\n        return serviceHelper.$get(this.getContext());\n    };\n    RCSDK.version = '1.2.1';\n    return RCSDK;\n})();\nexports.RCSDK = RCSDK;\nfunction factory(injections) {\n    if (!injections || !('CryptoJS' in injections) || !('localStorage' in injections) || !('Promise' in injections) || !('PUBNUB' in injections) || !('XHR' in injections))\n        throw new Error('Injections object is not complete');\n    return RCSDK.setInjections(injections);\n}\nexports.factory = factory;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar XhrResponse = (function () {\n    function XhrResponse(context) {\n        this.responses = [];\n    }\n    XhrResponse.prototype.add = function (response) {\n        this.responses.push(response);\n    };\n    XhrResponse.prototype.clear = function () {\n        this.responses = [];\n    };\n    XhrResponse.prototype.find = function (ajax) {\n        var currentResponse;\n        this.responses.forEach(function (response) {\n            if (ajax.url.indexOf(response.path) > -1 && (!response.test || response.test(ajax))) {\n                currentResponse = response;\n            }\n        });\n        return currentResponse;\n    };\n    return XhrResponse;\n})();\nexports.XhrResponse = XhrResponse;\nfunction $get(context) {\n    return context.createSingleton('XhrResponse', function () {\n        return new XhrResponse(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(16);\nvar AjaxObserver = (function (_super) {\n    __extends(AjaxObserver, _super);\n    function AjaxObserver() {\n        _super.apply(this, arguments);\n        this.events = {\n            beforeRequest: 'beforeRequest',\n            requestSuccess: 'requestSuccess',\n            requestError: 'requestError' // means that request failed completely\n        };\n    }\n    return AjaxObserver;\n})(observable.Observable);\nexports.AjaxObserver = AjaxObserver;\nfunction $get(context) {\n    return context.createSingleton('AjaxObserver', function () {\n        return new AjaxObserver(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar Cache = (function () {\n    function Cache(context) {\n        this.setPrefix();\n        this.context = context;\n        this.storage = context.getLocalStorage(); // storage must be defined from outside\n    }\n    Cache.prototype.setPrefix = function (prefix) {\n        this.prefix = prefix || 'rc-';\n        return this;\n    };\n    Cache.prototype.prefixKey = function (key) {\n        return this.prefix + key;\n    };\n    Cache.prototype.setItem = function (key, data) {\n        this.storage.setItem(this.prefixKey(key), JSON.stringify(data));\n        return this;\n    };\n    Cache.prototype.removeItem = function (key) {\n        this.storage.removeItem(this.prefixKey(key));\n        return this;\n    };\n    Cache.prototype.getItem = function (key) {\n        var item = this.storage.getItem(this.prefixKey(key));\n        if (!item)\n            return null;\n        return JSON.parse(item);\n    };\n    Cache.prototype.clean = function () {\n        for (var key in this.storage) {\n            if (!this.storage.hasOwnProperty(key))\n                continue;\n            if (key.indexOf(this.prefix) === 0) {\n                this.storage.removeItem(key);\n                delete this.storage[key];\n            }\n        }\n        return this;\n    };\n    return Cache;\n})();\nexports.Cache = Cache;\nfunction $get(context) {\n    return context.createSingleton('Cache', function () {\n        return new Cache(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar pubnubMock = __webpack_require__(43); //TODO Fix circular\nvar xhrMock = __webpack_require__(44); //TODO Fix circular\nvar Context = (function () {\n    function Context(injections) {\n        this.singletons = {};\n        this.injections = injections;\n        this.stubPubnub = false;\n        this.stubAjax = false;\n    }\n    Context.prototype.createSingleton = function (name, factory) {\n        if (!this.singletons[name])\n            this.singletons[name] = factory();\n        return this.singletons[name];\n    };\n    Context.prototype.usePubnubStub = function (flag) {\n        this.stubPubnub = !!flag;\n        return this;\n    };\n    Context.prototype.useAjaxStub = function (flag) {\n        this.stubAjax = !!flag;\n        return this;\n    };\n    Context.prototype.getCryptoJS = function () {\n        return this.injections.CryptoJS;\n    };\n    Context.prototype.getPubnub = function () {\n        return this.stubPubnub ? pubnubMock.$get(this) : this.injections.PUBNUB;\n    };\n    Context.prototype.getLocalStorage = function () {\n        var _this = this;\n        return this.createSingleton('localStorage', function () {\n            if (typeof _this.injections.localStorage !== 'function') {\n                return _this.injections.localStorage; // this is window.localStorage\n            }\n            return new _this.injections.localStorage(); // this is NPM dom-storage constructor\n        });\n    };\n    Context.prototype.getPromise = function () {\n        return this.injections.Promise;\n    };\n    Context.prototype.getXHR = function () {\n        return (this.stubAjax ? xhrMock.$get(this) : new this.injections.XHR());\n    };\n    return Context;\n})();\nexports.Context = Context;\nfunction $get(injections) {\n    return new Context(injections);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar utils = __webpack_require__(20);\nvar Helper = (function () {\n    function Helper(context) {\n        this.defaultProperty = 'id';\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Helper.prototype.getContext = function () {\n        return this.context;\n    };\n    Helper.prototype.createUrl = function (options, id) {\n        return '';\n    };\n    Helper.prototype.getId = function (object) {\n        return object && object[this.defaultProperty];\n    };\n    Helper.prototype.isNew = function (object) {\n        return !this.getId(object) || !this.getUri(object);\n    };\n    Helper.prototype.resetAsNew = function (object) {\n        if (object) {\n            delete object.id;\n            delete object.uri;\n        }\n        return object;\n    };\n    Helper.prototype.getUri = function (object) {\n        return object && object.uri;\n    };\n    Helper.prototype.parseMultipartResponse = function (ajax) {\n        if (ajax.isMultipart()) {\n            // ajax.data has full array, leave only successful\n            return ajax.data.filter(function (result) {\n                return (!result.error);\n            }).map(function (result) {\n                return result.data;\n            });\n        }\n        else {\n            return [ajax.data];\n        }\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    Helper.prototype.loadRequest = function (object, options) {\n        return this.utils.extend(options || {}, {\n            url: (options && options.url) || (object && this.getUri(object)) || this.createUrl(),\n            method: (options && options.method) || 'GET'\n        });\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    Helper.prototype.saveRequest = function (object, options) {\n        if (!object && !(options && (options.post || options.body)))\n            throw new Error('No Object');\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || (this.isNew(object) ? 'POST' : 'PUT'),\n            url: (options && options.url) || this.getUri(object) || this.createUrl(),\n            body: (options && (options.body || options.post)) || object\n        });\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided exception will be thrown\n     */\n    Helper.prototype.deleteRequest = function (object, options) {\n        options = options || {};\n        if (!this.getUri(object) && !(options && options.url))\n            throw new Error('Object has to be not new or URL must be provided');\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || 'DELETE',\n            url: (options && options.url) || this.getUri(object)\n        });\n    };\n    /**\n     * If no url was provided, default SYNC url will be returned\n     */\n    Helper.prototype.syncRequest = function (options) {\n        options = options || {};\n        options.url = options.url || this.createUrl({ sync: true });\n        options.query = options.query || options.get || {};\n        if (!!options.query.syncToken) {\n            options.query = {\n                syncType: 'ISync',\n                syncToken: options.get.syncToken\n            };\n        }\n        else {\n            options.query.syncType = 'FSync';\n        }\n        return options;\n    };\n    Helper.prototype.nextPageExists = function (data) {\n        return (data && data.navigation && ('nextPage' in data.navigation));\n    };\n    /**\n     * array - an array to be indexed\n     * getIdFn - must return an ID for each array item\n     * gather - if true, then each index will have an array of items, that has same ID, otherwise the first indexed\n     * item wins\n     */\n    Helper.prototype.index = function (array, getIdFn, gather) {\n        getIdFn = getIdFn || this.getId.bind(this);\n        array = array || [];\n        return array.reduce(function (index, item) {\n            var id = getIdFn(item);\n            if (!id || (index[id] && !gather))\n                return index;\n            if (gather) {\n                if (!index[id])\n                    index[id] = [];\n                index[id].push(item);\n            }\n            else {\n                index[id] = item;\n            }\n            return index;\n        }, {});\n    };\n    /**\n     * Returns a shallow copy of merged _target_ array plus _supplement_ array\n     * mergeItems\n     * - if true, properties of _supplement_ item will be applied to _target_ item,\n     * - otherwise _target_ item will be replaced\n     */\n    Helper.prototype.merge = function (target, supplement, getIdFn, mergeItems) {\n        var _this = this;\n        getIdFn = getIdFn || this.getId.bind(this);\n        target = target || [];\n        supplement = supplement || [];\n        var supplementIndex = this.index(supplement, getIdFn), updatedIDs = [], result = target.map(function (item) {\n            var id = getIdFn(item), newItem = supplementIndex[id];\n            if (newItem)\n                updatedIDs.push(id);\n            return newItem ? (mergeItems ? _this.utils.extend(item, newItem) : newItem) : item;\n        });\n        supplement.forEach(function (item) {\n            if (updatedIDs.indexOf(getIdFn(item)) == -1)\n                result.push(item);\n        });\n        return result;\n    };\n    return Helper;\n})();\nexports.Helper = Helper;\nfunction $get(context) {\n    return new Helper(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar utils = __webpack_require__(20);\nvar List = (function () {\n    function List(context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.numberComparator = this.numberComparator.bind(this);\n        this.stringComparator = this.stringComparator.bind(this);\n    }\n    /**\n     * TODO Use utils getProperty\n     * @param {string} property\n     * @returns {function(object)}\n     */\n    List.prototype.propertyExtractor = function (property) {\n        return function (item, options) {\n            return property ? ((item && item[property]) || null) : item;\n        };\n    };\n    /**\n     * Non-string types are converted to string\n     * Non-string types are extracted as an empty string if they could be converted to false\n     * If no options.sortBy given the item itself is extracted\n     * Compares strings:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    List.prototype.stringComparator = function (a, b, options) {\n        return this.utils.parseString(a).localeCompare(this.utils.parseString(b));\n    };\n    /**\n     * Non-numeric types are extracted as 0 if they could be converted to false\n     * Objects that could not be converted to number are extracted as 0\n     * If no options.sortBy given the item itself is extracted\n     * See parseFloat for more info\n     * Compares numbers:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Function does not check types\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    List.prototype.numberComparator = function (a, b, options) {\n        return (this.utils.parseNumber(a) - this.utils.parseNumber(b));\n    };\n    /**\n     * Function extracts (using _extractFn_ option) values of a property (_sortBy_ option) and compares them using\n     * compare function (_compareFn_ option, by default Helper.stringComparator)\n     * Merged options are provided to _extractFn_ and _compareFn_\n     * TODO Check memory leaks for all that options links\n     */\n    List.prototype.comparator = function (options) {\n        options = this.utils.extend({\n            extractFn: this.propertyExtractor((options && options.sortBy) || null).bind(this),\n            compareFn: this.stringComparator.bind(this)\n        }, options);\n        return function (item1, item2) {\n            return options.compareFn(options.extractFn(item1, options), options.extractFn(item2, options), options);\n        };\n    };\n    List.prototype.equalsFilter = function (obj, options) {\n        return (options.condition === obj);\n    };\n    /**\n     * @param {string} obj\n     * @param {IListFilterOptions} options\n     * @returns {boolean}\n     */\n    List.prototype.containsFilter = function (obj, options) {\n        return (obj && obj.toString().indexOf(options.condition) > -1);\n    };\n    List.prototype.regexpFilter = function (obj, options) {\n        if (!(options.condition instanceof RegExp))\n            throw new Error('Condition must be an instance of RegExp');\n        return (options.condition.test(obj));\n    };\n    /**\n     * Function extracts (using `extractFn` option) values of a property (`filterBy` option) and filters them using\n     * compare function (`filterFn` option, by default Helper.equalsFilter)\n     * Merged options are provided to `extractFn` and `compareFn`\n     * Set `filterBy` to null to force `propertyExtractor` to return object itself\n     * TODO Check memory leaks for all that options links\n     */\n    List.prototype.filter = function (filterConfigs) {\n        var _this = this;\n        var self = this;\n        filterConfigs = (filterConfigs || []).map(function (opt) {\n            return _this.utils.extend({\n                condition: '',\n                extractFn: self.propertyExtractor((opt && opt.filterBy) || null).bind(_this),\n                filterFn: self.equalsFilter.bind(_this)\n            }, opt);\n        });\n        return function (item) {\n            return filterConfigs.reduce(function (pass, opt) {\n                if (!pass || !opt.condition)\n                    return pass;\n                return opt.filterFn(opt.extractFn(item, opt), opt);\n            }, true);\n        };\n    };\n    return List;\n})();\nexports.List = List;\nfunction $get(context) {\n    return context.createSingleton('List', function () {\n        return new List(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar utils = __webpack_require__(20);\nvar Log = (function () {\n    function Log(context, console) {\n        if (!console) {\n            console = {\n                log: function () {\n                },\n                warn: function () {\n                },\n                info: function () {\n                },\n                error: function () {\n                }\n            };\n        }\n        this.context = context;\n        this.console = console;\n        this.utils = utils.$get(context);\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n        this.addTimestamps = false;\n    }\n    Log.prototype.disableAll = function () {\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n    };\n    Log.prototype.enableAll = function () {\n        this.logDebug = true;\n        this.logInfo = true;\n        this.logWarnings = true;\n        this.logErrors = true;\n    };\n    Log.prototype.parseArguments = function (args) {\n        args = this.utils.argumentsToArray(args);\n        if (this.addTimestamps)\n            args.unshift(new Date().toLocaleString(), '-');\n        return args;\n    };\n    Log.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logDebug)\n            this.console.log.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logInfo)\n            this.console.info.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logWarnings)\n            this.console.warn.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logErrors)\n            this.console.error.apply(this.console, this.parseArguments(arguments));\n    };\n    return Log;\n})();\nexports.Log = Log;\nfunction $get(context) {\n    return context.createSingleton('Log', function () {\n        return new Log(context, console);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar utils = __webpack_require__(20);\nvar log = __webpack_require__(15);\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @alias RCSDK.core.Observable\n     */\n    function Observable(context) {\n        if (!(this instanceof Observable))\n            throw new Error('Observable(): New operator was omitted');\n        Object.defineProperty(this, 'listeners', { value: {}, enumerable: false, writable: true });\n        Object.defineProperty(this, 'oneTimeEvents', { value: {}, enumerable: false, writable: true });\n        Object.defineProperty(this, 'oneTimeArguments', { value: {}, enumerable: false, writable: true });\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.log = log.$get(context);\n    }\n    Observable.prototype.hasListeners = function (event) {\n        return (event in this.listeners);\n    };\n    Observable.prototype.registerOneTimeEvent = function (event) {\n        this.oneTimeEvents[event] = false;\n        this.oneTimeArguments[event] = [];\n    };\n    Observable.prototype.on = function (events, callback) {\n        var _this = this;\n        if (typeof events == 'string')\n            events = [events];\n        if (!events)\n            throw new Error('No events to subscribe to');\n        if (typeof callback !== 'function')\n            throw new Error('Callback must be a function');\n        var self = this;\n        events.forEach(function (event) {\n            if (!self.hasListeners(event))\n                self.listeners[event] = [];\n            self.listeners[event].push(callback);\n            if (self.isOneTimeEventFired(event)) {\n                _this.log.debug('Observable.on(%s): One-time event has been fired already, executing callback', event);\n                callback.apply(self, self.getOneTimeEventArgumens(event));\n            }\n        });\n        return this;\n    };\n    Observable.prototype.emit = function (event) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (this.isOneTimeEventFired(event)) {\n            this.log.debug('Observable.emit(%s): One-time event has been fired already', event);\n            return null;\n        }\n        var result = null;\n        if (this.isOneTimeEvent(event)) {\n            this.setOneTimeEventFired(event);\n            this.setOneTimeEventArgumens(event, args);\n        }\n        if (!this.hasListeners(event))\n            return null;\n        this.listeners[event].some(function (callback) {\n            result = callback.apply(_this, args);\n            return (result === false);\n        });\n        return result;\n    };\n    Observable.prototype.off = function (event, callback) {\n        var _this = this;\n        var self = this;\n        if (!callback) {\n            delete this.listeners[event];\n        }\n        else {\n            if (!this.hasListeners(event))\n                return this;\n            this.listeners[event].forEach(function (cb, i) {\n                if (cb === callback)\n                    delete _this.listeners[event][i];\n            });\n        }\n        return this;\n    };\n    Observable.prototype.isOneTimeEvent = function (event) {\n        return (event in this.oneTimeEvents);\n    };\n    Observable.prototype.isOneTimeEventFired = function (event) {\n        if (!this.isOneTimeEvent(event))\n            return false;\n        return (this.oneTimeEvents[event]);\n    };\n    Observable.prototype.setOneTimeEventFired = function (event) {\n        this.oneTimeEvents[event] = true;\n    };\n    Observable.prototype.setOneTimeEventArgumens = function (event, args) {\n        this.oneTimeArguments[event] = args;\n    };\n    Observable.prototype.getOneTimeEventArgumens = function (event) {\n        return this.oneTimeArguments[event];\n    };\n    Observable.prototype.offAll = function () {\n        this.listeners = {};\n        this.oneTimeEvents = {};\n        this.oneTimeArguments = {};\n        return this;\n    };\n    Observable.prototype.destroy = function () {\n        this.offAll();\n        this.log.debug('Observable.destroy(): Listeners were destroyed');\n        return this;\n    };\n    Observable.prototype.emitAndCallback = function (event, args, callback) {\n        args = this.utils.argumentsToArray(args);\n        if (event)\n            this.emit.apply(this, [event].concat(args));\n        if (callback)\n            callback.apply(this, args);\n        return this;\n    };\n    return Observable;\n})();\nexports.Observable = Observable;\nfunction $get(context) {\n    return new Observable(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(16);\nvar PageVisibility = (function (_super) {\n    __extends(PageVisibility, _super);\n    function PageVisibility(context) {\n        var _this = this;\n        _super.call(this, context);\n        this.events = {\n            change: 'change'\n        };\n        var hidden = \"hidden\", onchange = function (evt) {\n            evt = evt || window.event;\n            var v = 'visible', h = 'hidden', evtMap = {\n                focus: v,\n                focusin: v,\n                pageshow: v,\n                blur: h,\n                focusout: h,\n                pagehide: h\n            };\n            _this.visible = (evt.type in evtMap) ? evtMap[evt.type] == v : !document[hidden];\n            _this.emit(_this.events.change, _this.visible);\n        };\n        this.visible = true;\n        if (typeof document == 'undefined' || typeof window == 'undefined')\n            return;\n        // Standards:\n        if (hidden in document)\n            document.addEventListener(\"visibilitychange\", onchange);\n        else if ((hidden = \"mozHidden\") in document)\n            document.addEventListener(\"mozvisibilitychange\", onchange);\n        else if ((hidden = \"webkitHidden\") in document)\n            document.addEventListener(\"webkitvisibilitychange\", onchange);\n        else if ((hidden = \"msHidden\") in document)\n            document.addEventListener(\"msvisibilitychange\", onchange);\n        else if ('onfocusin' in document)\n            document.onfocusin = document.onfocusout = onchange;\n        else\n            window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;\n    }\n    PageVisibility.prototype.isVisible = function () {\n        return this.visible;\n    };\n    return PageVisibility;\n})(observable.Observable);\nexports.PageVisibility = PageVisibility;\nfunction $get(context) {\n    return new PageVisibility(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(16);\nvar cache = __webpack_require__(11);\nvar request = __webpack_require__(45);\nvar Platform = (function (_super) {\n    __extends(Platform, _super);\n    function Platform(context) {\n        _super.call(this, context);\n        this.events = {\n            accessViolation: 'accessViolation',\n            logoutSuccess: 'logoutSuccess',\n            logoutError: 'logoutError',\n            authorizeSuccess: 'authorizeSuccess',\n            authorizeError: 'authorizeError',\n            refreshSuccess: 'refreshSuccess',\n            refreshError: 'refreshError'\n        };\n        this.server = '';\n        this.apiKey = '';\n        this.account = '~';\n        this.urlPrefix = '/restapi';\n        this.apiVersion = 'v1.0';\n        this.accountPrefix = '/account/';\n        this.accessTokenTtl = null; // Platform server by default sets it to 60 * 60 = 1 hour\n        this.refreshTokenTtl = 10 * 60 * 60; // 10 hours\n        this.refreshTokenTtlRemember = 7 * 24 * 60 * 60; // 1 week\n        this.refreshHandicapMs = 60 * 1000; // 1 minute\n        this.refreshDelayMs = 100;\n        this.clearCacheOnRefreshError = true;\n        this.refreshPromise = null;\n        this.cacheId = 'platform';\n        this.pollInterval = 250;\n        this.releaseTimeout = 5000; // If queue was not released then force it to do so after some timeout\n    }\n    Platform.prototype.getStorage = function () {\n        return cache.$get(this.context);\n    };\n    Platform.prototype.getRequest = function () {\n        return request.$get(this.context);\n    };\n    Platform.prototype.clearStorage = function () {\n        this.getStorage().clean();\n        return this;\n    };\n    Platform.prototype.setCredentials = function (appKey, appSecret) {\n        var apiKey = (appKey || '') + ':' + (appSecret || '');\n        if (apiKey == ':')\n            return this;\n        this.apiKey = (typeof btoa == 'function') ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n        return this;\n    };\n    Platform.prototype.setServer = function (server) {\n        this.server = server || '';\n        return this;\n    };\n    Platform.prototype.remember = function (remember) {\n        var key = this.cacheId + '-remember';\n        if (remember !== undefined) {\n            this.getStorage().setItem(key, remember);\n            return this;\n        }\n        return this.getStorage().getItem(key) || false;\n    };\n    Platform.prototype.authorize = function (options) {\n        var _this = this;\n        options = options || {};\n        options.remember = options.remember || false;\n        return this.authCall({\n            url: '/restapi/oauth/token',\n            post: {\n                \"grant_type\": \"password\",\n                \"username\": options.username,\n                \"extension\": options.extension || '',\n                \"password\": options.password,\n                \"access_token_ttl\": this.accessTokenTtl,\n                \"refresh_token_ttl\": options.remember ? this.refreshTokenTtlRemember : this.refreshTokenTtl\n            }\n        }).then(function (response) {\n            _this.setCache(response.data).remember(options.remember).emitAndCallback(_this.events.authorizeSuccess, []);\n            return response;\n        }).catch(function (e) {\n            _this.clearStorage().emitAndCallback(_this.events.authorizeError, [e]);\n            throw e;\n        });\n    };\n    Platform.prototype.isPaused = function () {\n        var storage = this.getStorage(), cacheId = this.cacheId + '-refresh';\n        return !!storage.getItem(cacheId) && Date.now() - parseInt(storage.getItem(cacheId)) < this.releaseTimeout;\n    };\n    Platform.prototype.pause = function () {\n        this.getStorage().setItem(this.cacheId + '-refresh', Date.now());\n        return this;\n    };\n    /**\n     * If the queue is unpaused internally, polling will be cancelled\n     * @returns {Platform}\n     */\n    Platform.prototype.resume = function () {\n        this.getStorage().removeItem(this.cacheId + '-refresh');\n        return this;\n    };\n    Platform.prototype.refresh = function () {\n        var _this = this;\n        var refresh = new (this.context.getPromise())(function (resolve, reject) {\n            if (_this.isPaused()) {\n                return resolve(_this.refreshPolling(null));\n            }\n            else {\n                _this.pause();\n            }\n            // Make sure all existing AJAX calls had a chance to reach the server\n            setTimeout(function () {\n                var authData = _this.getAuthData();\n                _this.log.debug('Platform.refresh(): Performing token refresh (access token', authData.access_token, ', refresh token', authData.refresh_token, ')');\n                if (!authData || !authData.refresh_token)\n                    return reject(new Error('Refresh token is missing'));\n                if (Date.now() > authData.refreshExpireTime)\n                    return reject(new Error('Refresh token has expired'));\n                if (!_this.isPaused())\n                    return reject(new Error('Queue was resumed before refresh call'));\n                resolve(_this.authCall({\n                    url: '/restapi/oauth/token',\n                    post: {\n                        \"grant_type\": \"refresh_token\",\n                        \"refresh_token\": authData.refresh_token,\n                        \"access_token_ttl\": _this.accessTokenTtl,\n                        \"refresh_token_ttl\": _this.remember() ? _this.refreshTokenTtlRemember : _this.refreshTokenTtl\n                    }\n                }));\n            }, _this.refreshDelayMs);\n        });\n        return refresh.then(function (response) {\n            // This means refresh has happened elsewhere and we are here because of timeout\n            if (!response || !response.data)\n                return response;\n            _this.log.info('Platform.refresh(): Token was refreshed');\n            if (!response.data.refresh_token || !response.data.access_token) {\n                var e = new Error('Malformed OAuth response');\n                e.ajax = response;\n                throw e;\n            }\n            _this.setCache(response.data).resume();\n            return response;\n        }).then(function (result) {\n            _this.emit(_this.events.refreshSuccess, result);\n            return result;\n        }).catch(function (e) {\n            if (_this.clearCacheOnRefreshError)\n                _this.clearStorage();\n            _this.emitAndCallback(_this.events.accessViolation, [e]).emitAndCallback(_this.events.refreshError, [e]);\n            throw e;\n        });\n    };\n    /**\n     * @returns {Promise}\n     */\n    Platform.prototype.logout = function () {\n        var _this = this;\n        this.pause();\n        return this.authCall({\n            url: '/restapi/oauth/revoke',\n            post: {\n                token: this.getToken()\n            }\n        }).then(function (response) {\n            _this.resume().clearStorage().emit(_this.events.logoutSuccess, response);\n            return response;\n        }).catch(function (e) {\n            _this.resume().emitAndCallback(_this.events.accessViolation, [e]).emitAndCallback(_this.events.logoutError, [e]);\n            throw e;\n        });\n    };\n    Platform.prototype.refreshPolling = function (result) {\n        var _this = this;\n        if (this.refreshPromise)\n            return this.refreshPromise;\n        this.refreshPromise = new (this.context.getPromise())(function (resolve, reject) {\n            _this.log.warn('Platform.refresh(): Refresh is already in progress polling started');\n            _this.utils.poll(function (next) {\n                if (_this.isPaused())\n                    return next();\n                _this.refreshPromise = null;\n                _this.resume();\n                if (_this.isTokenValid()) {\n                    resolve(result);\n                }\n                else {\n                    reject(new Error('Automatic authentification timeout'));\n                }\n            }, _this.pollInterval);\n        });\n        return this.refreshPromise;\n    };\n    Platform.prototype.getToken = function () {\n        return this.getAuthData().access_token;\n    };\n    Platform.prototype.getTokenType = function () {\n        return this.getAuthData().token_type;\n    };\n    Platform.prototype.getAuthData = function () {\n        return this.getStorage().getItem(this.cacheId) || {\n            token_type: '',\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        };\n    };\n    /**\n     * Check if there is a valid (not expired) access token\n     */\n    Platform.prototype.isTokenValid = function () {\n        var authData = this.getAuthData();\n        return (authData.token_type == Platform.forcedTokenType || (new Date(authData.expireTime).getTime() - this.refreshHandicapMs) > Date.now() && !this.isPaused());\n    };\n    /**\n     * Checks if user is authorized\n     * If there is no access token, refresh will be performed\n     */\n    Platform.prototype.isAuthorized = function () {\n        if (this.isTokenValid())\n            return this.context.getPromise().resolve(true);\n        return this.refresh();\n    };\n    Platform.prototype.cancelAccessToken = function () {\n        return this.setCache(this.utils.extend(this.getAuthData(), {\n            access_token: '',\n            expires_in: 0\n        }));\n    };\n    Platform.prototype.setCache = function (authData) {\n        var oldAuthData = this.getAuthData();\n        this.log.info('Platform.setCache(): Tokens were updated, new:', authData, ', old:', oldAuthData);\n        authData.expireTime = Date.now() + (authData.expires_in * 1000);\n        authData.refreshExpireTime = Date.now() + (authData.refresh_token_expires_in * 1000);\n        this.getStorage().setItem(this.cacheId, authData);\n        return this;\n    };\n    Platform.prototype.forceAuthentication = function () {\n        this.setCache({\n            token_type: Platform.forcedTokenType,\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        });\n        return this;\n    };\n    Platform.prototype.apiCall = function (options) {\n        var _this = this;\n        options = options || {};\n        options.url = this.apiUrl(options.url, { addServer: true });\n        return this.isAuthorized().then(function () {\n            var token = _this.getToken();\n            return _this.getRequest().setOptions(options).setHeader('Authorization', _this.getTokenType() + (token ? ' ' + token : '')).send();\n        }).catch(function (e) {\n            if (!e.response || !e.response.isUnauthorized())\n                throw e;\n            _this.cancelAccessToken();\n            return _this.refresh().then(function () {\n                // Re-send with same options\n                return _this.apiCall(options);\n            });\n        });\n    };\n    Platform.prototype.get = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'GET';\n        return this.apiCall(options);\n    };\n    Platform.prototype.post = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'POST';\n        return this.apiCall(options);\n    };\n    Platform.prototype.put = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'PUT';\n        return this.apiCall(options);\n    };\n    Platform.prototype['delete'] = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'DELETE';\n        return this.apiCall(options);\n    };\n    Platform.prototype.authCall = function (options) {\n        options = options || {};\n        options.method = options.method || 'POST';\n        options.url = this.apiUrl(options.url, { addServer: true });\n        return this.getRequest().setOptions(options).setHeader('Content-Type', 'application/x-www-form-urlencoded').setHeader('Accept', 'application/json').setHeader('Authorization', 'Basic ' + this.apiKey).send();\n    };\n    /**\n     *\n     * @param url\n     * @param {{addMethod?: string, addToken?: boolean, addServer?: boolean}} [options]\n     * @returns {string}\n     */\n    Platform.prototype.apiUrl = function (url, options) {\n        url = url || '';\n        options = options || {};\n        var builtUrl = '';\n        if (options.addServer && url.indexOf('http://') == -1 && url.indexOf('https://') == -1)\n            builtUrl += this.server;\n        if (url.indexOf(this.urlPrefix) == -1)\n            builtUrl += this.urlPrefix + '/' + this.apiVersion;\n        if (url.indexOf(this.accountPrefix) > -1)\n            builtUrl.replace(this.accountPrefix + '~', this.accountPrefix + this.account);\n        builtUrl += url;\n        if (options.addMethod || options.addToken)\n            builtUrl += (url.indexOf('?') > -1 ? '&' : '?');\n        if (options.addMethod)\n            builtUrl += '_method=' + options.addMethod;\n        if (options.addToken)\n            builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this.getToken();\n        return builtUrl;\n    };\n    Platform.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        return this;\n    };\n    Platform.prototype.on = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Platform.prototype.off = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Platform.prototype.emitAndCallback = function (event, args, callback) {\n        _super.prototype.emitAndCallback.call(this, event, args, callback);\n        return this;\n    };\n    Platform.forcedTokenType = 'forced';\n    return Platform;\n})(observable.Observable);\nexports.Platform = Platform;\nfunction $get(context) {\n    return context.createSingleton('Platform', function () {\n        return new Platform(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(16);\nvar Subscription = (function (_super) {\n    __extends(Subscription, _super);\n    function Subscription(context) {\n        _super.call(this, context);\n        this.events = {\n            notification: 'notification',\n            removeSuccess: 'removeSuccess',\n            removeError: 'removeError',\n            renewSuccess: 'renewSuccess',\n            renewError: 'renewError',\n            subscribeSuccess: 'subscribeSuccess',\n            subscribeError: 'subscribeError'\n        };\n        this.pubnub = null;\n        this.eventFilters = [];\n        this.timeout = null;\n        this.subscription = {\n            eventFilters: [],\n            expirationTime: '',\n            expiresIn: 0,\n            deliveryMode: {\n                transportType: 'PubNub',\n                encryption: false,\n                address: '',\n                subscriberKey: '',\n                secretKey: ''\n            },\n            id: '',\n            creationTime: '',\n            status: '',\n            uri: ''\n        };\n    }\n    Subscription.prototype.getPubnub = function () {\n        return this.context.getPubnub();\n    };\n    Subscription.prototype.getCrypto = function () {\n        return this.context.getCryptoJS();\n    };\n    Subscription.prototype.getPlatform = function () {\n        return __webpack_require__(18).$get(this.context);\n    };\n    /**\n     * Creates or updates subscription if there is an active one\n     * @param {{events?:string[]}} [options] New array of events\n     * @returns {Promise}\n     */\n    Subscription.prototype.register = function (options) {\n        if (this.isSubscribed()) {\n            return this.renew(options);\n        }\n        else {\n            return this.subscribe(options);\n        }\n    };\n    Subscription.prototype.addEvents = function (events) {\n        this.eventFilters = this.eventFilters.concat(events);\n        return this;\n    };\n    Subscription.prototype.setEvents = function (events) {\n        this.eventFilters = events;\n        return this;\n    };\n    Subscription.prototype.getFullEventFilters = function () {\n        var _this = this;\n        return this.eventFilters.map(function (event) {\n            return _this.getPlatform().apiUrl(event);\n        });\n    };\n    Subscription.prototype.subscribe = function (options) {\n        var _this = this;\n        options = options || {};\n        if (options.events)\n            this.eventFilters = options.events;\n        this.clearTimeout();\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.eventFilters || !_this.eventFilters.length)\n                throw new Error('Events are undefined');\n            resolve(_this.getPlatform().apiCall({\n                method: 'POST',\n                url: '/restapi/v1.0/subscription',\n                post: {\n                    eventFilters: _this.getFullEventFilters(),\n                    deliveryMode: {\n                        transportType: 'PubNub'\n                    }\n                }\n            }));\n        }).then(function (ajax) {\n            _this.updateSubscription(ajax.data).subscribeAtPubnub().emit(_this.events.subscribeSuccess, ajax.data);\n            return ajax;\n        }).catch(function (e) {\n            _this.unsubscribe().emit(_this.events.subscribeError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.renew = function (options) {\n        var _this = this;\n        options = options || {};\n        if (options.events)\n            this.eventFilters = options.events;\n        this.clearTimeout();\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.subscription || !_this.subscription.id)\n                throw new Error('Subscription ID is required');\n            if (!_this.eventFilters || !_this.eventFilters.length)\n                throw new Error('Events are undefined');\n            resolve();\n        }).then(function () {\n            return _this.getPlatform().apiCall({\n                method: 'PUT',\n                url: '/restapi/v1.0/subscription/' + _this.subscription.id,\n                post: {\n                    eventFilters: _this.getFullEventFilters()\n                }\n            });\n        }).then(function (ajax) {\n            _this.updateSubscription(ajax.data).emit(_this.events.renewSuccess, ajax.data);\n            return ajax;\n        }).catch(function (e) {\n            _this.unsubscribe().emit(_this.events.renewError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.remove = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            async: true\n        }, options);\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.subscription || !_this.subscription.id)\n                throw new Error('Subscription ID is required');\n            resolve(_this.getPlatform().apiCall({\n                async: !!options.async,\n                // hook and has to be synchronous\n                method: 'DELETE',\n                url: '/restapi/v1.0/subscription/' + _this.subscription.id\n            }));\n        }).then(function (ajax) {\n            _this.unsubscribe().emit(_this.events.removeSuccess, ajax);\n            return ajax;\n        }).catch(function (e) {\n            _this.emit(_this.events.removeError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.destroy = function () {\n        this.unsubscribe();\n        this.log.info('RC.core.Subscription: Destroyed');\n        return _super.prototype.destroy.call(this);\n    };\n    Subscription.prototype.isSubscribed = function () {\n        return this.subscription && this.subscription.deliveryMode && this.subscription.deliveryMode.subscriberKey && this.subscription.deliveryMode.address;\n    };\n    Subscription.prototype.setTimeout = function () {\n        var _this = this;\n        var timeToExpiration = (this.subscription.expiresIn * 1000) - Subscription.renewHandicapMs;\n        this.timeout = setTimeout(function () {\n            _this.renew({});\n        }, timeToExpiration);\n    };\n    Subscription.prototype.clearTimeout = function () {\n        clearTimeout(this.timeout);\n    };\n    Subscription.prototype.updateSubscription = function (subscription) {\n        this.clearTimeout();\n        this.subscription = subscription;\n        this.setTimeout();\n        return this;\n    };\n    /**\n     * Remove subscription and disconnect from PUBNUB\n     */\n    Subscription.prototype.unsubscribe = function () {\n        this.clearTimeout();\n        if (this.pubnub && this.isSubscribed())\n            this.pubnub.unsubscribe({ channel: this.subscription.deliveryMode.address });\n        this.subscription = null;\n        return this;\n    };\n    /**\n     * Do not use this method! Internal use only\n     * @param message\n     * @returns {Subscription}\n     */\n    Subscription.prototype.notify = function (message) {\n        if (this.isSubscribed() && this.subscription.deliveryMode.encryptionKey) {\n            var CryptoJS = this.getCrypto();\n            var key = CryptoJS.enc.Base64.parse(this.subscription.deliveryMode.encryptionKey);\n            var data = CryptoJS.enc.Base64.parse(message);\n            var decrypted = CryptoJS.AES.decrypt({ ciphertext: data }, key, {\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            }).toString(CryptoJS.enc.Utf8);\n            message = JSON.parse(decrypted);\n        }\n        this.emit(this.events.notification, message);\n        return this;\n    };\n    /**\n     * Do not use this method! Internal use only\n     * @returns {Subscription}\n     */\n    Subscription.prototype.subscribeAtPubnub = function () {\n        var _this = this;\n        if (!this.isSubscribed())\n            return this;\n        var PUBNUB = this.getPubnub();\n        this.pubnub = PUBNUB.init({\n            ssl: true,\n            subscribe_key: this.subscription.deliveryMode.subscriberKey\n        });\n        this.pubnub.ready();\n        this.pubnub.subscribe({\n            channel: this.subscription.deliveryMode.address,\n            message: function (message, env, channel) {\n                _this.log.info('RC.core.Subscription: Incoming message', message);\n                _this.notify(message);\n            },\n            connect: function () {\n                _this.log.info('RC.core.Subscription: PUBNUB connected');\n            }\n        });\n        return this;\n    };\n    Subscription.prototype.on = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Subscription.prototype.off = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Subscription.prototype.emitAndCallback = function (event, args, callback) {\n        _super.prototype.emitAndCallback.call(this, event, args, callback);\n        return this;\n    };\n    Subscription.renewHandicapMs = 60 * 1000;\n    return Subscription;\n})(observable.Observable);\nexports.Subscription = Subscription;\nfunction $get(context) {\n    return new Subscription(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar hasOwn = Object.prototype.hasOwnProperty, toString = Object.prototype.toString, rdigit = /\\d/, class2type = {};\n// Populate the class2type map\n'Boolean Number String Function Array Date RegExp Object'.split(' ').forEach(function (name) {\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n});\nvar Utils = (function () {\n    function Utils() {\n    }\n    /**\n     * Ported from jQuery.fn.extend\n     * Optional first parameter makes deep copy\n     */\n    Utils.prototype.extend = function (targetObject, sourceObject) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;\n        // Handle a deep copy situation\n        if (typeof target === \"boolean\") {\n            deep = target;\n            // skip the boolean and the target\n            target = arguments[i] || {};\n            i++;\n        }\n        // Handle case when target is a string or something (possible in deep copy)\n        if (typeof target !== \"object\" && !this.isFunction(target)) {\n            target = {};\n        }\n        for (; i < length; i++) {\n            // Only deal with non-null/undefined values\n            if ((options = arguments[i]) !== null) {\n                for (name in options) {\n                    src = target[name];\n                    copy = options[name];\n                    // Prevent never-ending loop\n                    if (target === copy) {\n                        continue;\n                    }\n                    // Recurse if we're merging plain objects or arrays\n                    if (deep && copy && (this.isPlainObject(copy) || (copyIsArray = this.isArray(copy)))) {\n                        if (copyIsArray) {\n                            copyIsArray = false;\n                            clone = src && this.isArray(src) ? src : [];\n                        }\n                        else {\n                            clone = src && this.isPlainObject(src) ? src : {};\n                        }\n                        // Never move original objects, clone them\n                        target[name] = this.extend(deep, clone, copy);\n                    }\n                    else if (copy !== undefined) {\n                        target[name] = copy;\n                    }\n                }\n            }\n        }\n        // Return the modified object\n        return target;\n    };\n    Utils.prototype.forEach = function (object, cb) {\n        for (var i in object) {\n            if (!object.hasOwnProperty(i))\n                continue;\n            var res = cb(object[i], i);\n            if (res === false)\n                break;\n        }\n    };\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n     * @param {object} parameters\n     * @returns {string}\n     */\n    Utils.prototype.queryStringify = function (parameters) {\n        var _this = this;\n        var array = [];\n        this.forEach(parameters, function (v, i) {\n            if (_this.isArray(v)) {\n                v.forEach(function (vv) {\n                    array.push(encodeURIComponent(i) + '=' + encodeURIComponent(vv));\n                });\n            }\n            else {\n                array.push(encodeURIComponent(i) + '=' + encodeURIComponent(v));\n            }\n        });\n        return array.join('&');\n    };\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n     * @param {string} queryString\n     * @returns {object}\n     */\n    Utils.prototype.parseQueryString = function (queryString) {\n        var argsParsed = {}, self = this;\n        queryString.split('&').forEach(function (arg) {\n            arg = decodeURIComponent(arg);\n            if (arg.indexOf('=') == -1) {\n                argsParsed[arg.trim()] = true;\n            }\n            else {\n                var pair = arg.split('='), key = pair[0].trim(), value = pair[1].trim();\n                if (key in argsParsed) {\n                    if (key in argsParsed && !self.isArray(argsParsed[key]))\n                        argsParsed[key] = [argsParsed[key]];\n                    argsParsed[key].push(value);\n                }\n                else {\n                    argsParsed[key] = value;\n                }\n            }\n        });\n        return argsParsed;\n    };\n    /**\n     * Returns true if the passed value is valid email address.\n     * Checks multiple comma separated emails according to RFC 2822 if parameter `multiple` is `true`\n     */\n    Utils.prototype.isEmail = function (v, multiple) {\n        if (!!multiple) {\n            //this Regexp is also suitable for multiple emails (comma separated)\n            return /^(?:[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?[ ,;]*)+$/i.test(v);\n        }\n        else {\n            return /^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(v);\n        }\n    };\n    Utils.prototype.isPhoneNumber = function (v) {\n        return (/\\+?1[0-9]{3}[0-9a-z]{7}/im.test(v.toString().split(/[^0-9a-z\\+]/im).join('')));\n    };\n    /**\n     * @param args\n     * @returns {Array}\n     */\n    Utils.prototype.argumentsToArray = function (args) {\n        return Array.prototype.slice.call(args || [], 0);\n    };\n    Utils.prototype.isDate = function (obj) {\n        return this.type(obj) === \"date\";\n    };\n    Utils.prototype.isFunction = function (obj) {\n        return this.type(obj) === \"function\";\n    };\n    Utils.prototype.isArray = function (obj) {\n        return Array.isArray ? Array.isArray(obj) : this.type(obj) === \"array\";\n    };\n    // A crude way of determining if an object is a window\n    Utils.prototype.isWindow = function (obj) {\n        return obj && typeof obj === \"object\" && \"setInterval\" in obj;\n    };\n    Utils.prototype.isNaN = function (obj) {\n        return obj === null || !rdigit.test(obj) || isNaN(obj);\n    };\n    Utils.prototype.type = function (obj) {\n        return obj === null ? String(obj) : class2type[toString.call(obj)] || \"object\";\n    };\n    Utils.prototype.isPlainObject = function (obj) {\n        // Must be an Object.\n        // Because of IE, we also have to check the presence of the constructor property.\n        // Make sure that DOM nodes and window objects don't pass through, as well\n        if (!obj || this.type(obj) !== \"object\" || obj.nodeType || this.isWindow(obj)) {\n            return false;\n        }\n        // Not own constructor property must be Object\n        if (obj.constructor && !hasOwn.call(obj, \"constructor\") && !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n            return false;\n        }\n        // Own properties are enumerated firstly, so to speed up,\n        // if last one is own, then all properties are own.\n        var key;\n        for (key in obj) {\n        }\n        return key === undefined || hasOwn.call(obj, key);\n    };\n    Utils.prototype.getProperty = function (obj, property) {\n        return property.split(/[.[\\]]/).reduce(function (res, part) {\n            if (!res)\n                return undefined;\n            return part ? res[part] : res;\n        }, obj);\n    };\n    Utils.prototype.poll = function (fn, interval, timeout) {\n        this.stopPolling(timeout);\n        interval = interval || 1000;\n        var next = function (delay) {\n            delay = delay || interval;\n            interval = delay;\n            return setTimeout(function () {\n                fn(next, delay);\n            }, delay);\n        };\n        return next();\n    };\n    Utils.prototype.stopPolling = function (timeout) {\n        if (timeout)\n            clearTimeout(timeout);\n    };\n    Utils.prototype.parseString = function (s) {\n        return s ? s.toString() : '';\n    };\n    Utils.prototype.parseNumber = function (n) {\n        if (!n)\n            return 0;\n        n = parseFloat(n);\n        return isNaN(n) ? 0 : n;\n    };\n    return Utils;\n})();\nexports.Utils = Utils;\nfunction $get(context) {\n    return context.createSingleton('Utils', function () {\n        return new Utils();\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar utils = __webpack_require__(20);\nvar Validator = (function () {\n    function Validator(context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Validator.prototype.validate = function (validators) {\n        var result = {\n            errors: {},\n            isValid: true\n        };\n        result.errors = validators.reduce(function (errors, validator) {\n            var res = validator.validator();\n            if (res.length > 0) {\n                result.isValid = false;\n                errors[validator.field] = errors[validator.field] || [];\n                errors[validator.field] = errors[validator.field].concat(res);\n            }\n            return errors;\n        }, {});\n        return result;\n    };\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * @deprecated\n     */\n    Validator.prototype.email = function (value, multiple) {\n        var _this = this;\n        return function () {\n            if (!value)\n                return [];\n            return _this.utils.isEmail(value, multiple) ? [] : [new Error('Value has to be a valid email')];\n        };\n    };\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * TODO International phone numbers\n     * @deprecated\n     */\n    Validator.prototype.phone = function (value) {\n        var _this = this;\n        return function () {\n            if (!value)\n                return [];\n            return _this.utils.isPhoneNumber(value) ? [] : [new Error('Value has to be a valid US phone number')];\n        };\n    };\n    Validator.prototype.required = function (value) {\n        return function () {\n            return !value ? [new Error('Field is required')] : [];\n        };\n    };\n    Validator.prototype.length = function (value, max, min) {\n        return function () {\n            var errors = [];\n            if (!value)\n                return errors;\n            value = value.toString();\n            if (min && value.length < min)\n                errors.push(new Error('Minimum length of ' + min + ' characters is required'));\n            if (max && value.length > max)\n                errors.push(new Error('Maximum length of ' + max + ' characters is required'));\n            return errors;\n        };\n    };\n    return Validator;\n})();\nexports.Validator = Validator;\nfunction $get(context) {\n    return context.createSingleton('Validator', function () {\n        return new Validator(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar Account = (function (_super) {\n    __extends(Account, _super);\n    function Account() {\n        _super.apply(this, arguments);\n    }\n    Account.prototype.createUrl = function () {\n        return '/account/~';\n    };\n    return Account;\n})(helper.Helper);\nexports.Account = Account;\nfunction $get(context) {\n    return context.createSingleton('Account', function () {\n        return new Account(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar validator = __webpack_require__(21);\nvar BlockedNumber = (function (_super) {\n    __extends(BlockedNumber, _super);\n    function BlockedNumber(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    BlockedNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId ? options.extensionId : '~') + '/blocked-number' + (id ? '/' + id : '');\n    };\n    BlockedNumber.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'phoneNumber', validator: this.validator.phone(item.phoneNumber) },\n            { field: 'phoneNumber', validator: this.validator.required(item.phoneNumber) },\n            { field: 'name', validator: this.validator.required(item.name) }\n        ]);\n    };\n    return BlockedNumber;\n})(helper.Helper);\nexports.BlockedNumber = BlockedNumber;\nfunction $get(context) {\n    return context.createSingleton('BlockedNumber', function () {\n        return new BlockedNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar list = __webpack_require__(14);\nvar presence = __webpack_require__(37);\nvar contact = __webpack_require__(25);\nvar Call = (function (_super) {\n    __extends(Call, _super);\n    function Call(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n        this.contact = contact.$get(context);\n        this.presence = presence.$get(context);\n    }\n    Call.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (!('personal' in options) && !('extensionId' in options))\n            options.personal = true;\n        return '/account/~/' + (options.personal || options.extensionId ? ('extension/' + (options.extensionId || '~') + '/') : '') + (options.active ? 'active-calls' : 'call-log') + (id ? '/' + id : '');\n    };\n    Call.prototype.getSessionId = function (call) {\n        return (call && call.sessionId);\n    };\n    Call.prototype.isInProgress = function (call) {\n        return (call && call.result == 'In Progress');\n    };\n    Call.prototype.isAlive = function (call) {\n        return (call && call.availability == 'Alive');\n    };\n    Call.prototype.isInbound = function (call) {\n        return (call && call.direction == 'Inbound');\n    };\n    Call.prototype.isOutbound = function (call) {\n        return !this.isInbound(call);\n    };\n    Call.prototype.isMissed = function (call) {\n        return (call && call.result == 'Missed');\n    };\n    Call.prototype.isFindMe = function (call) {\n        return (call && call.action == 'FindMe');\n    };\n    Call.prototype.getCallerInfo = function (call) {\n        return this.isInbound(call) ? call.from : call.to;\n    };\n    Call.prototype.getAllCallerInfos = function (call) {\n        return [this.getCallerInfo(call)].concat(this.isInbound(call) ? call.to : call.from);\n    };\n    Call.prototype.formatDuration = function (call) {\n        function addZero(v) {\n            return (v < 10) ? '0' + v : v;\n        }\n        var duration = parseInt(call.duration), hours = Math.floor(duration / (60 * 60)), mins = Math.floor((duration % (60 * 60)) / 60), secs = Math.floor(duration % 60);\n        return (hours ? hours + ':' : '') + addZero(mins) + ':' + addZero(secs);\n    };\n    Call.prototype.filter = function (options) {\n        options = this.utils.extend({\n            alive: true,\n            direction: '',\n            type: ''\n        }, options);\n        return this.list.filter([\n            { filterBy: 'direction', condition: options.direction },\n            { filterBy: 'type', condition: options.type }\n        ]);\n    };\n    Call.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'startTime'\n        }, options));\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in\n     * all calls Warning, this function may be performance-consuming, reduce the amount of items passed to contacts\n     * and calls\n     */\n    Call.prototype.attachContacts = function (contacts, calls, options) {\n        var self = this;\n        // Flatten all caller infos from all messages\n        var callerInfos = calls.reduce(function (callerInfos, call) {\n            return callerInfos.concat(self.getAllCallerInfos(call));\n        }, []);\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n    };\n    /**\n     * Check whether pair of calls are two legs of RingOut\n     */\n    Call.prototype.checkMergeability = function (outboundRingOutCall, inboundCall, options) {\n        function getTime(dateString) {\n            return (new Date(dateString)).getTime();\n        }\n        return ((!options.strict || outboundRingOutCall.action && outboundRingOutCall.action.toLowerCase().indexOf('ringout') != -1) && outboundRingOutCall.direction == 'Outbound' && inboundCall.direction == 'Inbound' && ((!inboundCall.startTime && !outboundRingOutCall.startTime) || Math.abs(getTime(inboundCall.startTime) - getTime(outboundRingOutCall.startTime)) < (options.maxStartTimeDiscrepancy || 5000)) && inboundCall.from.phoneNumber == outboundRingOutCall.to.phoneNumber && (inboundCall.to.phoneNumber == outboundRingOutCall.from.phoneNumber || inboundCall.to.name == outboundRingOutCall.from.name));\n    };\n    Call.prototype.combineCalls = function (outboundRingOutCall, inboundCall, options) {\n        options = options || {};\n        var result = [];\n        outboundRingOutCall.hasSubsequent = true;\n        if (options.merge) {\n            outboundRingOutCall.duration = (outboundRingOutCall.duration > inboundCall.duration) ? outboundRingOutCall.duration : inboundCall.duration;\n            // TODO Usually information from inbound call is more accurate for unknown reason\n            outboundRingOutCall.from = inboundCall.to;\n            outboundRingOutCall.to = inboundCall.from;\n            // Push only one \"merged\" outbound call\n            result.push(outboundRingOutCall);\n        }\n        else {\n            // Mark next call as subsequent\n            inboundCall.subsequent = true;\n            inboundCall.startTime = outboundRingOutCall.startTime; // Needed for sort\n            // Push both calls, first outbound then inbound\n            result.push(outboundRingOutCall);\n            result.push(inboundCall);\n        }\n        return result;\n    };\n    /**\n     * (!) Experimental (!)\n     *\n     * Calls in Recent Calls (Call Log) or Active Calls arrays can be combined if they are, for example, two legs of\n     * one RingOut. The logic that stands behind this process is simple:\n     *\n     * - Calls must have opposite directions\n     * - Must have been started within a certain limited time frame\n     * - Must have same phone numbers in their Caller Info sections (from/to)\n     *\n     * ```js\n     * var processedCalls = Call.processCalls(callsArray, {strict: false, merge: true});\n     * ```\n     *\n     * Flags:\n     *\n     * - if `strict` is `true` then only calls with RingOut in `action` property will be affected\n     * - `merge` &mdash; controls whether to merge calls (reducing the length of array) or give them `subsequent`\n     *     and `hasSubsequent` properties\n     */\n    Call.prototype.processCalls = function (calls, options) {\n        var processedCalls = [], callsToMerge = [], self = this;\n        // Iterate through calls\n        calls.forEach(function (call) {\n            var merged = false;\n            call.subsequent = false;\n            call.hasSubsequent = false;\n            // Second cycle to find other leg\n            // It is assumed that call is the outbound, secondCall is inbound\n            calls.some(function (secondCall) {\n                if (call === secondCall)\n                    return false;\n                if (self.checkMergeability(call, secondCall, options)) {\n                    // Push to result array merged call\n                    processedCalls = processedCalls.concat(self.combineCalls(call, secondCall, options));\n                    // Push to array calls that are merged\n                    callsToMerge.push(call);\n                    callsToMerge.push(secondCall);\n                    merged = true;\n                }\n                return merged;\n            });\n        });\n        // After all calls are merged, add non-merged calls\n        calls.forEach(function (call) {\n            if (callsToMerge.indexOf(call) == -1)\n                processedCalls.push(call);\n        });\n        return processedCalls;\n    };\n    /**\n     * Converts Presence's ActiveCall array into regular Calls array\n     */\n    Call.prototype.parsePresenceCalls = function (activeCalls) {\n        var _this = this;\n        return activeCalls.map(function (activeCall) {\n            return {\n                id: activeCall.id,\n                uri: '',\n                sessionId: activeCall.sessionId,\n                from: { phoneNumber: activeCall.from },\n                to: { phoneNumber: activeCall.to },\n                direction: activeCall.direction,\n                startTime: '',\n                duration: 0,\n                type: '',\n                action: '',\n                result: _this.presence.isCallInProgress(activeCall) ? 'In Progress' : activeCall.telephonyStatus,\n                telephonyStatus: activeCall.telephonyStatus // non-standard property for compatibility\n            };\n        });\n    };\n    Call.prototype.getSignature = function (call) {\n        function cleanup(phoneNumber) {\n            return (phoneNumber || '').toString().replace(/[^0-9]/ig, '');\n        }\n        return call.direction + '|' + (call.from && cleanup(call.from.phoneNumber)) + '|' + (call.to && cleanup(call.to.phoneNumber));\n    };\n    Call.prototype.mergePresenceCalls = function (presenceCalls, presence) {\n        var currentDate = new Date(), activeCalls = this.parsePresenceCalls(presence && presence.activeCalls || []).map(function (call) {\n            // delete property to make sure it is skipped during merge\n            delete call.startTime;\n            return call;\n        });\n        presenceCalls = this.merge(presenceCalls || [], activeCalls, this.getSessionId, true);\n        presenceCalls.forEach(function (call) {\n            if (!call.startTime)\n                call.startTime = currentDate.toISOString();\n        });\n        return presenceCalls;\n    };\n    Call.prototype.mergeAll = function (presenceCalls, calls, activeCalls) {\n        // First, merge calls into presence calls\n        var presenceAndCalls = this.merge(presenceCalls || [], calls || [], this.getSessionId, true);\n        // Second, merge activeCalls into previous result\n        return this.merge(presenceAndCalls, activeCalls || [], this.getSessionId, true);\n    };\n    return Call;\n})(helper.Helper);\nexports.Call = Call;\nfunction $get(context) {\n    return context.createSingleton('Call', function () {\n        return new Call(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar validator = __webpack_require__(21);\nvar list = __webpack_require__(14);\nvar Contact = (function (_super) {\n    __extends(Contact, _super);\n    function Contact(context) {\n        _super.call(this, context);\n        this.phoneFields = [\n            'homePhone',\n            'homePhone2',\n            'businessPhone',\n            'businessPhone2',\n            'mobilePhone',\n            'companyPhone',\n            'assistantPhone',\n            'carPhone',\n            'otherPhone',\n            'callbackPhone'\n        ];\n        this.faxFields = [\n            'businessFax',\n            'otherFax'\n        ];\n        this.addressFields = [\n            'homeAddress',\n            'businessAddress',\n            'otherAddress'\n        ];\n        this.addressSubFields = [\n            'street',\n            'city',\n            'state',\n            'zip'\n        ];\n        this.nameFields = [\n            'firstName',\n            'middleName',\n            'lastName',\n            'nickName'\n        ];\n        this.otherFields = [\n            'company',\n            'jobTitle',\n            'webPage',\n            'notes'\n        ];\n        this.emailFields = [\n            'email',\n            'email2',\n            'email3'\n        ];\n        this.list = list.$get(context);\n        this.validator = validator.$get(context);\n    }\n    Contact.prototype.createUrl = function (options, id) {\n        options = options || {};\n        var root = '/account/~/extension/' + (options.extensionId ? options.extensionId : '~') + '/address-book';\n        if (options.sync)\n            return root + '-sync';\n        return root + (options.groupId ? '/group/' + options.groupId + '/contact' : '/contact') + (id ? '/' + id : '');\n    };\n    /**\n     * Returns all values of the given fields if value exists\n     */\n    Contact.prototype.getFieldValues = function (where, fields, asHash) {\n        return fields.reduce(function (result, field) {\n            if (where && where[field]) {\n                if (asHash) {\n                    result[field] = where[field];\n                }\n                else {\n                    result.push(where[field]);\n                }\n            }\n            return result;\n        }, asHash ? {} : []);\n    };\n    Contact.prototype.getFullName = function (contact) {\n        return this.getFieldValues(contact, this.nameFields).join(' ');\n    };\n    Contact.prototype.getEmails = function (contact, asHash) {\n        return this.getFieldValues(contact, this.emailFields, asHash);\n    };\n    Contact.prototype.getPhones = function (contact, asHash) {\n        return this.getFieldValues(contact, this.phoneFields, asHash);\n    };\n    Contact.prototype.getFaxes = function (contact, asHash) {\n        return this.getFieldValues(contact, this.faxFields, asHash);\n    };\n    Contact.prototype.getAddresses = function (contact, asHash) {\n        return this.getFieldValues(contact, this.addressFields, asHash);\n    };\n    Contact.prototype.isAlive = function (contact) {\n        return (contact.availability == 'Alive');\n    };\n    /**\n     * Matches a contact against a given string, returns null if nothing found\n     */\n    Contact.prototype.match = function (contact, string, options) {\n        var _this = this;\n        options = this.utils.extend({\n            fields: [].concat(this.nameFields, this.emailFields, this.phoneFields, this.faxFields, this.otherFields),\n            inAddresses: true,\n            transformFn: function (value, options) {\n                return value ? value.toString().toLocaleLowerCase() : '';\n            },\n            strict: false\n        }, options);\n        string = options.transformFn(string, options);\n        var found = null;\n        if (!string)\n            return found;\n        var matchWith = function (value) {\n            // skip unnecessary cycles if match has been found\n            if (found)\n                return;\n            var transformed = options.transformFn(value, options);\n            if (!transformed)\n                return;\n            var match = (options.strict ? transformed == string : transformed.indexOf(string) > -1);\n            if (match)\n                found = value;\n        };\n        // Search in fields\n        options.fields.forEach(function (field) {\n            matchWith(contact[field]);\n        });\n        // Search in addresses, skip unnecessary cycles if match has been found\n        if (options.inAddresses && !found)\n            this.addressFields.forEach(function (field) {\n                // skip unnecessary cycles if match has been found or no field value\n                if (!contact[field] || found)\n                    return;\n                _this.addressSubFields.forEach(function (subField) {\n                    matchWith(contact[field][subField]);\n                });\n            });\n        return found;\n    };\n    /**\n     * Matches a contact against a given phone number, returns null if nothing found\n     */\n    Contact.prototype.matchAsPhone = function (contact, phone, options) {\n        return this.match(contact, phone, this.utils.extend({\n            fields: [].concat(this.phoneFields, this.faxFields),\n            inAddresses: false,\n            transformFn: function (value, options) {\n                return value ? value.toString().replace(/[^\\d\\w]/ig, '') : ''; //TODO Trickier removal reqired;\n            },\n            strict: false\n        }, options));\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all given {ICallerInfo}\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and callerInfos\n     */\n    Contact.prototype.attachToCallerInfos = function (callerInfos, contacts, options) {\n        var self = this, callerInfoIndex = this.index(callerInfos, function (callerInfo) {\n            return callerInfo.phoneNumber;\n        }, true);\n        this.utils.forEach(callerInfoIndex, function (indexedCallerInfos, phoneNumber) {\n            var foundContact = null, foundPhone = null;\n            contacts.some(function (contact) {\n                foundPhone = self.matchAsPhone(contact, phoneNumber, options);\n                if (foundPhone)\n                    foundContact = contact;\n                return foundPhone;\n            });\n            if (foundContact) {\n                indexedCallerInfos.forEach(function (callerInfo) {\n                    callerInfo.contact = foundContact;\n                    callerInfo.contactPhone = foundPhone;\n                });\n            }\n        });\n    };\n    Contact.prototype.comparator = function (options) {\n        var self = this;\n        return this.list.comparator(this.utils.extend({\n            extractFn: function (contact, options) {\n                return self.getFullName(contact);\n            }\n        }, options));\n    };\n    /**\n     * TODO Add filtering by group http://jira.ringcentral.com/browse/SDK-4\n     */\n    Contact.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            alive: true,\n            startsWith: '',\n            phonesOnly: false,\n            faxesOnly: false\n        }, options);\n        return this.list.filter([\n            { condition: options.alive, filterFn: this.isAlive },\n            { condition: options.startsWith, filterFn: function (item, opts) {\n                return _this.match(item, opts.condition);\n            } },\n            { condition: options.phonesOnly, filterFn: function (item, opts) {\n                return (_this.getPhones(item).length > 0);\n            } },\n            { condition: options.faxesOnly, filterFn: function (item, opts) {\n                return (_this.getFaxes(item).length > 0);\n            } }\n        ]);\n    };\n    Contact.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'firstName', validator: this.validator.required(item.firstName) },\n            { field: 'lastName', validator: this.validator.required(item.lastName) },\n            { field: 'email', validator: this.validator.email(item.email) },\n            { field: 'email2', validator: this.validator.email(item.email2) },\n            { field: 'email3', validator: this.validator.email(item.email3) }\n        ]);\n    };\n    return Contact;\n})(helper.Helper);\nexports.Contact = Contact;\nfunction $get(context) {\n    return context.createSingleton('Contact', function () {\n        return new Contact(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar validator = __webpack_require__(21);\nvar ContactGroup = (function (_super) {\n    __extends(ContactGroup, _super);\n    function ContactGroup(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    ContactGroup.prototype.createUrl = function (options, id) {\n        return '/account/~/extension/~/address-book/group' + (id ? '/' + id : '');\n    };\n    ContactGroup.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'groupName', validator: this.validator.required(item && item.groupName) }\n        ]);\n    };\n    return ContactGroup;\n})(helper.Helper);\nexports.ContactGroup = ContactGroup;\nfunction $get(context) {\n    return context.createSingleton('ContactGroup', function () {\n        return new ContactGroup(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar Conferencing = (function (_super) {\n    __extends(Conferencing, _super);\n    function Conferencing() {\n        _super.apply(this, arguments);\n    }\n    Conferencing.prototype.createUrl = function () {\n        return '/account/~/extension/~/conferencing';\n    };\n    return Conferencing;\n})(helper.Helper);\nexports.Conferencing = Conferencing;\nfunction $get(context) {\n    return context.createSingleton('Conferencing', function () {\n        return new Conferencing(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar Country = (function (_super) {\n    __extends(Country, _super);\n    function Country() {\n        _super.apply(this, arguments);\n    }\n    Country.prototype.createUrl = function (options, id) {\n        return '/dictionary/country';\n    };\n    return Country;\n})(helper.Helper);\nexports.Country = Country;\nfunction $get(context) {\n    return context.createSingleton('Country', function () {\n        return new Country(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar validator = __webpack_require__(21);\nvar extension = __webpack_require__(31);\nvar deviceModel = __webpack_require__(30);\nvar Device = (function (_super) {\n    __extends(Device, _super);\n    function Device(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n        this.extension = extension.$get(context);\n        this.deviceModel = deviceModel.$get(context);\n    }\n    Device.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (options.order)\n            return '/account/~/order';\n        return '/account/~' + (options.extensionId ? '/extension/' + options.extensionId : '') + '/device' + (id ? '/' + id : '');\n    };\n    /**\n     * @param {IDevice} item\n     */\n    Device.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'emergencyServiceAddress-street', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.street) },\n            { field: 'emergencyServiceAddress-city', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.city) },\n            { field: 'emergencyServiceAddress-state', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.state) },\n            { field: 'emergencyServiceAddress-country', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.country) },\n            { field: 'emergencyServiceAddress-zip', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.zip) },\n            { field: 'emergencyServiceAddress-customerName', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.customerName) },\n            { field: 'extension', validator: this.validator.required(this.extension.getId(item && item.extension)) },\n            { field: 'model', validator: this.validator.required(this.deviceModel.getId(item && item.model)) }\n        ]);\n    };\n    return Device;\n})(helper.Helper);\nexports.Device = Device;\nfunction $get(context) {\n    return context.createSingleton('Device', function () {\n        return new Device(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar DeviceModel = (function (_super) {\n    __extends(DeviceModel, _super);\n    function DeviceModel() {\n        _super.apply(this, arguments);\n        /**\n         * TODO Remove when http://jira.ringcentral.com/browse/SDK-1 is done\n         */\n        this.devices = [\n            {\n                id: '-1',\n                name: 'Softphone'\n            },\n            {\n                id: '0',\n                name: 'Existing device'\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '23',\n                name: 'Polycom IP 321 Basic IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '30',\n                name: 'Polycom IP 550 HD Manager IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '37',\n                name: 'Polycom IP 6000 Conference Phone',\n                deviceClass: 'Conference Phone'\n            },\n            {\n                id: '40',\n                name: 'Polycom IP 335 HD IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '51',\n                name: 'Cisco SPA-303 Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone with 2 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone with 2 Expansion Modules\tDesk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 2 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 3 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '3'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '52',\n                name: 'Cisco SPA-122 ATA',\n                deviceClass: 'Analog Adapter'\n            },\n            {\n                id: '53',\n                name: 'Polycom VVX-500 Color Touchscreen',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '54',\n                name: 'Polycom VVX-310 Gigabit Ethernet Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '55',\n                name: 'Polycom VVX-410 Color Gigabit Ethernet Phone',\n                deviceClass: 'Desk Phone'\n            }\n        ];\n    }\n    DeviceModel.prototype.getId = function (device) {\n        if (!device)\n            return null;\n        return device.id + (device.addons && device.addons[0] ? '-' + device.addons[0].id + '-' + device.addons[0].count : '');\n    };\n    /**\n     * Remove extra textual information from device\n     * @exceptionalCase Platform does not understand full device info\n     */\n    DeviceModel.prototype.cleanForSaving = function (device) {\n        if (!device)\n            return null;\n        delete device.name;\n        delete device.deviceClass;\n        if (device.addons && device.addons.length > 0) {\n            device.addons.forEach(function (addon, i) {\n                delete device.addons[i].name;\n            });\n        }\n        else {\n            delete device.addons;\n        }\n        return device;\n    };\n    return DeviceModel;\n})(helper.Helper);\nexports.DeviceModel = DeviceModel;\nfunction $get(context) {\n    return context.createSingleton('DeviceModel', function () {\n        return new DeviceModel(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar list = __webpack_require__(14);\nvar Extension = (function (_super) {\n    __extends(Extension, _super);\n    function Extension(context) {\n        _super.call(this, context);\n        this.type = {\n            department: 'Department',\n            user: 'User',\n            announcement: 'Announcement',\n            voicemail: 'Voicemail'\n        };\n        this.list = list.$get(context);\n    }\n    Extension.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~' + (options.departmentId ? '/department/' + options.departmentId + '/members' : '/extension') + (id ? '/' + id : '');\n    };\n    Extension.prototype.isUser = function (extension) {\n        return extension && extension.type == this.type.user;\n    };\n    Extension.prototype.isDepartment = function (extension) {\n        return extension && extension.type == this.type.department;\n    };\n    Extension.prototype.isAnnouncement = function (extension) {\n        return extension && extension.type == this.type.announcement;\n    };\n    Extension.prototype.isVoicemail = function (extension) {\n        return extension && extension.type == this.type.voicemail;\n    };\n    Extension.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'extensionNumber',\n            compareFn: this.list.numberComparator\n        }, options));\n    };\n    Extension.prototype.filter = function (options) {\n        options = this.utils.extend({\n            search: '',\n            type: ''\n        }, options);\n        return this.list.filter([\n            { filterBy: 'type', condition: options.type },\n            {\n                condition: options.search.toLocaleLowerCase(),\n                filterFn: this.list.containsFilter,\n                extractFn: function (item) {\n                    return (item.name && (item.name.toLocaleLowerCase() + ' ')) + (item.extensionNumber && item.extensionNumber.toString().toLocaleLowerCase());\n                }\n            }\n        ]);\n    };\n    return Extension;\n})(helper.Helper);\nexports.Extension = Extension;\nfunction $get(context) {\n    return context.createSingleton('Extension', function () {\n        return new Extension(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar list = __webpack_require__(14);\nvar ForwardingNumber = (function (_super) {\n    __extends(ForwardingNumber, _super);\n    function ForwardingNumber(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n    }\n    ForwardingNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId || '~') + '/forwarding-number' + (id ? '/' + id : '');\n    };\n    ForwardingNumber.prototype.getId = function (forwardingNumber) {\n        return forwardingNumber && (forwardingNumber.id || (forwardingNumber.phoneNumber)); //TODO @exceptionalCase\n    };\n    ForwardingNumber.prototype.hasFeature = function (phoneNumber, feature) {\n        return (!!phoneNumber && !!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    };\n    ForwardingNumber.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'label'\n        }, options));\n    };\n    ForwardingNumber.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            features: []\n        }, options);\n        return this.list.filter([{\n            condition: options.features.length,\n            filterFn: function (item) {\n                return options.features.some(function (feature) {\n                    return _this.hasFeature(item, feature);\n                });\n            }\n        }]);\n    };\n    return ForwardingNumber;\n})(helper.Helper);\nexports.ForwardingNumber = ForwardingNumber;\nfunction $get(context) {\n    return context.createSingleton('ForwardingNumber', function () {\n        return new ForwardingNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar Language = (function (_super) {\n    __extends(Language, _super);\n    function Language() {\n        _super.apply(this, arguments);\n        this.languages = [\n            {\n                id: '1033',\n                name: 'English (US)'\n            },\n            {\n                id: '3084',\n                name: 'French (Canada)'\n            }\n        ];\n    }\n    return Language;\n})(helper.Helper);\nexports.Language = Language;\nfunction $get(context) {\n    return context.createSingleton('Language', function () {\n        return new Language(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar list = __webpack_require__(14);\nvar state = __webpack_require__(41);\nvar Location = (function (_super) {\n    __extends(Location, _super);\n    function Location(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n        this.state = state.$get(context);\n    }\n    Location.prototype.createUrl = function () {\n        return '/dictionary/location';\n    };\n    Location.prototype.filter = function (options) {\n        var uniqueNPAs = [];\n        options = this.utils.extend({\n            stateId: '',\n            onlyUniqueNPA: false\n        }, options);\n        return this.list.filter([\n            {\n                condition: options.stateId,\n                filterFn: function (item, opts) {\n                    return (this.state.getId(item.state) == opts.condition);\n                }.bind(this)\n            },\n            {\n                condition: options.onlyUniqueNPA,\n                filterFn: function (item, opts) {\n                    if (uniqueNPAs.indexOf(item.npa) == -1) {\n                        uniqueNPAs.push(item.npa);\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                }\n            }\n        ]);\n    };\n    Location.prototype.comparator = function (options) {\n        options = this.utils.extend({\n            sortBy: 'npa'\n        }, options);\n        if (options.sortBy == 'nxx') {\n            options.extractFn = function (item) {\n                return (parseInt(item.npa) * 1000000) + parseInt(item.nxx);\n            };\n            options.compareFn = this.list.numberComparator;\n        }\n        return this.list.comparator(options);\n    };\n    return Location;\n})(helper.Helper);\nexports.Location = Location;\nfunction $get(context) {\n    return context.createSingleton('Location', function () {\n        return new Location(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar list = __webpack_require__(14);\nvar validator = __webpack_require__(21);\nvar subscription = __webpack_require__(19);\nvar platform = __webpack_require__(18);\nvar contact = __webpack_require__(25);\nvar Message = (function (_super) {\n    __extends(Message, _super);\n    function Message(context) {\n        _super.call(this, context);\n        this.contact = contact.$get(context);\n        this.list = list.$get(context);\n        this.platform = platform.$get(context);\n        this.validator = validator.$get(context);\n    }\n    /**\n     *\n     * @exceptionalCase Different endpoint when creating SMS/Pager\n     */\n    Message.prototype.createUrl = function (options, id) {\n        options = options || {};\n        var root = '/account/~/extension/' + (options.extensionId || '~');\n        if (options.fax)\n            return root + '/fax';\n        if (options.sms)\n            return root + '/sms';\n        if (options.pager)\n            return root + '/company-pager';\n        if (options.sync)\n            return root + '/message-sync';\n        return root + '/message-store' + (id ? '/' + id : '');\n    };\n    Message.prototype.isInbound = function (message) {\n        return (message && message.direction == 'Inbound');\n    };\n    Message.prototype.isOutbound = function (message) {\n        return !this.isInbound(message);\n    };\n    Message.prototype.isSMS = function (message) {\n        return (message && message.type == 'SMS');\n    };\n    Message.prototype.isPager = function (message) {\n        return (message && message.type == 'Pager');\n    };\n    Message.prototype.isVoiceMail = function (message) {\n        return (message && message.type == 'VoiceMail');\n    };\n    Message.prototype.isFax = function (message) {\n        return (message && message.type == 'Fax');\n    };\n    Message.prototype.isAlive = function (message) {\n        //return (this.availability != 'Deleted' && this.availability != 'Purged');\n        return (message && message.availability == 'Alive');\n    };\n    Message.prototype.isRead = function (message) {\n        return (message.readStatus == 'Read');\n    };\n    Message.prototype.setIsRead = function (message, isRead) {\n        message.readStatus = (!!isRead) ? 'Read' : 'Unread';\n        return message;\n    };\n    Message.prototype.getAttachmentUrl = function (message, i) {\n        return message.attachments[i] ? this.platform.apiUrl(message.attachments[i].uri, { addMethod: 'GET', addServer: true, addToken: true }) : '';\n    };\n    Message.prototype.getAttachmentContentType = function (message, i) {\n        return message.attachments[i] ? message.attachments[i].contentType : '';\n    };\n    Message.prototype.getSubscription = function (options) {\n        return subscription.$get(this.context).setEvents([this.createUrl(options)]);\n    };\n    /**\n     * Returns from-phones if inbound (oterwise to-phones)\n     */\n    Message.prototype.getCallerInfos = function (message) {\n        return this.isInbound(message) ? [message.from] : message.to;\n    };\n    /**\n     * Returns first from-phones if inbound (oterwise to-phones), then vice-versa\n     */\n    Message.prototype.getAllCallerInfos = function (message) {\n        return this.getCallerInfos(message).concat(this.isInbound(message) ? message.to : [message.from]);\n    };\n    /**\n     * TODO Compare as dates\n     */\n    Message.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'creationTime'\n        }, options));\n    };\n    Message.prototype.filter = function (options) {\n        options = this.utils.extend({\n            search: '',\n            alive: true,\n            direction: '',\n            conversationId: '',\n            readStatus: ''\n        }, options);\n        return this.list.filter([\n            { condition: options.alive, filterFn: this.isAlive },\n            { filterBy: 'type', condition: options.type },\n            { filterBy: 'direction', condition: options.direction },\n            { filterBy: 'conversationId', condition: options.conversationId },\n            { filterBy: 'readStatus', condition: options.readStatus },\n            { filterBy: 'subject', condition: options.search, filterFn: this.list.containsFilter }\n        ]);\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in all messages\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and messages\n     */\n    Message.prototype.attachContacts = function (contacts, messages, options) {\n        var self = this;\n        // Flatten all caller infos from all messages\n        var callerInfos = messages.reduce(function (callerInfos, message) {\n            return callerInfos.concat(self.getAllCallerInfos(message));\n        }, []);\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n    };\n    Message.prototype.shorten = function (message) {\n        return {\n            from: message.from,\n            to: message.to,\n            text: message.subject\n        };\n    };\n    Message.prototype.validateSMS = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to[0].phoneNumber')) },\n            { field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.phoneNumber')) },\n            { field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject')) },\n            { field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160) }\n        ]);\n    };\n    Message.prototype.validatePager = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to.extensionNumber')) },\n            { field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.extensionNumber')) },\n            { field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject')) },\n            { field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160) }\n        ]);\n    };\n    return Message;\n})(helper.Helper);\nexports.Message = Message;\nfunction $get(context) {\n    return context.createSingleton('Message', function () {\n        return new Message(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar list = __webpack_require__(14);\nvar extension = __webpack_require__(31);\nvar PhoneNumber = (function (_super) {\n    __extends(PhoneNumber, _super);\n    function PhoneNumber(context) {\n        _super.call(this, context);\n        this.extension = extension.$get(context);\n        this.list = list.$get(context);\n    }\n    PhoneNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (options.lookup)\n            return '/number-pool/lookup';\n        return '/account/~' + (options.extensionId ? '/extension/' + options.extensionId : '') + '/phone-number' + (id ? '/' + id : '');\n    };\n    PhoneNumber.prototype.isSMS = function (phoneNumber) {\n        return this.hasFeature(phoneNumber, 'SmsSender');\n    };\n    PhoneNumber.prototype.hasFeature = function (phoneNumber, feature) {\n        return (!!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    };\n    PhoneNumber.prototype.reserve = function (phoneNumber, date) {\n        phoneNumber.reservedTill = new Date(date).toISOString();\n    };\n    PhoneNumber.prototype.unreserve = function (phoneNumber) {\n        phoneNumber.reservedTill = null;\n    };\n    PhoneNumber.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            extractFn: function (item) {\n                return item.usageType + '-' + item.paymentType + '-' + item.type;\n            }\n        }, options));\n    };\n    /**\n     * TODO Add other filtering methods http://jira.ringcentral.com/browse/SDK-5\n     */\n    PhoneNumber.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            usageType: '',\n            paymentType: '',\n            type: '',\n            features: []\n        }, options);\n        return this.list.filter([\n            { filterBy: 'usageType', condition: options.usageType },\n            { filterBy: 'paymentType', condition: options.paymentType },\n            { filterBy: 'type', condition: options.type },\n            {\n                condition: options.features.length,\n                filterFn: function (item) {\n                    return options.features.some(function (feature) {\n                        return _this.hasFeature(item, feature);\n                    });\n                }\n            }\n        ]);\n    };\n    return PhoneNumber;\n})(helper.Helper);\nexports.PhoneNumber = PhoneNumber;\nfunction $get(context) {\n    return context.createSingleton('PhoneNumber', function () {\n        return new PhoneNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar subscription = __webpack_require__(19);\nvar extension = __webpack_require__(31);\nvar Presence = (function (_super) {\n    __extends(Presence, _super);\n    function Presence(context) {\n        _super.call(this, context);\n        this.extension = extension.$get(context);\n    }\n    Presence.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (id || '~') + '/presence' + (options.detailed ? '?detailedTelephonyState=true' : '');\n    };\n    Presence.prototype.getId = function (presence) {\n        return presence && (this.extension.getId(presence.extension) || presence.extensionId);\n    };\n    Presence.prototype.isAvailable = function (presence) {\n        return presence && presence.presenceStatus == 'Available';\n    };\n    Presence.prototype.getSubscription = function (options, id) {\n        return subscription.$get(this.context).setEvents([this.createUrl(options, id)]);\n    };\n    Presence.prototype.updateSubscription = function (subscription, presences, options) {\n        var events = presences.map(this.getId, this).map(function (id) {\n            return this.createUrl(options, id);\n        }, this);\n        subscription.addEvents(events);\n        return subscription;\n    };\n    Presence.prototype.attachToExtensions = function (extensions, presences, merge) {\n        var _this = this;\n        var index = this.index(presences);\n        extensions.forEach(function (ex) {\n            var presence = index[_this.extension.getId(ex)];\n            if (presence) {\n                if ('presence' in ex && merge) {\n                    _this.utils.extend(ex.presence, presence);\n                }\n                else {\n                    ex.presence = presence;\n                }\n            }\n        }, this);\n        return this;\n    };\n    Presence.prototype.isCallInProgress = function (presenceCall) {\n        return (presenceCall && presenceCall.telephonyStatus != 'NoCall');\n    };\n    return Presence;\n})(helper.Helper);\nexports.Presence = Presence;\nfunction $get(context) {\n    return context.createSingleton('Presence', function () {\n        return new Presence(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar validator = __webpack_require__(21);\nvar Ringout = (function (_super) {\n    __extends(Ringout, _super);\n    function Ringout(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    Ringout.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId || '~') + '/ringout' + (id ? '/' + id : '');\n    };\n    Ringout.prototype.resetAsNew = function (object) {\n        object = _super.prototype.resetAsNew.call(this, object);\n        if (object) {\n            delete object.status;\n        }\n        return object;\n    };\n    Ringout.prototype.isInProgress = function (ringout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'InProgress';\n    };\n    Ringout.prototype.isSuccess = function (ringout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'Success';\n    };\n    Ringout.prototype.isError = function (ringout) {\n        return !this.isNew(ringout) && !this.isInProgress(ringout) && !this.isSuccess(ringout);\n    };\n    Ringout.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(item && item.to && item.to.phoneNumber) },\n            { field: 'from', validator: this.validator.required(item && item.from && item.from.phoneNumber) }\n        ]);\n    };\n    return Ringout;\n})(helper.Helper);\nexports.Ringout = Ringout;\nfunction $get(context) {\n    return context.createSingleton('Ringout', function () {\n        return new Ringout(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar Service = (function (_super) {\n    __extends(Service, _super);\n    function Service() {\n        _super.apply(this, arguments);\n        this.isSmsEnabled = this.isServiceFeatureEnabledMethod('SMS');\n        this.isSmsReceivingEnabled = this.isServiceFeatureEnabledMethod('SMSReceiving');\n        this.isPresenceEnabled = this.isServiceFeatureEnabledMethod('Presence');\n        this.isRingOutEnabled = this.isServiceFeatureEnabledMethod('RingOut');\n        this.isInternationalCallingEnabled = this.isServiceFeatureEnabledMethod('InternationalCalling');\n        this.isDndEnabled = this.isServiceFeatureEnabledMethod('DND');\n        this.isFaxEnabled = this.isServiceFeatureEnabledMethod('Fax');\n        this.isFaxReceivingEnabled = this.isServiceFeatureEnabledMethod('FaxReceiving');\n        this.isVoicemailEnabled = this.isServiceFeatureEnabledMethod('Voicemail');\n        this.isPagerEnabled = this.isServiceFeatureEnabledMethod('Pager');\n        this.isPagerReceivingEnabled = this.isServiceFeatureEnabledMethod('PagerReceiving');\n        this.isVoipCallingEnabled = this.isServiceFeatureEnabledMethod('VoipCalling');\n        this.isVideoConferencingEnabled = this.isServiceFeatureEnabledMethod('VideoConferencing');\n        this.isSalesForceEnabled = this.isServiceFeatureEnabledMethod('SalesForce');\n        this.isIntercomEnabled = this.isServiceFeatureEnabledMethod('Intercom');\n        this.isPagingEnabled = this.isServiceFeatureEnabledMethod('Paging');\n        this.isConferencingEnabled = this.isServiceFeatureEnabledMethod('Conferencing');\n        this.isFreeSoftPhoneLinesEnabled = this.isServiceFeatureEnabledMethod('FreeSoftPhoneLines');\n        this.isHipaaComplianceEnabled = this.isServiceFeatureEnabledMethod('HipaaCompliance');\n        this.isCallParkEnabled = this.isServiceFeatureEnabledMethod('CallPark');\n        this.isOnDemandCallRecordingEnabled = this.isServiceFeatureEnabledMethod('OnDemandCallRecording');\n    }\n    Service.prototype.createUrl = function () {\n        return '/account/~/service-info';\n    };\n    Service.prototype.isEnabled = function (feature, serviceFeatures) {\n        return serviceFeatures.reduce(function (value, f) {\n            if (f.featureName == feature)\n                value = f.enabled;\n            return value;\n        }, false);\n    };\n    Service.prototype.isServiceFeatureEnabledMethod = function (feature) {\n        return function (serviceFeatures) {\n            return this.isEnabled(feature, serviceFeatures);\n        };\n    };\n    return Service;\n})(helper.Helper);\nexports.Service = Service;\nfunction $get(context) {\n    return context.createSingleton('Service', function () {\n        return new Service(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar ShippingMethod = (function (_super) {\n    __extends(ShippingMethod, _super);\n    function ShippingMethod() {\n        _super.apply(this, arguments);\n        /**\n         * TODO Remove when http://jira.ringcentral.com/browse/SDK-3 id done\n         */\n        this.shippingMethods = [\n            {\n                id: '1',\n                name: 'Ground Shipping (5-7 business days)'\n            },\n            {\n                id: '2',\n                name: '2-days Shipping'\n            },\n            {\n                id: '3',\n                name: 'Overnight Shipping'\n            }\n        ];\n    }\n    return ShippingMethod;\n})(helper.Helper);\nexports.ShippingMethod = ShippingMethod;\nfunction $get(context) {\n    return context.createSingleton('ShippingMethod', function () {\n        return new ShippingMethod(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar list = __webpack_require__(14);\nvar country = __webpack_require__(28);\nvar State = (function (_super) {\n    __extends(State, _super);\n    function State(context) {\n        _super.call(this, context);\n        this.countryHelper = country.$get(context);\n        this.list = list.$get(context);\n    }\n    State.prototype.createUrl = function () {\n        return '/dictionary/state';\n    };\n    State.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            countryId: ''\n        }, options);\n        return this.list.filter([\n            {\n                condition: options.countryId,\n                filterFn: function (item, opts) {\n                    return (_this.countryHelper.getId(item.country) == opts.condition);\n                }\n            }\n        ]);\n    };\n    return State;\n})(helper.Helper);\nexports.State = State;\nfunction $get(context) {\n    return context.createSingleton('State', function () {\n        return new State(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(13);\nvar Timezone = (function (_super) {\n    __extends(Timezone, _super);\n    function Timezone() {\n        _super.apply(this, arguments);\n    }\n    Timezone.prototype.createUrl = function () {\n        return '/dictionary/timezone';\n    };\n    return Timezone;\n})(helper.Helper);\nexports.Timezone = Timezone;\nfunction $get(context) {\n    return context.createSingleton('Timezone', function () {\n        return new Timezone(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/tsd.d.ts\" />\nvar PubnubMock = (function () {\n    function PubnubMock() {\n    }\n    PubnubMock.prototype.ready = function () {\n    };\n    PubnubMock.prototype.unsubscribe = function (options) {\n    };\n    PubnubMock.prototype.subscribe = function (options) {\n        this.onMessage = options.message;\n    };\n    PubnubMock.prototype.receiveMessage = function (msg) {\n        this.onMessage(msg, 'env', 'channel');\n    };\n    return PubnubMock;\n})();\nexports.PubnubMock = PubnubMock;\nvar PubnubFactory = (function () {\n    function PubnubFactory(context) {\n        this.context = context;\n    }\n    PubnubFactory.prototype.init = function (options) {\n        return new PubnubMock();\n    };\n    return PubnubFactory;\n})();\nexports.PubnubFactory = PubnubFactory;\nfunction $get(context) {\n    return new PubnubFactory(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar utils = __webpack_require__(20);\nvar log = __webpack_require__(15);\nvar xhrResponse = __webpack_require__(9);\nvar XhrMock = (function () {\n    function XhrMock(context) {\n        // Service\n        this.context = context;\n        this.responses = xhrResponse.$get(context);\n        this.log = log.$get(context);\n        this.utils = utils.$get(context);\n        // Request\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.requestHeaders = {};\n        this.withCredentials = false;\n        // Response\n        this.data = null;\n        this.readyState = 0;\n        this.responseHeaders = {};\n        this.status = 0;\n    }\n    XhrMock.prototype.getResponseHeader = function (header) {\n        return this.responseHeaders[header.toLowerCase()];\n    };\n    XhrMock.prototype.setRequestHeader = function (header, value) {\n        this.requestHeaders[header.toLowerCase()] = value;\n    };\n    XhrMock.prototype.getAllResponseHeaders = function () {\n        var res = [];\n        this.utils.forEach(this.responseHeaders, function (value, name) {\n            res.push(name + ':' + value);\n        });\n        return res.join('\\n');\n    };\n    XhrMock.prototype.open = function (method, url, async) {\n        this.method = method;\n        this.url = url;\n        this.async = async;\n    };\n    XhrMock.prototype.send = function (data) {\n        var _this = this;\n        var contentType = this.getRequestHeader('Content-Type');\n        this.data = data;\n        if (this.data && typeof this.data == 'string') {\n            // For convenience encoded post data will be decoded\n            if (contentType == 'application/json')\n                this.data = JSON.parse(this.data);\n            if (contentType == 'application/x-www-form-urlencoded')\n                this.data = this.utils.parseQueryString(this.data);\n        }\n        this.log.debug('API REQUEST', this.method, this.url);\n        var currentResponse = this.responses.find(this);\n        if (!currentResponse) {\n            setTimeout(function () {\n                if (_this.onerror)\n                    _this.onerror(new Error('Unknown request: ' + _this.url));\n            }, 1);\n            return;\n        }\n        this.setStatus(200);\n        this.setResponseHeader('Content-Type', 'application/json');\n        var res = currentResponse.response(this), Promise = this.context.getPromise(), onLoad = function (res) {\n            if (_this.getResponseHeader('Content-Type') == 'application/json')\n                res = JSON.stringify(res);\n            _this.responseText = res;\n            setTimeout(function () {\n                if (_this.onload)\n                    _this.onload();\n            }, 1);\n        };\n        if (res instanceof Promise) {\n            res.then(onLoad.bind(this)).catch(this.onerror.bind(this));\n        }\n        else\n            onLoad(res);\n    };\n    XhrMock.prototype.abort = function () {\n        this.log.debug('XhrMock.destroy(): Aborted');\n    };\n    XhrMock.prototype.getRequestHeader = function (header) {\n        return this.requestHeaders[header.toLowerCase()];\n    };\n    XhrMock.prototype.setResponseHeader = function (header, value) {\n        this.responseHeaders[header.toLowerCase()] = value;\n    };\n    XhrMock.prototype.setStatus = function (status) {\n        this.status = status;\n        return this;\n    };\n    return XhrMock;\n})();\nexports.XhrMock = XhrMock;\nfunction $get(context) {\n    return new XhrMock(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar h = __webpack_require__(46);\nvar ajaxObserver = __webpack_require__(10);\nvar r = __webpack_require__(47);\n/**\n * TODO @see https://github.com/github/fetch/blob/master/fetch.js\n */\nvar Request = (function (_super) {\n    __extends(Request, _super);\n    function Request(context) {\n        _super.call(this, context);\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.query = null;\n        this.body = {};\n        this.context = context;\n        this.xhr = null;\n        this.observer = ajaxObserver.$get(context);\n    }\n    Request.prototype.isLoaded = function () {\n        return !!this.xhr;\n    };\n    //TODO Remove\n    Request.prototype.setHeader = function (name, value) {\n        _super.prototype.setHeader.call(this, name, value);\n        return this;\n    };\n    //TODO Remove\n    Request.prototype.setHeaders = function (headers) {\n        _super.prototype.setHeaders.call(this, headers);\n        return this;\n    };\n    Request.prototype.setOptions = function (options) {\n        options = options || {};\n        // backwards compatibility\n        if (!('body' in options) && options.post)\n            options.body = options.post;\n        if (!('query' in options) && options.get)\n            options.query = options.get;\n        if ('method' in options)\n            this.method = options.method;\n        if ('url' in options)\n            this.url = options.url;\n        if ('query' in options)\n            this.query = options.query;\n        if ('body' in options)\n            this.body = options.body;\n        if ('headers' in options)\n            this.setHeaders(options.headers);\n        if ('async' in options)\n            this.async = !!options.async;\n        return this;\n    };\n    /**\n     * Checks the send options, defaulting various of the options,\n     * and consuming / transforming some of the options (like get).\n     */\n    Request.prototype.checkOptions = function () {\n        if (!this.url)\n            throw new Error('Url is not defined');\n        if (!this.hasHeader('Accept'))\n            this.setHeader('Accept', h.Headers.jsonContentType);\n        if (!this.hasHeader('Content-Type'))\n            this.setHeader('Content-Type', h.Headers.jsonContentType);\n        this.method = this.method ? this.method.toUpperCase() : 'GET';\n        if (['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'].indexOf(this.method) < 0)\n            throw new Error('Method has wrong value');\n        return this;\n    };\n    Request.prototype.getEncodedBody = function () {\n        if (this.method === 'GET')\n            return null;\n        if (typeof this.body === 'string') {\n            return this.body;\n        }\n        else if (this.isJson()) {\n            return JSON.stringify(this.body);\n        }\n        else if (this.isUrlEncoded()) {\n            return this.utils.queryStringify(this.body);\n        }\n        else {\n            return this.body;\n        }\n    };\n    Request.prototype.send = function () {\n        var _this = this;\n        this.observer.emit(this.observer.events.beforeRequest, this);\n        var responsePromise = new (this.context.getPromise())(function (resolve, reject) {\n            _this.checkOptions();\n            var xhr = _this.getXHR(), url = _this.url + (!!_this.query ? ((_this.url.indexOf('?') > -1 ? '&' : '?') + _this.utils.queryStringify(_this.query)) : '');\n            xhr.open(_this.method, url, _this.async);\n            //@see http://stackoverflow.com/questions/19666809/cors-withcredentials-support-limited\n            xhr.withCredentials = true;\n            xhr.onload = function () {\n                //TODO http://jira.ringcentral.com/browse/PLA-10585\n                var response = r.$get(_this.context, xhr.status, xhr.statusText, xhr.responseText, xhr.getAllResponseHeaders());\n                if (response.error) {\n                    var e = response.error;\n                    e.ajax = response; // backwards compatibility\n                    e.response = response; //FIXME Circular\n                    e.request = _this;\n                    reject(e);\n                }\n                else {\n                    resolve(response);\n                }\n            };\n            xhr.onerror = function (event) {\n                var e = new Error('The request cannot be sent' + (event ? ' (' + event.toString() + ')' : ''));\n                e.request = _this;\n                e.response = null;\n                e.ajax = null; // backwards compatibility\n                reject(e);\n            };\n            _this.utils.forEach(_this.headers, function (value, header) {\n                if (!!value)\n                    xhr.setRequestHeader(header, value);\n            });\n            xhr.send(_this.getEncodedBody());\n            _this.xhr = xhr;\n        });\n        return responsePromise.then(function (response) {\n            _this.observer.emit(_this.observer.events.requestSuccess, response, _this);\n            return response;\n        }).catch(function (e) {\n            _this.observer.emit(_this.observer.events.requestError, e);\n            throw e;\n        });\n    };\n    Request.prototype.getXHR = function () {\n        return this.context.getXHR();\n    };\n    Request.prototype.destroy = function () {\n        if (this.xhr)\n            this.xhr.abort();\n    };\n    return Request;\n})(h.Headers);\nexports.Request = Request;\nfunction $get(context) {\n    return new Request(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/tsd.d.ts\" />\nvar utils = __webpack_require__(20);\nvar Headers = (function () {\n    function Headers(context) {\n        this.headers = {};\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Headers.prototype.setHeader = function (name, value) {\n        this.headers[name.toLowerCase()] = value;\n        return this;\n    };\n    Headers.prototype.getHeader = function (name) {\n        return this.headers[name.toLowerCase()];\n    };\n    Headers.prototype.hasHeader = function (name) {\n        return (name.toLowerCase() in this.headers);\n    };\n    Headers.prototype.setHeaders = function (headers) {\n        var _this = this;\n        this.utils.forEach(headers, function (value, name) {\n            _this.setHeader(name, value);\n        });\n        return this;\n    };\n    Headers.prototype.isContentType = function (contentType) {\n        return this.getContentType().indexOf(contentType) > -1;\n    };\n    Headers.prototype.getContentType = function () {\n        return this.getHeader(Headers.contentType) || '';\n    };\n    Headers.prototype.isMultipart = function () {\n        return this.isContentType(Headers.multipartContentType);\n    };\n    Headers.prototype.isUrlEncoded = function () {\n        return this.isContentType(Headers.urlencodedContentType);\n    };\n    Headers.prototype.isJson = function () {\n        return this.isContentType(Headers.jsonContentType);\n    };\n    Headers.contentType = 'Content-Type';\n    Headers.jsonContentType = 'application/json';\n    Headers.multipartContentType = 'multipart/mixed';\n    Headers.urlencodedContentType = 'application/x-www-form-urlencoded';\n    return Headers;\n})();\nexports.Headers = Headers;\n\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar h = __webpack_require__(46);\nvar log = __webpack_require__(15);\nvar Response = (function (_super) {\n    __extends(Response, _super);\n    function Response(context, status, statusText, body, headers) {\n        var _this = this;\n        _super.call(this, context);\n        this.log = log.$get(context);\n        if (typeof (body) === 'string') {\n            body = body.replace(/\\r/g, '');\n            if (!headers) {\n                var tmp = body.split(Response.bodySeparator);\n                headers = (tmp.length > 1) ? tmp.shift() : {};\n                body = tmp.join(Response.bodySeparator);\n            }\n        }\n        /** @type {Response[]|object} */\n        this.data = null;\n        /** @type {object} */\n        this.json = null;\n        /** @type {Response[]} */\n        this.responses = [];\n        /** @type {Error} */\n        this.error = null;\n        //@see http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n        if (status == 1223)\n            status = 204;\n        this.status = status;\n        this.statusText = statusText;\n        this.body = body;\n        try {\n            // Step 1. Parse headers\n            if (typeof (headers) === 'string') {\n                (headers || '').split('\\n').forEach(function (header) {\n                    if (!header)\n                        return;\n                    /** @type {string[]} */\n                    var parts = header.split(Response.headerSeparator), name = parts.shift().trim();\n                    _this.setHeader(name, parts.join(Response.headerSeparator).trim());\n                });\n            }\n            else {\n                this.setHeaders(headers);\n            }\n            // Step 1.1. JEDI proxy sometimes may omit Content-Type header\n            if (!this.hasHeader(h.Headers.contentType))\n                this.setHeader(h.Headers.contentType, h.Headers.jsonContentType);\n            // Step 2. Parse body\n            if (this.isJson() && !!this.body && typeof (this.body) === 'string') {\n                this.json = JSON.parse(this.body);\n                this.data = this.json; // backwards compatibility\n                if (!this.checkStatus())\n                    this.error = new Error(this.getError());\n            }\n            else if (this.isMultipart()) {\n                // Step 2.1. Split multipart response\n                var boundary = this.getContentType().match(/boundary=([^;]+)/i)[1], parts = this.body.split(Response.boundarySeparator + boundary);\n                if (parts[0].trim() === '')\n                    parts.shift();\n                if (parts[parts.length - 1].trim() == Response.boundarySeparator)\n                    parts.pop();\n                // Step 2.2. Parse status info\n                var statusInfo = new Response(this.context, this.status, '', parts.shift());\n                // Step 2.3. Parse all other parts\n                this.responses = parts.map(function (part, i) {\n                    var status = statusInfo.data.response[i].status;\n                    return new Response(_this.context, status, '', part);\n                });\n                this.data = this.responses; // backwards compatibility\n            }\n            else {\n                this.data = this.body;\n            }\n        }\n        catch (e) {\n            this.log.error('Response.parseResponse(): Unable to parse data');\n            this.log.error(e.stack || e);\n            this.log.error(this.body);\n            this.error = e;\n        }\n    }\n    /**\n     * @returns {boolean}\n     */\n    Response.prototype.isUnauthorized = function () {\n        return (this.status == 401);\n    };\n    Response.prototype.checkStatus = function () {\n        return this.status >= 200 && this.status < 300;\n    };\n    Response.prototype.getError = function () {\n        return this.data.message || this.data.error_description || this.data.description || 'Unknown error';\n    };\n    Response.boundarySeparator = '--';\n    Response.headerSeparator = ':';\n    Response.bodySeparator = '\\n\\n';\n    return Response;\n})(h.Headers);\nexports.Response = Response;\nfunction $get(context, status, statusText, body, headers) {\n    return new Response(context, status, statusText, body, headers);\n}\nexports.$get = $get;\n\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=rc-sdk.js.map"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 139b895366d77bb468af\n **/","/// <reference path=\"../typings/tsd.d.ts\" />\nvar promise = require('es6-promise');\nvar pubnub = require('pubnub');\nvar rcsdk = require('./RCSDK');\nrequire('crypto-js/aes');\nrequire('crypto-js/mode-ecb');\nvar CryptoJS = require('crypto-js/core');\nvar XHR = (typeof (XMLHttpRequest) !== 'undefined' ? XMLHttpRequest : function () {\n    try {\n        return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\");\n    }\n    catch (e1) {\n    }\n    try {\n        return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\");\n    }\n    catch (e2) {\n    }\n    try {\n        return new ActiveXObject(\"Msxml2.XMLHTTP\");\n    }\n    catch (e3) {\n    }\n    try {\n        return require('xhr2');\n    }\n    catch (e3) {\n    }\n    throw new Error(\"This browser does not support XMLHttpRequest.\");\n});\nexports = module.exports = rcsdk.factory({\n    CryptoJS: CryptoJS,\n    localStorage: typeof (localStorage) !== 'undefined' ? localStorage : require('dom-storage'),\n    Promise: typeof (Promise) !== 'undefined' ? Promise : promise.Promise,\n    PUBNUB: pubnub,\n    XHR: XHR\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/index.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"es6-promise\",\"commonjs\":\"es6-promise\",\"commonjs2\":\"es6-promise\",\"root\":\"Promise\"}\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"pubnub\",\"commonjs\":\"pubnub\",\"commonjs2\":\"pubnub\",\"root\":\"PUBNUB\"}\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"crypto-js/aes\",\"commonjs\":\"crypto-js/aes\",\"commonjs2\":\"crypto-js/aes\",\"root\":[\"CryptoJS\",\"AES\"]}\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"crypto-js/mode-ecb\",\"commonjs\":\"crypto-js/mode-ecb\",\"commonjs2\":\"crypto-js/mode-ecb\",\"root\":[\"CryptoJS\",\"mode\",\"ECB\"]}\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"crypto-js/core\",\"commonjs\":\"crypto-js/core\",\"commonjs2\":\"crypto-js/core\",\"root\":[\"CryptoJS\"]}\n ** module id = 5\n ** module chunks = 0\n **/","if(typeof __WEBPACK_EXTERNAL_MODULE_6__ === 'undefined') {var e = new Error(\"Cannot find module \\\"undefined\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"empty:\",\"commonjs\":\"xhr2\",\"commonjs2\":\"xhr2\",\"root\":\"XMLHttpRequest\"}\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"empty:\",\"commonjs\":\"dom-storage\",\"commonjs2\":\"dom-storage\",\"root\":\"localStorage\"}\n ** module id = 7\n ** module chunks = 0\n **/","var xhrResponse = require('./core/xhr/XhrResponse');\nvar ajaxObserver = require('./core/AjaxObserver');\nvar cache = require('./core/Cache');\nvar context = require('./core/Context');\nvar helper = require('./core/Helper');\nvar list = require('./core/List');\nvar log = require('./core/Log');\nvar observable = require('./core/Observable');\nvar pageVisibility = require('./core/PageVisibility');\nvar platform = require('./core/Platform');\nvar subscription = require('./core/Subscription');\nvar utils = require('./core/Utils');\nvar validator = require('./core/Validator');\nvar accountHelper = require('./helpers/Account');\nvar blockedNumberHelper = require('./helpers/BlockedNumber');\nvar callHelper = require('./helpers/Call');\nvar contactHelper = require('./helpers/Contact');\nvar contactGroupHelper = require('./helpers/ContactGroup');\nvar conferencingHelper = require('./helpers/Conferencing');\nvar countryHelper = require('./helpers/Country');\nvar deviceHelper = require('./helpers/Device');\nvar deviceModelHelper = require('./helpers/DeviceModel');\nvar extensionHelper = require('./helpers/Extension');\nvar forwardingNumberHelper = require('./helpers/ForwardingNumber');\nvar languageHelper = require('./helpers/Language');\nvar locationHelper = require('./helpers/Location');\nvar messageHelper = require('./helpers/Message');\nvar phoneNumberHelper = require('./helpers/PhoneNumber');\nvar presenceHelper = require('./helpers/Presence');\nvar ringoutHelper = require('./helpers/Ringout');\nvar serviceHelper = require('./helpers/Service');\nvar shippingMethodHelper = require('./helpers/ShippingMethod');\nvar stateHelper = require('./helpers/State');\nvar timezoneHelper = require('./helpers/Timezone');\nvar RCSDK = (function () {\n    function RCSDK(options) {\n        options = options || {};\n        this._context = context.$get(RCSDK.injections);\n        this.getCache().setPrefix(options.cachePrefix || '');\n        this.getPlatform().setServer(options.server || '').setCredentials(options.appKey || '', options.appSecret || '');\n        //TODO Link Platform events with Subscriptions and the rest\n    }\n    RCSDK.setInjections = function (injections) {\n        this.injections = injections;\n        return this;\n    };\n    // Internals\n    RCSDK.prototype.getContext = function () {\n        return this._context;\n    };\n    // Core\n    RCSDK.prototype.getAjaxObserver = function () {\n        return ajaxObserver.$get(this.getContext());\n    };\n    RCSDK.prototype.getXhrResponse = function () {\n        return xhrResponse.$get(this.getContext());\n    };\n    RCSDK.prototype.getPlatform = function () {\n        return platform.$get(this.getContext());\n    };\n    RCSDK.prototype.getCache = function () {\n        return cache.$get(this.getContext());\n    };\n    RCSDK.prototype.getSubscription = function () {\n        return subscription.$get(this.getContext());\n    };\n    RCSDK.prototype.getPageVisibility = function () {\n        return pageVisibility.$get(this.getContext());\n    };\n    RCSDK.prototype.getHelper = function () {\n        return helper.$get(this.getContext());\n    };\n    RCSDK.prototype.getObservable = function () {\n        return observable.$get(this.getContext());\n    };\n    RCSDK.prototype.getValidator = function () {\n        return validator.$get(this.getContext());\n    };\n    RCSDK.prototype.getLog = function () {\n        return log.$get(this.getContext());\n    };\n    RCSDK.prototype.getUtils = function () {\n        return utils.$get(this.getContext());\n    };\n    RCSDK.prototype.getList = function () {\n        return list.$get(this.getContext());\n    };\n    // Helpers\n    RCSDK.prototype.getCountryHelper = function () {\n        return countryHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getDeviceModelHelper = function () {\n        return deviceModelHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getLanguageHelper = function () {\n        return languageHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getLocationHelper = function () {\n        return locationHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getShippingMethodHelper = function () {\n        return shippingMethodHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getStateHelper = function () {\n        return stateHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getTimezoneHelper = function () {\n        return timezoneHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getAccountHelper = function () {\n        return accountHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getBlockedNumberHelper = function () {\n        return blockedNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getCallHelper = function () {\n        return callHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getConferencingHelper = function () {\n        return conferencingHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getContactHelper = function () {\n        return contactHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getContactGroupHelper = function () {\n        return contactGroupHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getDeviceHelper = function () {\n        return deviceHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getExtensionHelper = function () {\n        return extensionHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getForwardingNumberHelper = function () {\n        return forwardingNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getMessageHelper = function () {\n        return messageHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getPhoneNumberHelper = function () {\n        return phoneNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getPresenceHelper = function () {\n        return presenceHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getRingoutHelper = function () {\n        return ringoutHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getServiceHelper = function () {\n        return serviceHelper.$get(this.getContext());\n    };\n    RCSDK.version = '1.2.1';\n    return RCSDK;\n})();\nexports.RCSDK = RCSDK;\nfunction factory(injections) {\n    if (!injections || !('CryptoJS' in injections) || !('localStorage' in injections) || !('Promise' in injections) || !('PUBNUB' in injections) || !('XHR' in injections))\n        throw new Error('Injections object is not complete');\n    return RCSDK.setInjections(injections);\n}\nexports.factory = factory;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/RCSDK.js\n ** module id = 8\n ** module chunks = 0\n **/","var XhrResponse = (function () {\n    function XhrResponse(context) {\n        this.responses = [];\n    }\n    XhrResponse.prototype.add = function (response) {\n        this.responses.push(response);\n    };\n    XhrResponse.prototype.clear = function () {\n        this.responses = [];\n    };\n    XhrResponse.prototype.find = function (ajax) {\n        var currentResponse;\n        this.responses.forEach(function (response) {\n            if (ajax.url.indexOf(response.path) > -1 && (!response.test || response.test(ajax))) {\n                currentResponse = response;\n            }\n        });\n        return currentResponse;\n    };\n    return XhrResponse;\n})();\nexports.XhrResponse = XhrResponse;\nfunction $get(context) {\n    return context.createSingleton('XhrResponse', function () {\n        return new XhrResponse(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/xhr/XhrResponse.js\n ** module id = 9\n ** module chunks = 0\n **/","var __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = require('./Observable');\nvar AjaxObserver = (function (_super) {\n    __extends(AjaxObserver, _super);\n    function AjaxObserver() {\n        _super.apply(this, arguments);\n        this.events = {\n            beforeRequest: 'beforeRequest',\n            requestSuccess: 'requestSuccess',\n            requestError: 'requestError' // means that request failed completely\n        };\n    }\n    return AjaxObserver;\n})(observable.Observable);\nexports.AjaxObserver = AjaxObserver;\nfunction $get(context) {\n    return context.createSingleton('AjaxObserver', function () {\n        return new AjaxObserver(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/AjaxObserver.js\n ** module id = 10\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar Cache = (function () {\n    function Cache(context) {\n        this.setPrefix();\n        this.context = context;\n        this.storage = context.getLocalStorage(); // storage must be defined from outside\n    }\n    Cache.prototype.setPrefix = function (prefix) {\n        this.prefix = prefix || 'rc-';\n        return this;\n    };\n    Cache.prototype.prefixKey = function (key) {\n        return this.prefix + key;\n    };\n    Cache.prototype.setItem = function (key, data) {\n        this.storage.setItem(this.prefixKey(key), JSON.stringify(data));\n        return this;\n    };\n    Cache.prototype.removeItem = function (key) {\n        this.storage.removeItem(this.prefixKey(key));\n        return this;\n    };\n    Cache.prototype.getItem = function (key) {\n        var item = this.storage.getItem(this.prefixKey(key));\n        if (!item)\n            return null;\n        return JSON.parse(item);\n    };\n    Cache.prototype.clean = function () {\n        for (var key in this.storage) {\n            if (!this.storage.hasOwnProperty(key))\n                continue;\n            if (key.indexOf(this.prefix) === 0) {\n                this.storage.removeItem(key);\n                delete this.storage[key];\n            }\n        }\n        return this;\n    };\n    return Cache;\n})();\nexports.Cache = Cache;\nfunction $get(context) {\n    return context.createSingleton('Cache', function () {\n        return new Cache(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/Cache.js\n ** module id = 11\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar pubnubMock = require('./pubnub/PubnubMock'); //TODO Fix circular\nvar xhrMock = require('./xhr/XhrMock'); //TODO Fix circular\nvar Context = (function () {\n    function Context(injections) {\n        this.singletons = {};\n        this.injections = injections;\n        this.stubPubnub = false;\n        this.stubAjax = false;\n    }\n    Context.prototype.createSingleton = function (name, factory) {\n        if (!this.singletons[name])\n            this.singletons[name] = factory();\n        return this.singletons[name];\n    };\n    Context.prototype.usePubnubStub = function (flag) {\n        this.stubPubnub = !!flag;\n        return this;\n    };\n    Context.prototype.useAjaxStub = function (flag) {\n        this.stubAjax = !!flag;\n        return this;\n    };\n    Context.prototype.getCryptoJS = function () {\n        return this.injections.CryptoJS;\n    };\n    Context.prototype.getPubnub = function () {\n        return this.stubPubnub ? pubnubMock.$get(this) : this.injections.PUBNUB;\n    };\n    Context.prototype.getLocalStorage = function () {\n        var _this = this;\n        return this.createSingleton('localStorage', function () {\n            if (typeof _this.injections.localStorage !== 'function') {\n                return _this.injections.localStorage; // this is window.localStorage\n            }\n            return new _this.injections.localStorage(); // this is NPM dom-storage constructor\n        });\n    };\n    Context.prototype.getPromise = function () {\n        return this.injections.Promise;\n    };\n    Context.prototype.getXHR = function () {\n        return (this.stubAjax ? xhrMock.$get(this) : new this.injections.XHR());\n    };\n    return Context;\n})();\nexports.Context = Context;\nfunction $get(injections) {\n    return new Context(injections);\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/Context.js\n ** module id = 12\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar utils = require('./Utils');\nvar Helper = (function () {\n    function Helper(context) {\n        this.defaultProperty = 'id';\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Helper.prototype.getContext = function () {\n        return this.context;\n    };\n    Helper.prototype.createUrl = function (options, id) {\n        return '';\n    };\n    Helper.prototype.getId = function (object) {\n        return object && object[this.defaultProperty];\n    };\n    Helper.prototype.isNew = function (object) {\n        return !this.getId(object) || !this.getUri(object);\n    };\n    Helper.prototype.resetAsNew = function (object) {\n        if (object) {\n            delete object.id;\n            delete object.uri;\n        }\n        return object;\n    };\n    Helper.prototype.getUri = function (object) {\n        return object && object.uri;\n    };\n    Helper.prototype.parseMultipartResponse = function (ajax) {\n        if (ajax.isMultipart()) {\n            // ajax.data has full array, leave only successful\n            return ajax.data.filter(function (result) {\n                return (!result.error);\n            }).map(function (result) {\n                return result.data;\n            });\n        }\n        else {\n            return [ajax.data];\n        }\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    Helper.prototype.loadRequest = function (object, options) {\n        return this.utils.extend(options || {}, {\n            url: (options && options.url) || (object && this.getUri(object)) || this.createUrl(),\n            method: (options && options.method) || 'GET'\n        });\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    Helper.prototype.saveRequest = function (object, options) {\n        if (!object && !(options && (options.post || options.body)))\n            throw new Error('No Object');\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || (this.isNew(object) ? 'POST' : 'PUT'),\n            url: (options && options.url) || this.getUri(object) || this.createUrl(),\n            body: (options && (options.body || options.post)) || object\n        });\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided exception will be thrown\n     */\n    Helper.prototype.deleteRequest = function (object, options) {\n        options = options || {};\n        if (!this.getUri(object) && !(options && options.url))\n            throw new Error('Object has to be not new or URL must be provided');\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || 'DELETE',\n            url: (options && options.url) || this.getUri(object)\n        });\n    };\n    /**\n     * If no url was provided, default SYNC url will be returned\n     */\n    Helper.prototype.syncRequest = function (options) {\n        options = options || {};\n        options.url = options.url || this.createUrl({ sync: true });\n        options.query = options.query || options.get || {};\n        if (!!options.query.syncToken) {\n            options.query = {\n                syncType: 'ISync',\n                syncToken: options.get.syncToken\n            };\n        }\n        else {\n            options.query.syncType = 'FSync';\n        }\n        return options;\n    };\n    Helper.prototype.nextPageExists = function (data) {\n        return (data && data.navigation && ('nextPage' in data.navigation));\n    };\n    /**\n     * array - an array to be indexed\n     * getIdFn - must return an ID for each array item\n     * gather - if true, then each index will have an array of items, that has same ID, otherwise the first indexed\n     * item wins\n     */\n    Helper.prototype.index = function (array, getIdFn, gather) {\n        getIdFn = getIdFn || this.getId.bind(this);\n        array = array || [];\n        return array.reduce(function (index, item) {\n            var id = getIdFn(item);\n            if (!id || (index[id] && !gather))\n                return index;\n            if (gather) {\n                if (!index[id])\n                    index[id] = [];\n                index[id].push(item);\n            }\n            else {\n                index[id] = item;\n            }\n            return index;\n        }, {});\n    };\n    /**\n     * Returns a shallow copy of merged _target_ array plus _supplement_ array\n     * mergeItems\n     * - if true, properties of _supplement_ item will be applied to _target_ item,\n     * - otherwise _target_ item will be replaced\n     */\n    Helper.prototype.merge = function (target, supplement, getIdFn, mergeItems) {\n        var _this = this;\n        getIdFn = getIdFn || this.getId.bind(this);\n        target = target || [];\n        supplement = supplement || [];\n        var supplementIndex = this.index(supplement, getIdFn), updatedIDs = [], result = target.map(function (item) {\n            var id = getIdFn(item), newItem = supplementIndex[id];\n            if (newItem)\n                updatedIDs.push(id);\n            return newItem ? (mergeItems ? _this.utils.extend(item, newItem) : newItem) : item;\n        });\n        supplement.forEach(function (item) {\n            if (updatedIDs.indexOf(getIdFn(item)) == -1)\n                result.push(item);\n        });\n        return result;\n    };\n    return Helper;\n})();\nexports.Helper = Helper;\nfunction $get(context) {\n    return new Helper(context);\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/Helper.js\n ** module id = 13\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar utils = require('./Utils');\nvar List = (function () {\n    function List(context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.numberComparator = this.numberComparator.bind(this);\n        this.stringComparator = this.stringComparator.bind(this);\n    }\n    /**\n     * TODO Use utils getProperty\n     * @param {string} property\n     * @returns {function(object)}\n     */\n    List.prototype.propertyExtractor = function (property) {\n        return function (item, options) {\n            return property ? ((item && item[property]) || null) : item;\n        };\n    };\n    /**\n     * Non-string types are converted to string\n     * Non-string types are extracted as an empty string if they could be converted to false\n     * If no options.sortBy given the item itself is extracted\n     * Compares strings:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    List.prototype.stringComparator = function (a, b, options) {\n        return this.utils.parseString(a).localeCompare(this.utils.parseString(b));\n    };\n    /**\n     * Non-numeric types are extracted as 0 if they could be converted to false\n     * Objects that could not be converted to number are extracted as 0\n     * If no options.sortBy given the item itself is extracted\n     * See parseFloat for more info\n     * Compares numbers:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Function does not check types\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    List.prototype.numberComparator = function (a, b, options) {\n        return (this.utils.parseNumber(a) - this.utils.parseNumber(b));\n    };\n    /**\n     * Function extracts (using _extractFn_ option) values of a property (_sortBy_ option) and compares them using\n     * compare function (_compareFn_ option, by default Helper.stringComparator)\n     * Merged options are provided to _extractFn_ and _compareFn_\n     * TODO Check memory leaks for all that options links\n     */\n    List.prototype.comparator = function (options) {\n        options = this.utils.extend({\n            extractFn: this.propertyExtractor((options && options.sortBy) || null).bind(this),\n            compareFn: this.stringComparator.bind(this)\n        }, options);\n        return function (item1, item2) {\n            return options.compareFn(options.extractFn(item1, options), options.extractFn(item2, options), options);\n        };\n    };\n    List.prototype.equalsFilter = function (obj, options) {\n        return (options.condition === obj);\n    };\n    /**\n     * @param {string} obj\n     * @param {IListFilterOptions} options\n     * @returns {boolean}\n     */\n    List.prototype.containsFilter = function (obj, options) {\n        return (obj && obj.toString().indexOf(options.condition) > -1);\n    };\n    List.prototype.regexpFilter = function (obj, options) {\n        if (!(options.condition instanceof RegExp))\n            throw new Error('Condition must be an instance of RegExp');\n        return (options.condition.test(obj));\n    };\n    /**\n     * Function extracts (using `extractFn` option) values of a property (`filterBy` option) and filters them using\n     * compare function (`filterFn` option, by default Helper.equalsFilter)\n     * Merged options are provided to `extractFn` and `compareFn`\n     * Set `filterBy` to null to force `propertyExtractor` to return object itself\n     * TODO Check memory leaks for all that options links\n     */\n    List.prototype.filter = function (filterConfigs) {\n        var _this = this;\n        var self = this;\n        filterConfigs = (filterConfigs || []).map(function (opt) {\n            return _this.utils.extend({\n                condition: '',\n                extractFn: self.propertyExtractor((opt && opt.filterBy) || null).bind(_this),\n                filterFn: self.equalsFilter.bind(_this)\n            }, opt);\n        });\n        return function (item) {\n            return filterConfigs.reduce(function (pass, opt) {\n                if (!pass || !opt.condition)\n                    return pass;\n                return opt.filterFn(opt.extractFn(item, opt), opt);\n            }, true);\n        };\n    };\n    return List;\n})();\nexports.List = List;\nfunction $get(context) {\n    return context.createSingleton('List', function () {\n        return new List(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/List.js\n ** module id = 14\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar utils = require('./Utils');\nvar Log = (function () {\n    function Log(context, console) {\n        if (!console) {\n            console = {\n                log: function () {\n                },\n                warn: function () {\n                },\n                info: function () {\n                },\n                error: function () {\n                }\n            };\n        }\n        this.context = context;\n        this.console = console;\n        this.utils = utils.$get(context);\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n        this.addTimestamps = false;\n    }\n    Log.prototype.disableAll = function () {\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n    };\n    Log.prototype.enableAll = function () {\n        this.logDebug = true;\n        this.logInfo = true;\n        this.logWarnings = true;\n        this.logErrors = true;\n    };\n    Log.prototype.parseArguments = function (args) {\n        args = this.utils.argumentsToArray(args);\n        if (this.addTimestamps)\n            args.unshift(new Date().toLocaleString(), '-');\n        return args;\n    };\n    Log.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logDebug)\n            this.console.log.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logInfo)\n            this.console.info.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logWarnings)\n            this.console.warn.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logErrors)\n            this.console.error.apply(this.console, this.parseArguments(arguments));\n    };\n    return Log;\n})();\nexports.Log = Log;\nfunction $get(context) {\n    return context.createSingleton('Log', function () {\n        return new Log(context, console);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/Log.js\n ** module id = 15\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar utils = require('./Utils');\nvar log = require('./Log');\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @alias RCSDK.core.Observable\n     */\n    function Observable(context) {\n        if (!(this instanceof Observable))\n            throw new Error('Observable(): New operator was omitted');\n        Object.defineProperty(this, 'listeners', { value: {}, enumerable: false, writable: true });\n        Object.defineProperty(this, 'oneTimeEvents', { value: {}, enumerable: false, writable: true });\n        Object.defineProperty(this, 'oneTimeArguments', { value: {}, enumerable: false, writable: true });\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.log = log.$get(context);\n    }\n    Observable.prototype.hasListeners = function (event) {\n        return (event in this.listeners);\n    };\n    Observable.prototype.registerOneTimeEvent = function (event) {\n        this.oneTimeEvents[event] = false;\n        this.oneTimeArguments[event] = [];\n    };\n    Observable.prototype.on = function (events, callback) {\n        var _this = this;\n        if (typeof events == 'string')\n            events = [events];\n        if (!events)\n            throw new Error('No events to subscribe to');\n        if (typeof callback !== 'function')\n            throw new Error('Callback must be a function');\n        var self = this;\n        events.forEach(function (event) {\n            if (!self.hasListeners(event))\n                self.listeners[event] = [];\n            self.listeners[event].push(callback);\n            if (self.isOneTimeEventFired(event)) {\n                _this.log.debug('Observable.on(%s): One-time event has been fired already, executing callback', event);\n                callback.apply(self, self.getOneTimeEventArgumens(event));\n            }\n        });\n        return this;\n    };\n    Observable.prototype.emit = function (event) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (this.isOneTimeEventFired(event)) {\n            this.log.debug('Observable.emit(%s): One-time event has been fired already', event);\n            return null;\n        }\n        var result = null;\n        if (this.isOneTimeEvent(event)) {\n            this.setOneTimeEventFired(event);\n            this.setOneTimeEventArgumens(event, args);\n        }\n        if (!this.hasListeners(event))\n            return null;\n        this.listeners[event].some(function (callback) {\n            result = callback.apply(_this, args);\n            return (result === false);\n        });\n        return result;\n    };\n    Observable.prototype.off = function (event, callback) {\n        var _this = this;\n        var self = this;\n        if (!callback) {\n            delete this.listeners[event];\n        }\n        else {\n            if (!this.hasListeners(event))\n                return this;\n            this.listeners[event].forEach(function (cb, i) {\n                if (cb === callback)\n                    delete _this.listeners[event][i];\n            });\n        }\n        return this;\n    };\n    Observable.prototype.isOneTimeEvent = function (event) {\n        return (event in this.oneTimeEvents);\n    };\n    Observable.prototype.isOneTimeEventFired = function (event) {\n        if (!this.isOneTimeEvent(event))\n            return false;\n        return (this.oneTimeEvents[event]);\n    };\n    Observable.prototype.setOneTimeEventFired = function (event) {\n        this.oneTimeEvents[event] = true;\n    };\n    Observable.prototype.setOneTimeEventArgumens = function (event, args) {\n        this.oneTimeArguments[event] = args;\n    };\n    Observable.prototype.getOneTimeEventArgumens = function (event) {\n        return this.oneTimeArguments[event];\n    };\n    Observable.prototype.offAll = function () {\n        this.listeners = {};\n        this.oneTimeEvents = {};\n        this.oneTimeArguments = {};\n        return this;\n    };\n    Observable.prototype.destroy = function () {\n        this.offAll();\n        this.log.debug('Observable.destroy(): Listeners were destroyed');\n        return this;\n    };\n    Observable.prototype.emitAndCallback = function (event, args, callback) {\n        args = this.utils.argumentsToArray(args);\n        if (event)\n            this.emit.apply(this, [event].concat(args));\n        if (callback)\n            callback.apply(this, args);\n        return this;\n    };\n    return Observable;\n})();\nexports.Observable = Observable;\nfunction $get(context) {\n    return new Observable(context);\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/Observable.js\n ** module id = 16\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = require('./Observable');\nvar PageVisibility = (function (_super) {\n    __extends(PageVisibility, _super);\n    function PageVisibility(context) {\n        var _this = this;\n        _super.call(this, context);\n        this.events = {\n            change: 'change'\n        };\n        var hidden = \"hidden\", onchange = function (evt) {\n            evt = evt || window.event;\n            var v = 'visible', h = 'hidden', evtMap = {\n                focus: v,\n                focusin: v,\n                pageshow: v,\n                blur: h,\n                focusout: h,\n                pagehide: h\n            };\n            _this.visible = (evt.type in evtMap) ? evtMap[evt.type] == v : !document[hidden];\n            _this.emit(_this.events.change, _this.visible);\n        };\n        this.visible = true;\n        if (typeof document == 'undefined' || typeof window == 'undefined')\n            return;\n        // Standards:\n        if (hidden in document)\n            document.addEventListener(\"visibilitychange\", onchange);\n        else if ((hidden = \"mozHidden\") in document)\n            document.addEventListener(\"mozvisibilitychange\", onchange);\n        else if ((hidden = \"webkitHidden\") in document)\n            document.addEventListener(\"webkitvisibilitychange\", onchange);\n        else if ((hidden = \"msHidden\") in document)\n            document.addEventListener(\"msvisibilitychange\", onchange);\n        else if ('onfocusin' in document)\n            document.onfocusin = document.onfocusout = onchange;\n        else\n            window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;\n    }\n    PageVisibility.prototype.isVisible = function () {\n        return this.visible;\n    };\n    return PageVisibility;\n})(observable.Observable);\nexports.PageVisibility = PageVisibility;\nfunction $get(context) {\n    return new PageVisibility(context);\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/PageVisibility.js\n ** module id = 17\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = require('./Observable');\nvar cache = require('./Cache');\nvar request = require('./http/Request');\nvar Platform = (function (_super) {\n    __extends(Platform, _super);\n    function Platform(context) {\n        _super.call(this, context);\n        this.events = {\n            accessViolation: 'accessViolation',\n            logoutSuccess: 'logoutSuccess',\n            logoutError: 'logoutError',\n            authorizeSuccess: 'authorizeSuccess',\n            authorizeError: 'authorizeError',\n            refreshSuccess: 'refreshSuccess',\n            refreshError: 'refreshError'\n        };\n        this.server = '';\n        this.apiKey = '';\n        this.account = '~';\n        this.urlPrefix = '/restapi';\n        this.apiVersion = 'v1.0';\n        this.accountPrefix = '/account/';\n        this.accessTokenTtl = null; // Platform server by default sets it to 60 * 60 = 1 hour\n        this.refreshTokenTtl = 10 * 60 * 60; // 10 hours\n        this.refreshTokenTtlRemember = 7 * 24 * 60 * 60; // 1 week\n        this.refreshHandicapMs = 60 * 1000; // 1 minute\n        this.refreshDelayMs = 100;\n        this.clearCacheOnRefreshError = true;\n        this.refreshPromise = null;\n        this.cacheId = 'platform';\n        this.pollInterval = 250;\n        this.releaseTimeout = 5000; // If queue was not released then force it to do so after some timeout\n    }\n    Platform.prototype.getStorage = function () {\n        return cache.$get(this.context);\n    };\n    Platform.prototype.getRequest = function () {\n        return request.$get(this.context);\n    };\n    Platform.prototype.clearStorage = function () {\n        this.getStorage().clean();\n        return this;\n    };\n    Platform.prototype.setCredentials = function (appKey, appSecret) {\n        var apiKey = (appKey || '') + ':' + (appSecret || '');\n        if (apiKey == ':')\n            return this;\n        this.apiKey = (typeof btoa == 'function') ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n        return this;\n    };\n    Platform.prototype.setServer = function (server) {\n        this.server = server || '';\n        return this;\n    };\n    Platform.prototype.remember = function (remember) {\n        var key = this.cacheId + '-remember';\n        if (remember !== undefined) {\n            this.getStorage().setItem(key, remember);\n            return this;\n        }\n        return this.getStorage().getItem(key) || false;\n    };\n    Platform.prototype.authorize = function (options) {\n        var _this = this;\n        options = options || {};\n        options.remember = options.remember || false;\n        return this.authCall({\n            url: '/restapi/oauth/token',\n            post: {\n                \"grant_type\": \"password\",\n                \"username\": options.username,\n                \"extension\": options.extension || '',\n                \"password\": options.password,\n                \"access_token_ttl\": this.accessTokenTtl,\n                \"refresh_token_ttl\": options.remember ? this.refreshTokenTtlRemember : this.refreshTokenTtl\n            }\n        }).then(function (response) {\n            _this.setCache(response.data).remember(options.remember).emitAndCallback(_this.events.authorizeSuccess, []);\n            return response;\n        }).catch(function (e) {\n            _this.clearStorage().emitAndCallback(_this.events.authorizeError, [e]);\n            throw e;\n        });\n    };\n    Platform.prototype.isPaused = function () {\n        var storage = this.getStorage(), cacheId = this.cacheId + '-refresh';\n        return !!storage.getItem(cacheId) && Date.now() - parseInt(storage.getItem(cacheId)) < this.releaseTimeout;\n    };\n    Platform.prototype.pause = function () {\n        this.getStorage().setItem(this.cacheId + '-refresh', Date.now());\n        return this;\n    };\n    /**\n     * If the queue is unpaused internally, polling will be cancelled\n     * @returns {Platform}\n     */\n    Platform.prototype.resume = function () {\n        this.getStorage().removeItem(this.cacheId + '-refresh');\n        return this;\n    };\n    Platform.prototype.refresh = function () {\n        var _this = this;\n        var refresh = new (this.context.getPromise())(function (resolve, reject) {\n            if (_this.isPaused()) {\n                return resolve(_this.refreshPolling(null));\n            }\n            else {\n                _this.pause();\n            }\n            // Make sure all existing AJAX calls had a chance to reach the server\n            setTimeout(function () {\n                var authData = _this.getAuthData();\n                _this.log.debug('Platform.refresh(): Performing token refresh (access token', authData.access_token, ', refresh token', authData.refresh_token, ')');\n                if (!authData || !authData.refresh_token)\n                    return reject(new Error('Refresh token is missing'));\n                if (Date.now() > authData.refreshExpireTime)\n                    return reject(new Error('Refresh token has expired'));\n                if (!_this.isPaused())\n                    return reject(new Error('Queue was resumed before refresh call'));\n                resolve(_this.authCall({\n                    url: '/restapi/oauth/token',\n                    post: {\n                        \"grant_type\": \"refresh_token\",\n                        \"refresh_token\": authData.refresh_token,\n                        \"access_token_ttl\": _this.accessTokenTtl,\n                        \"refresh_token_ttl\": _this.remember() ? _this.refreshTokenTtlRemember : _this.refreshTokenTtl\n                    }\n                }));\n            }, _this.refreshDelayMs);\n        });\n        return refresh.then(function (response) {\n            // This means refresh has happened elsewhere and we are here because of timeout\n            if (!response || !response.data)\n                return response;\n            _this.log.info('Platform.refresh(): Token was refreshed');\n            if (!response.data.refresh_token || !response.data.access_token) {\n                var e = new Error('Malformed OAuth response');\n                e.ajax = response;\n                throw e;\n            }\n            _this.setCache(response.data).resume();\n            return response;\n        }).then(function (result) {\n            _this.emit(_this.events.refreshSuccess, result);\n            return result;\n        }).catch(function (e) {\n            if (_this.clearCacheOnRefreshError)\n                _this.clearStorage();\n            _this.emitAndCallback(_this.events.accessViolation, [e]).emitAndCallback(_this.events.refreshError, [e]);\n            throw e;\n        });\n    };\n    /**\n     * @returns {Promise}\n     */\n    Platform.prototype.logout = function () {\n        var _this = this;\n        this.pause();\n        return this.authCall({\n            url: '/restapi/oauth/revoke',\n            post: {\n                token: this.getToken()\n            }\n        }).then(function (response) {\n            _this.resume().clearStorage().emit(_this.events.logoutSuccess, response);\n            return response;\n        }).catch(function (e) {\n            _this.resume().emitAndCallback(_this.events.accessViolation, [e]).emitAndCallback(_this.events.logoutError, [e]);\n            throw e;\n        });\n    };\n    Platform.prototype.refreshPolling = function (result) {\n        var _this = this;\n        if (this.refreshPromise)\n            return this.refreshPromise;\n        this.refreshPromise = new (this.context.getPromise())(function (resolve, reject) {\n            _this.log.warn('Platform.refresh(): Refresh is already in progress polling started');\n            _this.utils.poll(function (next) {\n                if (_this.isPaused())\n                    return next();\n                _this.refreshPromise = null;\n                _this.resume();\n                if (_this.isTokenValid()) {\n                    resolve(result);\n                }\n                else {\n                    reject(new Error('Automatic authentification timeout'));\n                }\n            }, _this.pollInterval);\n        });\n        return this.refreshPromise;\n    };\n    Platform.prototype.getToken = function () {\n        return this.getAuthData().access_token;\n    };\n    Platform.prototype.getTokenType = function () {\n        return this.getAuthData().token_type;\n    };\n    Platform.prototype.getAuthData = function () {\n        return this.getStorage().getItem(this.cacheId) || {\n            token_type: '',\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        };\n    };\n    /**\n     * Check if there is a valid (not expired) access token\n     */\n    Platform.prototype.isTokenValid = function () {\n        var authData = this.getAuthData();\n        return (authData.token_type == Platform.forcedTokenType || (new Date(authData.expireTime).getTime() - this.refreshHandicapMs) > Date.now() && !this.isPaused());\n    };\n    /**\n     * Checks if user is authorized\n     * If there is no access token, refresh will be performed\n     */\n    Platform.prototype.isAuthorized = function () {\n        if (this.isTokenValid())\n            return this.context.getPromise().resolve(true);\n        return this.refresh();\n    };\n    Platform.prototype.cancelAccessToken = function () {\n        return this.setCache(this.utils.extend(this.getAuthData(), {\n            access_token: '',\n            expires_in: 0\n        }));\n    };\n    Platform.prototype.setCache = function (authData) {\n        var oldAuthData = this.getAuthData();\n        this.log.info('Platform.setCache(): Tokens were updated, new:', authData, ', old:', oldAuthData);\n        authData.expireTime = Date.now() + (authData.expires_in * 1000);\n        authData.refreshExpireTime = Date.now() + (authData.refresh_token_expires_in * 1000);\n        this.getStorage().setItem(this.cacheId, authData);\n        return this;\n    };\n    Platform.prototype.forceAuthentication = function () {\n        this.setCache({\n            token_type: Platform.forcedTokenType,\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        });\n        return this;\n    };\n    Platform.prototype.apiCall = function (options) {\n        var _this = this;\n        options = options || {};\n        options.url = this.apiUrl(options.url, { addServer: true });\n        return this.isAuthorized().then(function () {\n            var token = _this.getToken();\n            return _this.getRequest().setOptions(options).setHeader('Authorization', _this.getTokenType() + (token ? ' ' + token : '')).send();\n        }).catch(function (e) {\n            if (!e.response || !e.response.isUnauthorized())\n                throw e;\n            _this.cancelAccessToken();\n            return _this.refresh().then(function () {\n                // Re-send with same options\n                return _this.apiCall(options);\n            });\n        });\n    };\n    Platform.prototype.get = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'GET';\n        return this.apiCall(options);\n    };\n    Platform.prototype.post = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'POST';\n        return this.apiCall(options);\n    };\n    Platform.prototype.put = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'PUT';\n        return this.apiCall(options);\n    };\n    Platform.prototype['delete'] = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'DELETE';\n        return this.apiCall(options);\n    };\n    Platform.prototype.authCall = function (options) {\n        options = options || {};\n        options.method = options.method || 'POST';\n        options.url = this.apiUrl(options.url, { addServer: true });\n        return this.getRequest().setOptions(options).setHeader('Content-Type', 'application/x-www-form-urlencoded').setHeader('Accept', 'application/json').setHeader('Authorization', 'Basic ' + this.apiKey).send();\n    };\n    /**\n     *\n     * @param url\n     * @param {{addMethod?: string, addToken?: boolean, addServer?: boolean}} [options]\n     * @returns {string}\n     */\n    Platform.prototype.apiUrl = function (url, options) {\n        url = url || '';\n        options = options || {};\n        var builtUrl = '';\n        if (options.addServer && url.indexOf('http://') == -1 && url.indexOf('https://') == -1)\n            builtUrl += this.server;\n        if (url.indexOf(this.urlPrefix) == -1)\n            builtUrl += this.urlPrefix + '/' + this.apiVersion;\n        if (url.indexOf(this.accountPrefix) > -1)\n            builtUrl.replace(this.accountPrefix + '~', this.accountPrefix + this.account);\n        builtUrl += url;\n        if (options.addMethod || options.addToken)\n            builtUrl += (url.indexOf('?') > -1 ? '&' : '?');\n        if (options.addMethod)\n            builtUrl += '_method=' + options.addMethod;\n        if (options.addToken)\n            builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this.getToken();\n        return builtUrl;\n    };\n    Platform.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        return this;\n    };\n    Platform.prototype.on = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Platform.prototype.off = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Platform.prototype.emitAndCallback = function (event, args, callback) {\n        _super.prototype.emitAndCallback.call(this, event, args, callback);\n        return this;\n    };\n    Platform.forcedTokenType = 'forced';\n    return Platform;\n})(observable.Observable);\nexports.Platform = Platform;\nfunction $get(context) {\n    return context.createSingleton('Platform', function () {\n        return new Platform(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/Platform.js\n ** module id = 18\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = require('./Observable');\nvar Subscription = (function (_super) {\n    __extends(Subscription, _super);\n    function Subscription(context) {\n        _super.call(this, context);\n        this.events = {\n            notification: 'notification',\n            removeSuccess: 'removeSuccess',\n            removeError: 'removeError',\n            renewSuccess: 'renewSuccess',\n            renewError: 'renewError',\n            subscribeSuccess: 'subscribeSuccess',\n            subscribeError: 'subscribeError'\n        };\n        this.pubnub = null;\n        this.eventFilters = [];\n        this.timeout = null;\n        this.subscription = {\n            eventFilters: [],\n            expirationTime: '',\n            expiresIn: 0,\n            deliveryMode: {\n                transportType: 'PubNub',\n                encryption: false,\n                address: '',\n                subscriberKey: '',\n                secretKey: ''\n            },\n            id: '',\n            creationTime: '',\n            status: '',\n            uri: ''\n        };\n    }\n    Subscription.prototype.getPubnub = function () {\n        return this.context.getPubnub();\n    };\n    Subscription.prototype.getCrypto = function () {\n        return this.context.getCryptoJS();\n    };\n    Subscription.prototype.getPlatform = function () {\n        return require('./Platform').$get(this.context);\n    };\n    /**\n     * Creates or updates subscription if there is an active one\n     * @param {{events?:string[]}} [options] New array of events\n     * @returns {Promise}\n     */\n    Subscription.prototype.register = function (options) {\n        if (this.isSubscribed()) {\n            return this.renew(options);\n        }\n        else {\n            return this.subscribe(options);\n        }\n    };\n    Subscription.prototype.addEvents = function (events) {\n        this.eventFilters = this.eventFilters.concat(events);\n        return this;\n    };\n    Subscription.prototype.setEvents = function (events) {\n        this.eventFilters = events;\n        return this;\n    };\n    Subscription.prototype.getFullEventFilters = function () {\n        var _this = this;\n        return this.eventFilters.map(function (event) {\n            return _this.getPlatform().apiUrl(event);\n        });\n    };\n    Subscription.prototype.subscribe = function (options) {\n        var _this = this;\n        options = options || {};\n        if (options.events)\n            this.eventFilters = options.events;\n        this.clearTimeout();\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.eventFilters || !_this.eventFilters.length)\n                throw new Error('Events are undefined');\n            resolve(_this.getPlatform().apiCall({\n                method: 'POST',\n                url: '/restapi/v1.0/subscription',\n                post: {\n                    eventFilters: _this.getFullEventFilters(),\n                    deliveryMode: {\n                        transportType: 'PubNub'\n                    }\n                }\n            }));\n        }).then(function (ajax) {\n            _this.updateSubscription(ajax.data).subscribeAtPubnub().emit(_this.events.subscribeSuccess, ajax.data);\n            return ajax;\n        }).catch(function (e) {\n            _this.unsubscribe().emit(_this.events.subscribeError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.renew = function (options) {\n        var _this = this;\n        options = options || {};\n        if (options.events)\n            this.eventFilters = options.events;\n        this.clearTimeout();\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.subscription || !_this.subscription.id)\n                throw new Error('Subscription ID is required');\n            if (!_this.eventFilters || !_this.eventFilters.length)\n                throw new Error('Events are undefined');\n            resolve();\n        }).then(function () {\n            return _this.getPlatform().apiCall({\n                method: 'PUT',\n                url: '/restapi/v1.0/subscription/' + _this.subscription.id,\n                post: {\n                    eventFilters: _this.getFullEventFilters()\n                }\n            });\n        }).then(function (ajax) {\n            _this.updateSubscription(ajax.data).emit(_this.events.renewSuccess, ajax.data);\n            return ajax;\n        }).catch(function (e) {\n            _this.unsubscribe().emit(_this.events.renewError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.remove = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            async: true\n        }, options);\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.subscription || !_this.subscription.id)\n                throw new Error('Subscription ID is required');\n            resolve(_this.getPlatform().apiCall({\n                async: !!options.async,\n                // hook and has to be synchronous\n                method: 'DELETE',\n                url: '/restapi/v1.0/subscription/' + _this.subscription.id\n            }));\n        }).then(function (ajax) {\n            _this.unsubscribe().emit(_this.events.removeSuccess, ajax);\n            return ajax;\n        }).catch(function (e) {\n            _this.emit(_this.events.removeError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.destroy = function () {\n        this.unsubscribe();\n        this.log.info('RC.core.Subscription: Destroyed');\n        return _super.prototype.destroy.call(this);\n    };\n    Subscription.prototype.isSubscribed = function () {\n        return this.subscription && this.subscription.deliveryMode && this.subscription.deliveryMode.subscriberKey && this.subscription.deliveryMode.address;\n    };\n    Subscription.prototype.setTimeout = function () {\n        var _this = this;\n        var timeToExpiration = (this.subscription.expiresIn * 1000) - Subscription.renewHandicapMs;\n        this.timeout = setTimeout(function () {\n            _this.renew({});\n        }, timeToExpiration);\n    };\n    Subscription.prototype.clearTimeout = function () {\n        clearTimeout(this.timeout);\n    };\n    Subscription.prototype.updateSubscription = function (subscription) {\n        this.clearTimeout();\n        this.subscription = subscription;\n        this.setTimeout();\n        return this;\n    };\n    /**\n     * Remove subscription and disconnect from PUBNUB\n     */\n    Subscription.prototype.unsubscribe = function () {\n        this.clearTimeout();\n        if (this.pubnub && this.isSubscribed())\n            this.pubnub.unsubscribe({ channel: this.subscription.deliveryMode.address });\n        this.subscription = null;\n        return this;\n    };\n    /**\n     * Do not use this method! Internal use only\n     * @param message\n     * @returns {Subscription}\n     */\n    Subscription.prototype.notify = function (message) {\n        if (this.isSubscribed() && this.subscription.deliveryMode.encryptionKey) {\n            var CryptoJS = this.getCrypto();\n            var key = CryptoJS.enc.Base64.parse(this.subscription.deliveryMode.encryptionKey);\n            var data = CryptoJS.enc.Base64.parse(message);\n            var decrypted = CryptoJS.AES.decrypt({ ciphertext: data }, key, {\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            }).toString(CryptoJS.enc.Utf8);\n            message = JSON.parse(decrypted);\n        }\n        this.emit(this.events.notification, message);\n        return this;\n    };\n    /**\n     * Do not use this method! Internal use only\n     * @returns {Subscription}\n     */\n    Subscription.prototype.subscribeAtPubnub = function () {\n        var _this = this;\n        if (!this.isSubscribed())\n            return this;\n        var PUBNUB = this.getPubnub();\n        this.pubnub = PUBNUB.init({\n            ssl: true,\n            subscribe_key: this.subscription.deliveryMode.subscriberKey\n        });\n        this.pubnub.ready();\n        this.pubnub.subscribe({\n            channel: this.subscription.deliveryMode.address,\n            message: function (message, env, channel) {\n                _this.log.info('RC.core.Subscription: Incoming message', message);\n                _this.notify(message);\n            },\n            connect: function () {\n                _this.log.info('RC.core.Subscription: PUBNUB connected');\n            }\n        });\n        return this;\n    };\n    Subscription.prototype.on = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Subscription.prototype.off = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Subscription.prototype.emitAndCallback = function (event, args, callback) {\n        _super.prototype.emitAndCallback.call(this, event, args, callback);\n        return this;\n    };\n    Subscription.renewHandicapMs = 60 * 1000;\n    return Subscription;\n})(observable.Observable);\nexports.Subscription = Subscription;\nfunction $get(context) {\n    return new Subscription(context);\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/Subscription.js\n ** module id = 19\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar hasOwn = Object.prototype.hasOwnProperty, toString = Object.prototype.toString, rdigit = /\\d/, class2type = {};\n// Populate the class2type map\n'Boolean Number String Function Array Date RegExp Object'.split(' ').forEach(function (name) {\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n});\nvar Utils = (function () {\n    function Utils() {\n    }\n    /**\n     * Ported from jQuery.fn.extend\n     * Optional first parameter makes deep copy\n     */\n    Utils.prototype.extend = function (targetObject, sourceObject) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;\n        // Handle a deep copy situation\n        if (typeof target === \"boolean\") {\n            deep = target;\n            // skip the boolean and the target\n            target = arguments[i] || {};\n            i++;\n        }\n        // Handle case when target is a string or something (possible in deep copy)\n        if (typeof target !== \"object\" && !this.isFunction(target)) {\n            target = {};\n        }\n        for (; i < length; i++) {\n            // Only deal with non-null/undefined values\n            if ((options = arguments[i]) !== null) {\n                for (name in options) {\n                    src = target[name];\n                    copy = options[name];\n                    // Prevent never-ending loop\n                    if (target === copy) {\n                        continue;\n                    }\n                    // Recurse if we're merging plain objects or arrays\n                    if (deep && copy && (this.isPlainObject(copy) || (copyIsArray = this.isArray(copy)))) {\n                        if (copyIsArray) {\n                            copyIsArray = false;\n                            clone = src && this.isArray(src) ? src : [];\n                        }\n                        else {\n                            clone = src && this.isPlainObject(src) ? src : {};\n                        }\n                        // Never move original objects, clone them\n                        target[name] = this.extend(deep, clone, copy);\n                    }\n                    else if (copy !== undefined) {\n                        target[name] = copy;\n                    }\n                }\n            }\n        }\n        // Return the modified object\n        return target;\n    };\n    Utils.prototype.forEach = function (object, cb) {\n        for (var i in object) {\n            if (!object.hasOwnProperty(i))\n                continue;\n            var res = cb(object[i], i);\n            if (res === false)\n                break;\n        }\n    };\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/maste.r/lib/querystring.js\n     * @param {object} parameters\n     * @returns {string}\n     */\n    Utils.prototype.queryStringify = function (parameters) {\n        var _this = this;\n        var array = [];\n        this.forEach(parameters, function (v, i) {\n            if (_this.isArray(v)) {\n                v.forEach(function (vv) {\n                    array.push(encodeURIComponent(i) + '=' + encodeURIComponent(vv));\n                });\n            }\n            else {\n                array.push(encodeURIComponent(i) + '=' + encodeURIComponent(v));\n            }\n        });\n        return array.join('&');\n    };\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/maste.r/lib/querystring.js\n     * @param {string} queryString\n     * @returns {object}\n     */\n    Utils.prototype.parseQueryString = function (queryString) {\n        var argsParsed = {}, self = this;\n        queryString.split('&').forEach(function (arg) {\n            arg = decodeURIComponent(arg);\n            if (arg.indexOf('=') == -1) {\n                argsParsed[arg.trim()] = true;\n            }\n            else {\n                var pair = arg.split('='), key = pair[0].trim(), value = pair[1].trim();\n                if (key in argsParsed) {\n                    if (key in argsParsed && !self.isArray(argsParsed[key]))\n                        argsParsed[key] = [argsParsed[key]];\n                    argsParsed[key].push(value);\n                }\n                else {\n                    argsParsed[key] = value;\n                }\n            }\n        });\n        return argsParsed;\n    };\n    /**\n     * Returns true if the passed value is valid email address.\n     * Checks multiple comma separated emails according to RFC 2822 if parameter `multiple` is `true`\n     */\n    Utils.prototype.isEmail = function (v, multiple) {\n        if (!!multiple) {\n            //this Regexp is also suitable for multiple emails (comma separated)\n            return /^(?:[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?[ ,;]*)+$/i.test(v);\n        }\n        else {\n            return /^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(v);\n        }\n    };\n    Utils.prototype.isPhoneNumber = function (v) {\n        return (/\\+?1[0-9]{3}[0-9a-z]{7}/im.test(v.toString().split(/[^0-9a-z\\+]/im).join('')));\n    };\n    /**\n     * @param args\n     * @returns {Array}\n     */\n    Utils.prototype.argumentsToArray = function (args) {\n        return Array.prototype.slice.call(args || [], 0);\n    };\n    Utils.prototype.isDate = function (obj) {\n        return this.type(obj) === \"date\";\n    };\n    Utils.prototype.isFunction = function (obj) {\n        return this.type(obj) === \"function\";\n    };\n    Utils.prototype.isArray = function (obj) {\n        return Array.isArray ? Array.isArray(obj) : this.type(obj) === \"array\";\n    };\n    // A crude way of determining if an object is a window\n    Utils.prototype.isWindow = function (obj) {\n        return obj && typeof obj === \"object\" && \"setInterval\" in obj;\n    };\n    Utils.prototype.isNaN = function (obj) {\n        return obj === null || !rdigit.test(obj) || isNaN(obj);\n    };\n    Utils.prototype.type = function (obj) {\n        return obj === null ? String(obj) : class2type[toString.call(obj)] || \"object\";\n    };\n    Utils.prototype.isPlainObject = function (obj) {\n        // Must be an Object.\n        // Because of IE, we also have to check the presence of the constructor property.\n        // Make sure that DOM nodes and window objects don't pass through, as well\n        if (!obj || this.type(obj) !== \"object\" || obj.nodeType || this.isWindow(obj)) {\n            return false;\n        }\n        // Not own constructor property must be Object\n        if (obj.constructor && !hasOwn.call(obj, \"constructor\") && !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n            return false;\n        }\n        // Own properties are enumerated firstly, so to speed up,\n        // if last one is own, then all properties are own.\n        var key;\n        for (key in obj) {\n        }\n        return key === undefined || hasOwn.call(obj, key);\n    };\n    Utils.prototype.getProperty = function (obj, property) {\n        return property.split(/[.[\\]]/).reduce(function (res, part) {\n            if (!res)\n                return undefined;\n            return part ? res[part] : res;\n        }, obj);\n    };\n    Utils.prototype.poll = function (fn, interval, timeout) {\n        this.stopPolling(timeout);\n        interval = interval || 1000;\n        var next = function (delay) {\n            delay = delay || interval;\n            interval = delay;\n            return setTimeout(function () {\n                fn(next, delay);\n            }, delay);\n        };\n        return next();\n    };\n    Utils.prototype.stopPolling = function (timeout) {\n        if (timeout)\n            clearTimeout(timeout);\n    };\n    Utils.prototype.parseString = function (s) {\n        return s ? s.toString() : '';\n    };\n    Utils.prototype.parseNumber = function (n) {\n        if (!n)\n            return 0;\n        n = parseFloat(n);\n        return isNaN(n) ? 0 : n;\n    };\n    return Utils;\n})();\nexports.Utils = Utils;\nfunction $get(context) {\n    return context.createSingleton('Utils', function () {\n        return new Utils();\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/Utils.js\n ** module id = 20\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar utils = require('./Utils');\nvar Validator = (function () {\n    function Validator(context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Validator.prototype.validate = function (validators) {\n        var result = {\n            errors: {},\n            isValid: true\n        };\n        result.errors = validators.reduce(function (errors, validator) {\n            var res = validator.validator();\n            if (res.length > 0) {\n                result.isValid = false;\n                errors[validator.field] = errors[validator.field] || [];\n                errors[validator.field] = errors[validator.field].concat(res);\n            }\n            return errors;\n        }, {});\n        return result;\n    };\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * @deprecated\n     */\n    Validator.prototype.email = function (value, multiple) {\n        var _this = this;\n        return function () {\n            if (!value)\n                return [];\n            return _this.utils.isEmail(value, multiple) ? [] : [new Error('Value has to be a valid email')];\n        };\n    };\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * TODO International phone numbers\n     * @deprecated\n     */\n    Validator.prototype.phone = function (value) {\n        var _this = this;\n        return function () {\n            if (!value)\n                return [];\n            return _this.utils.isPhoneNumber(value) ? [] : [new Error('Value has to be a valid US phone number')];\n        };\n    };\n    Validator.prototype.required = function (value) {\n        return function () {\n            return !value ? [new Error('Field is required')] : [];\n        };\n    };\n    Validator.prototype.length = function (value, max, min) {\n        return function () {\n            var errors = [];\n            if (!value)\n                return errors;\n            value = value.toString();\n            if (min && value.length < min)\n                errors.push(new Error('Minimum length of ' + min + ' characters is required'));\n            if (max && value.length > max)\n                errors.push(new Error('Maximum length of ' + max + ' characters is required'));\n            return errors;\n        };\n    };\n    return Validator;\n})();\nexports.Validator = Validator;\nfunction $get(context) {\n    return context.createSingleton('Validator', function () {\n        return new Validator(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/Validator.js\n ** module id = 21\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar Account = (function (_super) {\n    __extends(Account, _super);\n    function Account() {\n        _super.apply(this, arguments);\n    }\n    Account.prototype.createUrl = function () {\n        return '/account/~';\n    };\n    return Account;\n})(helper.Helper);\nexports.Account = Account;\nfunction $get(context) {\n    return context.createSingleton('Account', function () {\n        return new Account(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Account.js\n ** module id = 22\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar validator = require('../core/Validator');\nvar BlockedNumber = (function (_super) {\n    __extends(BlockedNumber, _super);\n    function BlockedNumber(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    BlockedNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId ? options.extensionId : '~') + '/blocked-number' + (id ? '/' + id : '');\n    };\n    BlockedNumber.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'phoneNumber', validator: this.validator.phone(item.phoneNumber) },\n            { field: 'phoneNumber', validator: this.validator.required(item.phoneNumber) },\n            { field: 'name', validator: this.validator.required(item.name) }\n        ]);\n    };\n    return BlockedNumber;\n})(helper.Helper);\nexports.BlockedNumber = BlockedNumber;\nfunction $get(context) {\n    return context.createSingleton('BlockedNumber', function () {\n        return new BlockedNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/BlockedNumber.js\n ** module id = 23\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar list = require('../core/List');\nvar presence = require('./Presence');\nvar contact = require('./Contact');\nvar Call = (function (_super) {\n    __extends(Call, _super);\n    function Call(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n        this.contact = contact.$get(context);\n        this.presence = presence.$get(context);\n    }\n    Call.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (!('personal' in options) && !('extensionId' in options))\n            options.personal = true;\n        return '/account/~/' + (options.personal || options.extensionId ? ('extension/' + (options.extensionId || '~') + '/') : '') + (options.active ? 'active-calls' : 'call-log') + (id ? '/' + id : '');\n    };\n    Call.prototype.getSessionId = function (call) {\n        return (call && call.sessionId);\n    };\n    Call.prototype.isInProgress = function (call) {\n        return (call && call.result == 'In Progress');\n    };\n    Call.prototype.isAlive = function (call) {\n        return (call && call.availability == 'Alive');\n    };\n    Call.prototype.isInbound = function (call) {\n        return (call && call.direction == 'Inbound');\n    };\n    Call.prototype.isOutbound = function (call) {\n        return !this.isInbound(call);\n    };\n    Call.prototype.isMissed = function (call) {\n        return (call && call.result == 'Missed');\n    };\n    Call.prototype.isFindMe = function (call) {\n        return (call && call.action == 'FindMe');\n    };\n    Call.prototype.getCallerInfo = function (call) {\n        return this.isInbound(call) ? call.from : call.to;\n    };\n    Call.prototype.getAllCallerInfos = function (call) {\n        return [this.getCallerInfo(call)].concat(this.isInbound(call) ? call.to : call.from);\n    };\n    Call.prototype.formatDuration = function (call) {\n        function addZero(v) {\n            return (v < 10) ? '0' + v : v;\n        }\n        var duration = parseInt(call.duration), hours = Math.floor(duration / (60 * 60)), mins = Math.floor((duration % (60 * 60)) / 60), secs = Math.floor(duration % 60);\n        return (hours ? hours + ':' : '') + addZero(mins) + ':' + addZero(secs);\n    };\n    Call.prototype.filter = function (options) {\n        options = this.utils.extend({\n            alive: true,\n            direction: '',\n            type: ''\n        }, options);\n        return this.list.filter([\n            { filterBy: 'direction', condition: options.direction },\n            { filterBy: 'type', condition: options.type }\n        ]);\n    };\n    Call.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'startTime'\n        }, options));\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in\n     * all calls Warning, this function may be performance-consuming, reduce the amount of items passed to contacts\n     * and calls\n     */\n    Call.prototype.attachContacts = function (contacts, calls, options) {\n        var self = this;\n        // Flatten all caller infos from all messages\n        var callerInfos = calls.reduce(function (callerInfos, call) {\n            return callerInfos.concat(self.getAllCallerInfos(call));\n        }, []);\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n    };\n    /**\n     * Check whether pair of calls are two legs of RingOut\n     */\n    Call.prototype.checkMergeability = function (outboundRingOutCall, inboundCall, options) {\n        function getTime(dateString) {\n            return (new Date(dateString)).getTime();\n        }\n        return ((!options.strict || outboundRingOutCall.action && outboundRingOutCall.action.toLowerCase().indexOf('ringout') != -1) && outboundRingOutCall.direction == 'Outbound' && inboundCall.direction == 'Inbound' && ((!inboundCall.startTime && !outboundRingOutCall.startTime) || Math.abs(getTime(inboundCall.startTime) - getTime(outboundRingOutCall.startTime)) < (options.maxStartTimeDiscrepancy || 5000)) && inboundCall.from.phoneNumber == outboundRingOutCall.to.phoneNumber && (inboundCall.to.phoneNumber == outboundRingOutCall.from.phoneNumber || inboundCall.to.name == outboundRingOutCall.from.name));\n    };\n    Call.prototype.combineCalls = function (outboundRingOutCall, inboundCall, options) {\n        options = options || {};\n        var result = [];\n        outboundRingOutCall.hasSubsequent = true;\n        if (options.merge) {\n            outboundRingOutCall.duration = (outboundRingOutCall.duration > inboundCall.duration) ? outboundRingOutCall.duration : inboundCall.duration;\n            // TODO Usually information from inbound call is more accurate for unknown reason\n            outboundRingOutCall.from = inboundCall.to;\n            outboundRingOutCall.to = inboundCall.from;\n            // Push only one \"merged\" outbound call\n            result.push(outboundRingOutCall);\n        }\n        else {\n            // Mark next call as subsequent\n            inboundCall.subsequent = true;\n            inboundCall.startTime = outboundRingOutCall.startTime; // Needed for sort\n            // Push both calls, first outbound then inbound\n            result.push(outboundRingOutCall);\n            result.push(inboundCall);\n        }\n        return result;\n    };\n    /**\n     * (!) Experimental (!)\n     *\n     * Calls in Recent Calls (Call Log) or Active Calls arrays can be combined if they are, for example, two legs of\n     * one RingOut. The logic that stands behind this process is simple:\n     *\n     * - Calls must have opposite directions\n     * - Must have been started within a certain limited time frame\n     * - Must have same phone numbers in their Caller Info sections (from/to)\n     *\n     * ```js\n     * var processedCalls = Call.processCalls(callsArray, {strict: false, merge: true});\n     * ```\n     *\n     * Flags:\n     *\n     * - if `strict` is `true` then only calls with RingOut in `action` property will be affected\n     * - `merge` &mdash; controls whether to merge calls (reducing the length of array) or give them `subsequent`\n     *     and `hasSubsequent` properties\n     */\n    Call.prototype.processCalls = function (calls, options) {\n        var processedCalls = [], callsToMerge = [], self = this;\n        // Iterate through calls\n        calls.forEach(function (call) {\n            var merged = false;\n            call.subsequent = false;\n            call.hasSubsequent = false;\n            // Second cycle to find other leg\n            // It is assumed that call is the outbound, secondCall is inbound\n            calls.some(function (secondCall) {\n                if (call === secondCall)\n                    return false;\n                if (self.checkMergeability(call, secondCall, options)) {\n                    // Push to result array merged call\n                    processedCalls = processedCalls.concat(self.combineCalls(call, secondCall, options));\n                    // Push to array calls that are merged\n                    callsToMerge.push(call);\n                    callsToMerge.push(secondCall);\n                    merged = true;\n                }\n                return merged;\n            });\n        });\n        // After all calls are merged, add non-merged calls\n        calls.forEach(function (call) {\n            if (callsToMerge.indexOf(call) == -1)\n                processedCalls.push(call);\n        });\n        return processedCalls;\n    };\n    /**\n     * Converts Presence's ActiveCall array into regular Calls array\n     */\n    Call.prototype.parsePresenceCalls = function (activeCalls) {\n        var _this = this;\n        return activeCalls.map(function (activeCall) {\n            return {\n                id: activeCall.id,\n                uri: '',\n                sessionId: activeCall.sessionId,\n                from: { phoneNumber: activeCall.from },\n                to: { phoneNumber: activeCall.to },\n                direction: activeCall.direction,\n                startTime: '',\n                duration: 0,\n                type: '',\n                action: '',\n                result: _this.presence.isCallInProgress(activeCall) ? 'In Progress' : activeCall.telephonyStatus,\n                telephonyStatus: activeCall.telephonyStatus // non-standard property for compatibility\n            };\n        });\n    };\n    Call.prototype.getSignature = function (call) {\n        function cleanup(phoneNumber) {\n            return (phoneNumber || '').toString().replace(/[^0-9]/ig, '');\n        }\n        return call.direction + '|' + (call.from && cleanup(call.from.phoneNumber)) + '|' + (call.to && cleanup(call.to.phoneNumber));\n    };\n    Call.prototype.mergePresenceCalls = function (presenceCalls, presence) {\n        var currentDate = new Date(), activeCalls = this.parsePresenceCalls(presence && presence.activeCalls || []).map(function (call) {\n            // delete property to make sure it is skipped during merge\n            delete call.startTime;\n            return call;\n        });\n        presenceCalls = this.merge(presenceCalls || [], activeCalls, this.getSessionId, true);\n        presenceCalls.forEach(function (call) {\n            if (!call.startTime)\n                call.startTime = currentDate.toISOString();\n        });\n        return presenceCalls;\n    };\n    Call.prototype.mergeAll = function (presenceCalls, calls, activeCalls) {\n        // First, merge calls into presence calls\n        var presenceAndCalls = this.merge(presenceCalls || [], calls || [], this.getSessionId, true);\n        // Second, merge activeCalls into previous result\n        return this.merge(presenceAndCalls, activeCalls || [], this.getSessionId, true);\n    };\n    return Call;\n})(helper.Helper);\nexports.Call = Call;\nfunction $get(context) {\n    return context.createSingleton('Call', function () {\n        return new Call(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Call.js\n ** module id = 24\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar validator = require('../core/Validator');\nvar list = require('../core/List');\nvar Contact = (function (_super) {\n    __extends(Contact, _super);\n    function Contact(context) {\n        _super.call(this, context);\n        this.phoneFields = [\n            'homePhone',\n            'homePhone2',\n            'businessPhone',\n            'businessPhone2',\n            'mobilePhone',\n            'companyPhone',\n            'assistantPhone',\n            'carPhone',\n            'otherPhone',\n            'callbackPhone'\n        ];\n        this.faxFields = [\n            'businessFax',\n            'otherFax'\n        ];\n        this.addressFields = [\n            'homeAddress',\n            'businessAddress',\n            'otherAddress'\n        ];\n        this.addressSubFields = [\n            'street',\n            'city',\n            'state',\n            'zip'\n        ];\n        this.nameFields = [\n            'firstName',\n            'middleName',\n            'lastName',\n            'nickName'\n        ];\n        this.otherFields = [\n            'company',\n            'jobTitle',\n            'webPage',\n            'notes'\n        ];\n        this.emailFields = [\n            'email',\n            'email2',\n            'email3'\n        ];\n        this.list = list.$get(context);\n        this.validator = validator.$get(context);\n    }\n    Contact.prototype.createUrl = function (options, id) {\n        options = options || {};\n        var root = '/account/~/extension/' + (options.extensionId ? options.extensionId : '~') + '/address-book';\n        if (options.sync)\n            return root + '-sync';\n        return root + (options.groupId ? '/group/' + options.groupId + '/contact' : '/contact') + (id ? '/' + id : '');\n    };\n    /**\n     * Returns all values of the given fields if value exists\n     */\n    Contact.prototype.getFieldValues = function (where, fields, asHash) {\n        return fields.reduce(function (result, field) {\n            if (where && where[field]) {\n                if (asHash) {\n                    result[field] = where[field];\n                }\n                else {\n                    result.push(where[field]);\n                }\n            }\n            return result;\n        }, asHash ? {} : []);\n    };\n    Contact.prototype.getFullName = function (contact) {\n        return this.getFieldValues(contact, this.nameFields).join(' ');\n    };\n    Contact.prototype.getEmails = function (contact, asHash) {\n        return this.getFieldValues(contact, this.emailFields, asHash);\n    };\n    Contact.prototype.getPhones = function (contact, asHash) {\n        return this.getFieldValues(contact, this.phoneFields, asHash);\n    };\n    Contact.prototype.getFaxes = function (contact, asHash) {\n        return this.getFieldValues(contact, this.faxFields, asHash);\n    };\n    Contact.prototype.getAddresses = function (contact, asHash) {\n        return this.getFieldValues(contact, this.addressFields, asHash);\n    };\n    Contact.prototype.isAlive = function (contact) {\n        return (contact.availability == 'Alive');\n    };\n    /**\n     * Matches a contact against a given string, returns null if nothing found\n     */\n    Contact.prototype.match = function (contact, string, options) {\n        var _this = this;\n        options = this.utils.extend({\n            fields: [].concat(this.nameFields, this.emailFields, this.phoneFields, this.faxFields, this.otherFields),\n            inAddresses: true,\n            transformFn: function (value, options) {\n                return value ? value.toString().toLocaleLowerCase() : '';\n            },\n            strict: false\n        }, options);\n        string = options.transformFn(string, options);\n        var found = null;\n        if (!string)\n            return found;\n        var matchWith = function (value) {\n            // skip unnecessary cycles if match has been found\n            if (found)\n                return;\n            var transformed = options.transformFn(value, options);\n            if (!transformed)\n                return;\n            var match = (options.strict ? transformed == string : transformed.indexOf(string) > -1);\n            if (match)\n                found = value;\n        };\n        // Search in fields\n        options.fields.forEach(function (field) {\n            matchWith(contact[field]);\n        });\n        // Search in addresses, skip unnecessary cycles if match has been found\n        if (options.inAddresses && !found)\n            this.addressFields.forEach(function (field) {\n                // skip unnecessary cycles if match has been found or no field value\n                if (!contact[field] || found)\n                    return;\n                _this.addressSubFields.forEach(function (subField) {\n                    matchWith(contact[field][subField]);\n                });\n            });\n        return found;\n    };\n    /**\n     * Matches a contact against a given phone number, returns null if nothing found\n     */\n    Contact.prototype.matchAsPhone = function (contact, phone, options) {\n        return this.match(contact, phone, this.utils.extend({\n            fields: [].concat(this.phoneFields, this.faxFields),\n            inAddresses: false,\n            transformFn: function (value, options) {\n                return value ? value.toString().replace(/[^\\d\\w]/ig, '') : ''; //TODO Trickier removal reqired;\n            },\n            strict: false\n        }, options));\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all given {ICallerInfo}\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and callerInfos\n     */\n    Contact.prototype.attachToCallerInfos = function (callerInfos, contacts, options) {\n        var self = this, callerInfoIndex = this.index(callerInfos, function (callerInfo) {\n            return callerInfo.phoneNumber;\n        }, true);\n        this.utils.forEach(callerInfoIndex, function (indexedCallerInfos, phoneNumber) {\n            var foundContact = null, foundPhone = null;\n            contacts.some(function (contact) {\n                foundPhone = self.matchAsPhone(contact, phoneNumber, options);\n                if (foundPhone)\n                    foundContact = contact;\n                return foundPhone;\n            });\n            if (foundContact) {\n                indexedCallerInfos.forEach(function (callerInfo) {\n                    callerInfo.contact = foundContact;\n                    callerInfo.contactPhone = foundPhone;\n                });\n            }\n        });\n    };\n    Contact.prototype.comparator = function (options) {\n        var self = this;\n        return this.list.comparator(this.utils.extend({\n            extractFn: function (contact, options) {\n                return self.getFullName(contact);\n            }\n        }, options));\n    };\n    /**\n     * TODO Add filtering by group http://jira.ringcentral.com/browse/SDK-4\n     */\n    Contact.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            alive: true,\n            startsWith: '',\n            phonesOnly: false,\n            faxesOnly: false\n        }, options);\n        return this.list.filter([\n            { condition: options.alive, filterFn: this.isAlive },\n            { condition: options.startsWith, filterFn: function (item, opts) {\n                return _this.match(item, opts.condition);\n            } },\n            { condition: options.phonesOnly, filterFn: function (item, opts) {\n                return (_this.getPhones(item).length > 0);\n            } },\n            { condition: options.faxesOnly, filterFn: function (item, opts) {\n                return (_this.getFaxes(item).length > 0);\n            } }\n        ]);\n    };\n    Contact.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'firstName', validator: this.validator.required(item.firstName) },\n            { field: 'lastName', validator: this.validator.required(item.lastName) },\n            { field: 'email', validator: this.validator.email(item.email) },\n            { field: 'email2', validator: this.validator.email(item.email2) },\n            { field: 'email3', validator: this.validator.email(item.email3) }\n        ]);\n    };\n    return Contact;\n})(helper.Helper);\nexports.Contact = Contact;\nfunction $get(context) {\n    return context.createSingleton('Contact', function () {\n        return new Contact(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Contact.js\n ** module id = 25\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar validator = require('../core/Validator');\nvar ContactGroup = (function (_super) {\n    __extends(ContactGroup, _super);\n    function ContactGroup(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    ContactGroup.prototype.createUrl = function (options, id) {\n        return '/account/~/extension/~/address-book/group' + (id ? '/' + id : '');\n    };\n    ContactGroup.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'groupName', validator: this.validator.required(item && item.groupName) }\n        ]);\n    };\n    return ContactGroup;\n})(helper.Helper);\nexports.ContactGroup = ContactGroup;\nfunction $get(context) {\n    return context.createSingleton('ContactGroup', function () {\n        return new ContactGroup(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/ContactGroup.js\n ** module id = 26\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar Conferencing = (function (_super) {\n    __extends(Conferencing, _super);\n    function Conferencing() {\n        _super.apply(this, arguments);\n    }\n    Conferencing.prototype.createUrl = function () {\n        return '/account/~/extension/~/conferencing';\n    };\n    return Conferencing;\n})(helper.Helper);\nexports.Conferencing = Conferencing;\nfunction $get(context) {\n    return context.createSingleton('Conferencing', function () {\n        return new Conferencing(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Conferencing.js\n ** module id = 27\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar Country = (function (_super) {\n    __extends(Country, _super);\n    function Country() {\n        _super.apply(this, arguments);\n    }\n    Country.prototype.createUrl = function (options, id) {\n        return '/dictionary/country';\n    };\n    return Country;\n})(helper.Helper);\nexports.Country = Country;\nfunction $get(context) {\n    return context.createSingleton('Country', function () {\n        return new Country(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Country.js\n ** module id = 28\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar validator = require('../core/Validator');\nvar extension = require('./Extension');\nvar deviceModel = require('./DeviceModel');\nvar Device = (function (_super) {\n    __extends(Device, _super);\n    function Device(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n        this.extension = extension.$get(context);\n        this.deviceModel = deviceModel.$get(context);\n    }\n    Device.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (options.order)\n            return '/account/~/order';\n        return '/account/~' + (options.extensionId ? '/extension/' + options.extensionId : '') + '/device' + (id ? '/' + id : '');\n    };\n    /**\n     * @param {IDevice} item\n     */\n    Device.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'emergencyServiceAddress-street', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.street) },\n            { field: 'emergencyServiceAddress-city', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.city) },\n            { field: 'emergencyServiceAddress-state', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.state) },\n            { field: 'emergencyServiceAddress-country', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.country) },\n            { field: 'emergencyServiceAddress-zip', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.zip) },\n            { field: 'emergencyServiceAddress-customerName', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.customerName) },\n            { field: 'extension', validator: this.validator.required(this.extension.getId(item && item.extension)) },\n            { field: 'model', validator: this.validator.required(this.deviceModel.getId(item && item.model)) }\n        ]);\n    };\n    return Device;\n})(helper.Helper);\nexports.Device = Device;\nfunction $get(context) {\n    return context.createSingleton('Device', function () {\n        return new Device(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Device.js\n ** module id = 29\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar DeviceModel = (function (_super) {\n    __extends(DeviceModel, _super);\n    function DeviceModel() {\n        _super.apply(this, arguments);\n        /**\n         * TODO Remove when http://jira.ringcentral.com/browse/SDK-1 is done\n         */\n        this.devices = [\n            {\n                id: '-1',\n                name: 'Softphone'\n            },\n            {\n                id: '0',\n                name: 'Existing device'\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '23',\n                name: 'Polycom IP 321 Basic IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '30',\n                name: 'Polycom IP 550 HD Manager IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '37',\n                name: 'Polycom IP 6000 Conference Phone',\n                deviceClass: 'Conference Phone'\n            },\n            {\n                id: '40',\n                name: 'Polycom IP 335 HD IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '51',\n                name: 'Cisco SPA-303 Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone with 2 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone with 2 Expansion Modules\tDesk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 2 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 3 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '3'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '52',\n                name: 'Cisco SPA-122 ATA',\n                deviceClass: 'Analog Adapter'\n            },\n            {\n                id: '53',\n                name: 'Polycom VVX-500 Color Touchscreen',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '54',\n                name: 'Polycom VVX-310 Gigabit Ethernet Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '55',\n                name: 'Polycom VVX-410 Color Gigabit Ethernet Phone',\n                deviceClass: 'Desk Phone'\n            }\n        ];\n    }\n    DeviceModel.prototype.getId = function (device) {\n        if (!device)\n            return null;\n        return device.id + (device.addons && device.addons[0] ? '-' + device.addons[0].id + '-' + device.addons[0].count : '');\n    };\n    /**\n     * Remove extra textual information from device\n     * @exceptionalCase Platform does not understand full device info\n     */\n    DeviceModel.prototype.cleanForSaving = function (device) {\n        if (!device)\n            return null;\n        delete device.name;\n        delete device.deviceClass;\n        if (device.addons && device.addons.length > 0) {\n            device.addons.forEach(function (addon, i) {\n                delete device.addons[i].name;\n            });\n        }\n        else {\n            delete device.addons;\n        }\n        return device;\n    };\n    return DeviceModel;\n})(helper.Helper);\nexports.DeviceModel = DeviceModel;\nfunction $get(context) {\n    return context.createSingleton('DeviceModel', function () {\n        return new DeviceModel(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/DeviceModel.js\n ** module id = 30\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar list = require('../core/List');\nvar Extension = (function (_super) {\n    __extends(Extension, _super);\n    function Extension(context) {\n        _super.call(this, context);\n        this.type = {\n            department: 'Department',\n            user: 'User',\n            announcement: 'Announcement',\n            voicemail: 'Voicemail'\n        };\n        this.list = list.$get(context);\n    }\n    Extension.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~' + (options.departmentId ? '/department/' + options.departmentId + '/members' : '/extension') + (id ? '/' + id : '');\n    };\n    Extension.prototype.isUser = function (extension) {\n        return extension && extension.type == this.type.user;\n    };\n    Extension.prototype.isDepartment = function (extension) {\n        return extension && extension.type == this.type.department;\n    };\n    Extension.prototype.isAnnouncement = function (extension) {\n        return extension && extension.type == this.type.announcement;\n    };\n    Extension.prototype.isVoicemail = function (extension) {\n        return extension && extension.type == this.type.voicemail;\n    };\n    Extension.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'extensionNumber',\n            compareFn: this.list.numberComparator\n        }, options));\n    };\n    Extension.prototype.filter = function (options) {\n        options = this.utils.extend({\n            search: '',\n            type: ''\n        }, options);\n        return this.list.filter([\n            { filterBy: 'type', condition: options.type },\n            {\n                condition: options.search.toLocaleLowerCase(),\n                filterFn: this.list.containsFilter,\n                extractFn: function (item) {\n                    return (item.name && (item.name.toLocaleLowerCase() + ' ')) + (item.extensionNumber && item.extensionNumber.toString().toLocaleLowerCase());\n                }\n            }\n        ]);\n    };\n    return Extension;\n})(helper.Helper);\nexports.Extension = Extension;\nfunction $get(context) {\n    return context.createSingleton('Extension', function () {\n        return new Extension(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Extension.js\n ** module id = 31\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar list = require('../core/List');\nvar ForwardingNumber = (function (_super) {\n    __extends(ForwardingNumber, _super);\n    function ForwardingNumber(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n    }\n    ForwardingNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId || '~') + '/forwarding-number' + (id ? '/' + id : '');\n    };\n    ForwardingNumber.prototype.getId = function (forwardingNumber) {\n        return forwardingNumber && (forwardingNumber.id || (forwardingNumber.phoneNumber)); //TODO @exceptionalCase\n    };\n    ForwardingNumber.prototype.hasFeature = function (phoneNumber, feature) {\n        return (!!phoneNumber && !!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    };\n    ForwardingNumber.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'label'\n        }, options));\n    };\n    ForwardingNumber.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            features: []\n        }, options);\n        return this.list.filter([{\n            condition: options.features.length,\n            filterFn: function (item) {\n                return options.features.some(function (feature) {\n                    return _this.hasFeature(item, feature);\n                });\n            }\n        }]);\n    };\n    return ForwardingNumber;\n})(helper.Helper);\nexports.ForwardingNumber = ForwardingNumber;\nfunction $get(context) {\n    return context.createSingleton('ForwardingNumber', function () {\n        return new ForwardingNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/ForwardingNumber.js\n ** module id = 32\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar Language = (function (_super) {\n    __extends(Language, _super);\n    function Language() {\n        _super.apply(this, arguments);\n        this.languages = [\n            {\n                id: '1033',\n                name: 'English (US)'\n            },\n            {\n                id: '3084',\n                name: 'French (Canada)'\n            }\n        ];\n    }\n    return Language;\n})(helper.Helper);\nexports.Language = Language;\nfunction $get(context) {\n    return context.createSingleton('Language', function () {\n        return new Language(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Language.js\n ** module id = 33\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar list = require('../core/List');\nvar state = require('./State');\nvar Location = (function (_super) {\n    __extends(Location, _super);\n    function Location(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n        this.state = state.$get(context);\n    }\n    Location.prototype.createUrl = function () {\n        return '/dictionary/location';\n    };\n    Location.prototype.filter = function (options) {\n        var uniqueNPAs = [];\n        options = this.utils.extend({\n            stateId: '',\n            onlyUniqueNPA: false\n        }, options);\n        return this.list.filter([\n            {\n                condition: options.stateId,\n                filterFn: function (item, opts) {\n                    return (this.state.getId(item.state) == opts.condition);\n                }.bind(this)\n            },\n            {\n                condition: options.onlyUniqueNPA,\n                filterFn: function (item, opts) {\n                    if (uniqueNPAs.indexOf(item.npa) == -1) {\n                        uniqueNPAs.push(item.npa);\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                }\n            }\n        ]);\n    };\n    Location.prototype.comparator = function (options) {\n        options = this.utils.extend({\n            sortBy: 'npa'\n        }, options);\n        if (options.sortBy == 'nxx') {\n            options.extractFn = function (item) {\n                return (parseInt(item.npa) * 1000000) + parseInt(item.nxx);\n            };\n            options.compareFn = this.list.numberComparator;\n        }\n        return this.list.comparator(options);\n    };\n    return Location;\n})(helper.Helper);\nexports.Location = Location;\nfunction $get(context) {\n    return context.createSingleton('Location', function () {\n        return new Location(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Location.js\n ** module id = 34\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar list = require('../core/List');\nvar validator = require('../core/Validator');\nvar subscription = require('../core/Subscription');\nvar platform = require('../core/Platform');\nvar contact = require('./Contact');\nvar Message = (function (_super) {\n    __extends(Message, _super);\n    function Message(context) {\n        _super.call(this, context);\n        this.contact = contact.$get(context);\n        this.list = list.$get(context);\n        this.platform = platform.$get(context);\n        this.validator = validator.$get(context);\n    }\n    /**\n     *\n     * @exceptionalCase Different endpoint when creating SMS/Pager\n     */\n    Message.prototype.createUrl = function (options, id) {\n        options = options || {};\n        var root = '/account/~/extension/' + (options.extensionId || '~');\n        if (options.fax)\n            return root + '/fax';\n        if (options.sms)\n            return root + '/sms';\n        if (options.pager)\n            return root + '/company-pager';\n        if (options.sync)\n            return root + '/message-sync';\n        return root + '/message-store' + (id ? '/' + id : '');\n    };\n    Message.prototype.isInbound = function (message) {\n        return (message && message.direction == 'Inbound');\n    };\n    Message.prototype.isOutbound = function (message) {\n        return !this.isInbound(message);\n    };\n    Message.prototype.isSMS = function (message) {\n        return (message && message.type == 'SMS');\n    };\n    Message.prototype.isPager = function (message) {\n        return (message && message.type == 'Pager');\n    };\n    Message.prototype.isVoiceMail = function (message) {\n        return (message && message.type == 'VoiceMail');\n    };\n    Message.prototype.isFax = function (message) {\n        return (message && message.type == 'Fax');\n    };\n    Message.prototype.isAlive = function (message) {\n        //return (this.availability != 'Deleted' && this.availability != 'Purged');\n        return (message && message.availability == 'Alive');\n    };\n    Message.prototype.isRead = function (message) {\n        return (message.readStatus == 'Read');\n    };\n    Message.prototype.setIsRead = function (message, isRead) {\n        message.readStatus = (!!isRead) ? 'Read' : 'Unread';\n        return message;\n    };\n    Message.prototype.getAttachmentUrl = function (message, i) {\n        return message.attachments[i] ? this.platform.apiUrl(message.attachments[i].uri, { addMethod: 'GET', addServer: true, addToken: true }) : '';\n    };\n    Message.prototype.getAttachmentContentType = function (message, i) {\n        return message.attachments[i] ? message.attachments[i].contentType : '';\n    };\n    Message.prototype.getSubscription = function (options) {\n        return subscription.$get(this.context).setEvents([this.createUrl(options)]);\n    };\n    /**\n     * Returns from-phones if inbound (oterwise to-phones)\n     */\n    Message.prototype.getCallerInfos = function (message) {\n        return this.isInbound(message) ? [message.from] : message.to;\n    };\n    /**\n     * Returns first from-phones if inbound (oterwise to-phones), then vice-versa\n     */\n    Message.prototype.getAllCallerInfos = function (message) {\n        return this.getCallerInfos(message).concat(this.isInbound(message) ? message.to : [message.from]);\n    };\n    /**\n     * TODO Compare as dates\n     */\n    Message.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'creationTime'\n        }, options));\n    };\n    Message.prototype.filter = function (options) {\n        options = this.utils.extend({\n            search: '',\n            alive: true,\n            direction: '',\n            conversationId: '',\n            readStatus: ''\n        }, options);\n        return this.list.filter([\n            { condition: options.alive, filterFn: this.isAlive },\n            { filterBy: 'type', condition: options.type },\n            { filterBy: 'direction', condition: options.direction },\n            { filterBy: 'conversationId', condition: options.conversationId },\n            { filterBy: 'readStatus', condition: options.readStatus },\n            { filterBy: 'subject', condition: options.search, filterFn: this.list.containsFilter }\n        ]);\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in all messages\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and messages\n     */\n    Message.prototype.attachContacts = function (contacts, messages, options) {\n        var self = this;\n        // Flatten all caller infos from all messages\n        var callerInfos = messages.reduce(function (callerInfos, message) {\n            return callerInfos.concat(self.getAllCallerInfos(message));\n        }, []);\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n    };\n    Message.prototype.shorten = function (message) {\n        return {\n            from: message.from,\n            to: message.to,\n            text: message.subject\n        };\n    };\n    Message.prototype.validateSMS = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to[0].phoneNumber')) },\n            { field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.phoneNumber')) },\n            { field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject')) },\n            { field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160) }\n        ]);\n    };\n    Message.prototype.validatePager = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to.extensionNumber')) },\n            { field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.extensionNumber')) },\n            { field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject')) },\n            { field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160) }\n        ]);\n    };\n    return Message;\n})(helper.Helper);\nexports.Message = Message;\nfunction $get(context) {\n    return context.createSingleton('Message', function () {\n        return new Message(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Message.js\n ** module id = 35\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar list = require('../core/List');\nvar extension = require('./Extension');\nvar PhoneNumber = (function (_super) {\n    __extends(PhoneNumber, _super);\n    function PhoneNumber(context) {\n        _super.call(this, context);\n        this.extension = extension.$get(context);\n        this.list = list.$get(context);\n    }\n    PhoneNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (options.lookup)\n            return '/number-pool/lookup';\n        return '/account/~' + (options.extensionId ? '/extension/' + options.extensionId : '') + '/phone-number' + (id ? '/' + id : '');\n    };\n    PhoneNumber.prototype.isSMS = function (phoneNumber) {\n        return this.hasFeature(phoneNumber, 'SmsSender');\n    };\n    PhoneNumber.prototype.hasFeature = function (phoneNumber, feature) {\n        return (!!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    };\n    PhoneNumber.prototype.reserve = function (phoneNumber, date) {\n        phoneNumber.reservedTill = new Date(date).toISOString();\n    };\n    PhoneNumber.prototype.unreserve = function (phoneNumber) {\n        phoneNumber.reservedTill = null;\n    };\n    PhoneNumber.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            extractFn: function (item) {\n                return item.usageType + '-' + item.paymentType + '-' + item.type;\n            }\n        }, options));\n    };\n    /**\n     * TODO Add other filtering methods http://jira.ringcentral.com/browse/SDK-5\n     */\n    PhoneNumber.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            usageType: '',\n            paymentType: '',\n            type: '',\n            features: []\n        }, options);\n        return this.list.filter([\n            { filterBy: 'usageType', condition: options.usageType },\n            { filterBy: 'paymentType', condition: options.paymentType },\n            { filterBy: 'type', condition: options.type },\n            {\n                condition: options.features.length,\n                filterFn: function (item) {\n                    return options.features.some(function (feature) {\n                        return _this.hasFeature(item, feature);\n                    });\n                }\n            }\n        ]);\n    };\n    return PhoneNumber;\n})(helper.Helper);\nexports.PhoneNumber = PhoneNumber;\nfunction $get(context) {\n    return context.createSingleton('PhoneNumber', function () {\n        return new PhoneNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/PhoneNumber.js\n ** module id = 36\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar subscription = require('../core/Subscription');\nvar extension = require('./Extension');\nvar Presence = (function (_super) {\n    __extends(Presence, _super);\n    function Presence(context) {\n        _super.call(this, context);\n        this.extension = extension.$get(context);\n    }\n    Presence.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (id || '~') + '/presence' + (options.detailed ? '?detailedTelephonyState=true' : '');\n    };\n    Presence.prototype.getId = function (presence) {\n        return presence && (this.extension.getId(presence.extension) || presence.extensionId);\n    };\n    Presence.prototype.isAvailable = function (presence) {\n        return presence && presence.presenceStatus == 'Available';\n    };\n    Presence.prototype.getSubscription = function (options, id) {\n        return subscription.$get(this.context).setEvents([this.createUrl(options, id)]);\n    };\n    Presence.prototype.updateSubscription = function (subscription, presences, options) {\n        var events = presences.map(this.getId, this).map(function (id) {\n            return this.createUrl(options, id);\n        }, this);\n        subscription.addEvents(events);\n        return subscription;\n    };\n    Presence.prototype.attachToExtensions = function (extensions, presences, merge) {\n        var _this = this;\n        var index = this.index(presences);\n        extensions.forEach(function (ex) {\n            var presence = index[_this.extension.getId(ex)];\n            if (presence) {\n                if ('presence' in ex && merge) {\n                    _this.utils.extend(ex.presence, presence);\n                }\n                else {\n                    ex.presence = presence;\n                }\n            }\n        }, this);\n        return this;\n    };\n    Presence.prototype.isCallInProgress = function (presenceCall) {\n        return (presenceCall && presenceCall.telephonyStatus != 'NoCall');\n    };\n    return Presence;\n})(helper.Helper);\nexports.Presence = Presence;\nfunction $get(context) {\n    return context.createSingleton('Presence', function () {\n        return new Presence(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Presence.js\n ** module id = 37\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar validator = require('../core/Validator');\nvar Ringout = (function (_super) {\n    __extends(Ringout, _super);\n    function Ringout(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    Ringout.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId || '~') + '/ringout' + (id ? '/' + id : '');\n    };\n    Ringout.prototype.resetAsNew = function (object) {\n        object = _super.prototype.resetAsNew.call(this, object);\n        if (object) {\n            delete object.status;\n        }\n        return object;\n    };\n    Ringout.prototype.isInProgress = function (ringout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'InProgress';\n    };\n    Ringout.prototype.isSuccess = function (ringout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'Success';\n    };\n    Ringout.prototype.isError = function (ringout) {\n        return !this.isNew(ringout) && !this.isInProgress(ringout) && !this.isSuccess(ringout);\n    };\n    Ringout.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(item && item.to && item.to.phoneNumber) },\n            { field: 'from', validator: this.validator.required(item && item.from && item.from.phoneNumber) }\n        ]);\n    };\n    return Ringout;\n})(helper.Helper);\nexports.Ringout = Ringout;\nfunction $get(context) {\n    return context.createSingleton('Ringout', function () {\n        return new Ringout(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Ringout.js\n ** module id = 38\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar Service = (function (_super) {\n    __extends(Service, _super);\n    function Service() {\n        _super.apply(this, arguments);\n        this.isSmsEnabled = this.isServiceFeatureEnabledMethod('SMS');\n        this.isSmsReceivingEnabled = this.isServiceFeatureEnabledMethod('SMSReceiving');\n        this.isPresenceEnabled = this.isServiceFeatureEnabledMethod('Presence');\n        this.isRingOutEnabled = this.isServiceFeatureEnabledMethod('RingOut');\n        this.isInternationalCallingEnabled = this.isServiceFeatureEnabledMethod('InternationalCalling');\n        this.isDndEnabled = this.isServiceFeatureEnabledMethod('DND');\n        this.isFaxEnabled = this.isServiceFeatureEnabledMethod('Fax');\n        this.isFaxReceivingEnabled = this.isServiceFeatureEnabledMethod('FaxReceiving');\n        this.isVoicemailEnabled = this.isServiceFeatureEnabledMethod('Voicemail');\n        this.isPagerEnabled = this.isServiceFeatureEnabledMethod('Pager');\n        this.isPagerReceivingEnabled = this.isServiceFeatureEnabledMethod('PagerReceiving');\n        this.isVoipCallingEnabled = this.isServiceFeatureEnabledMethod('VoipCalling');\n        this.isVideoConferencingEnabled = this.isServiceFeatureEnabledMethod('VideoConferencing');\n        this.isSalesForceEnabled = this.isServiceFeatureEnabledMethod('SalesForce');\n        this.isIntercomEnabled = this.isServiceFeatureEnabledMethod('Intercom');\n        this.isPagingEnabled = this.isServiceFeatureEnabledMethod('Paging');\n        this.isConferencingEnabled = this.isServiceFeatureEnabledMethod('Conferencing');\n        this.isFreeSoftPhoneLinesEnabled = this.isServiceFeatureEnabledMethod('FreeSoftPhoneLines');\n        this.isHipaaComplianceEnabled = this.isServiceFeatureEnabledMethod('HipaaCompliance');\n        this.isCallParkEnabled = this.isServiceFeatureEnabledMethod('CallPark');\n        this.isOnDemandCallRecordingEnabled = this.isServiceFeatureEnabledMethod('OnDemandCallRecording');\n    }\n    Service.prototype.createUrl = function () {\n        return '/account/~/service-info';\n    };\n    Service.prototype.isEnabled = function (feature, serviceFeatures) {\n        return serviceFeatures.reduce(function (value, f) {\n            if (f.featureName == feature)\n                value = f.enabled;\n            return value;\n        }, false);\n    };\n    Service.prototype.isServiceFeatureEnabledMethod = function (feature) {\n        return function (serviceFeatures) {\n            return this.isEnabled(feature, serviceFeatures);\n        };\n    };\n    return Service;\n})(helper.Helper);\nexports.Service = Service;\nfunction $get(context) {\n    return context.createSingleton('Service', function () {\n        return new Service(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Service.js\n ** module id = 39\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar ShippingMethod = (function (_super) {\n    __extends(ShippingMethod, _super);\n    function ShippingMethod() {\n        _super.apply(this, arguments);\n        /**\n         * TODO Remove when http://jira.ringcentral.com/browse/SDK-3 id done\n         */\n        this.shippingMethods = [\n            {\n                id: '1',\n                name: 'Ground Shipping (5-7 business days)'\n            },\n            {\n                id: '2',\n                name: '2-days Shipping'\n            },\n            {\n                id: '3',\n                name: 'Overnight Shipping'\n            }\n        ];\n    }\n    return ShippingMethod;\n})(helper.Helper);\nexports.ShippingMethod = ShippingMethod;\nfunction $get(context) {\n    return context.createSingleton('ShippingMethod', function () {\n        return new ShippingMethod(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/ShippingMethod.js\n ** module id = 40\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar list = require('../core/List');\nvar country = require('./Country');\nvar State = (function (_super) {\n    __extends(State, _super);\n    function State(context) {\n        _super.call(this, context);\n        this.countryHelper = country.$get(context);\n        this.list = list.$get(context);\n    }\n    State.prototype.createUrl = function () {\n        return '/dictionary/state';\n    };\n    State.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            countryId: ''\n        }, options);\n        return this.list.filter([\n            {\n                condition: options.countryId,\n                filterFn: function (item, opts) {\n                    return (_this.countryHelper.getId(item.country) == opts.condition);\n                }\n            }\n        ]);\n    };\n    return State;\n})(helper.Helper);\nexports.State = State;\nfunction $get(context) {\n    return context.createSingleton('State', function () {\n        return new State(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/State.js\n ** module id = 41\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = require('../core/Helper');\nvar Timezone = (function (_super) {\n    __extends(Timezone, _super);\n    function Timezone() {\n        _super.apply(this, arguments);\n    }\n    Timezone.prototype.createUrl = function () {\n        return '/dictionary/timezone';\n    };\n    return Timezone;\n})(helper.Helper);\nexports.Timezone = Timezone;\nfunction $get(context) {\n    return context.createSingleton('Timezone', function () {\n        return new Timezone(context);\n    });\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/helpers/Timezone.js\n ** module id = 42\n ** module chunks = 0\n **/","/// <reference path=\"../../../typings/tsd.d.ts\" />\nvar PubnubMock = (function () {\n    function PubnubMock() {\n    }\n    PubnubMock.prototype.ready = function () {\n    };\n    PubnubMock.prototype.unsubscribe = function (options) {\n    };\n    PubnubMock.prototype.subscribe = function (options) {\n        this.onMessage = options.message;\n    };\n    PubnubMock.prototype.receiveMessage = function (msg) {\n        this.onMessage(msg, 'env', 'channel');\n    };\n    return PubnubMock;\n})();\nexports.PubnubMock = PubnubMock;\nvar PubnubFactory = (function () {\n    function PubnubFactory(context) {\n        this.context = context;\n    }\n    PubnubFactory.prototype.init = function (options) {\n        return new PubnubMock();\n    };\n    return PubnubFactory;\n})();\nexports.PubnubFactory = PubnubFactory;\nfunction $get(context) {\n    return new PubnubFactory(context);\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/pubnub/PubnubMock.js\n ** module id = 43\n ** module chunks = 0\n **/","var utils = require('../Utils');\nvar log = require('../Log');\nvar xhrResponse = require('./XhrResponse');\nvar XhrMock = (function () {\n    function XhrMock(context) {\n        // Service\n        this.context = context;\n        this.responses = xhrResponse.$get(context);\n        this.log = log.$get(context);\n        this.utils = utils.$get(context);\n        // Request\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.requestHeaders = {};\n        this.withCredentials = false;\n        // Response\n        this.data = null;\n        this.readyState = 0;\n        this.responseHeaders = {};\n        this.status = 0;\n    }\n    XhrMock.prototype.getResponseHeader = function (header) {\n        return this.responseHeaders[header.toLowerCase()];\n    };\n    XhrMock.prototype.setRequestHeader = function (header, value) {\n        this.requestHeaders[header.toLowerCase()] = value;\n    };\n    XhrMock.prototype.getAllResponseHeaders = function () {\n        var res = [];\n        this.utils.forEach(this.responseHeaders, function (value, name) {\n            res.push(name + ':' + value);\n        });\n        return res.join('\\n');\n    };\n    XhrMock.prototype.open = function (method, url, async) {\n        this.method = method;\n        this.url = url;\n        this.async = async;\n    };\n    XhrMock.prototype.send = function (data) {\n        var _this = this;\n        var contentType = this.getRequestHeader('Content-Type');\n        this.data = data;\n        if (this.data && typeof this.data == 'string') {\n            // For convenience encoded post data will be decoded\n            if (contentType == 'application/json')\n                this.data = JSON.parse(this.data);\n            if (contentType == 'application/x-www-form-urlencoded')\n                this.data = this.utils.parseQueryString(this.data);\n        }\n        this.log.debug('API REQUEST', this.method, this.url);\n        var currentResponse = this.responses.find(this);\n        if (!currentResponse) {\n            setTimeout(function () {\n                if (_this.onerror)\n                    _this.onerror(new Error('Unknown request: ' + _this.url));\n            }, 1);\n            return;\n        }\n        this.setStatus(200);\n        this.setResponseHeader('Content-Type', 'application/json');\n        var res = currentResponse.response(this), Promise = this.context.getPromise(), onLoad = function (res) {\n            if (_this.getResponseHeader('Content-Type') == 'application/json')\n                res = JSON.stringify(res);\n            _this.responseText = res;\n            setTimeout(function () {\n                if (_this.onload)\n                    _this.onload();\n            }, 1);\n        };\n        if (res instanceof Promise) {\n            res.then(onLoad.bind(this)).catch(this.onerror.bind(this));\n        }\n        else\n            onLoad(res);\n    };\n    XhrMock.prototype.abort = function () {\n        this.log.debug('XhrMock.destroy(): Aborted');\n    };\n    XhrMock.prototype.getRequestHeader = function (header) {\n        return this.requestHeaders[header.toLowerCase()];\n    };\n    XhrMock.prototype.setResponseHeader = function (header, value) {\n        this.responseHeaders[header.toLowerCase()] = value;\n    };\n    XhrMock.prototype.setStatus = function (status) {\n        this.status = status;\n        return this;\n    };\n    return XhrMock;\n})();\nexports.XhrMock = XhrMock;\nfunction $get(context) {\n    return new XhrMock(context);\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/xhr/XhrMock.js\n ** module id = 44\n ** module chunks = 0\n **/","/// <reference path=\"../../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar h = require('./Headers');\nvar ajaxObserver = require('../AjaxObserver');\nvar r = require('./Response');\n/**\n * TODO @see https://github.com/github/fetch/blob/master/fetch.js\n */\nvar Request = (function (_super) {\n    __extends(Request, _super);\n    function Request(context) {\n        _super.call(this, context);\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.query = null;\n        this.body = {};\n        this.context = context;\n        this.xhr = null;\n        this.observer = ajaxObserver.$get(context);\n    }\n    Request.prototype.isLoaded = function () {\n        return !!this.xhr;\n    };\n    //TODO Remove\n    Request.prototype.setHeader = function (name, value) {\n        _super.prototype.setHeader.call(this, name, value);\n        return this;\n    };\n    //TODO Remove\n    Request.prototype.setHeaders = function (headers) {\n        _super.prototype.setHeaders.call(this, headers);\n        return this;\n    };\n    Request.prototype.setOptions = function (options) {\n        options = options || {};\n        // backwards compatibility\n        if (!('body' in options) && options.post)\n            options.body = options.post;\n        if (!('query' in options) && options.get)\n            options.query = options.get;\n        if ('method' in options)\n            this.method = options.method;\n        if ('url' in options)\n            this.url = options.url;\n        if ('query' in options)\n            this.query = options.query;\n        if ('body' in options)\n            this.body = options.body;\n        if ('headers' in options)\n            this.setHeaders(options.headers);\n        if ('async' in options)\n            this.async = !!options.async;\n        return this;\n    };\n    /**\n     * Checks the send options, defaulting various of the options,\n     * and consuming / transforming some of the options (like get).\n     */\n    Request.prototype.checkOptions = function () {\n        if (!this.url)\n            throw new Error('Url is not defined');\n        if (!this.hasHeader('Accept'))\n            this.setHeader('Accept', h.Headers.jsonContentType);\n        if (!this.hasHeader('Content-Type'))\n            this.setHeader('Content-Type', h.Headers.jsonContentType);\n        this.method = this.method ? this.method.toUpperCase() : 'GET';\n        if (['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'].indexOf(this.method) < 0)\n            throw new Error('Method has wrong value');\n        return this;\n    };\n    Request.prototype.getEncodedBody = function () {\n        if (this.method === 'GET')\n            return null;\n        if (typeof this.body === 'string') {\n            return this.body;\n        }\n        else if (this.isJson()) {\n            return JSON.stringify(this.body);\n        }\n        else if (this.isUrlEncoded()) {\n            return this.utils.queryStringify(this.body);\n        }\n        else {\n            return this.body;\n        }\n    };\n    Request.prototype.send = function () {\n        var _this = this;\n        this.observer.emit(this.observer.events.beforeRequest, this);\n        var responsePromise = new (this.context.getPromise())(function (resolve, reject) {\n            _this.checkOptions();\n            var xhr = _this.getXHR(), url = _this.url + (!!_this.query ? ((_this.url.indexOf('?') > -1 ? '&' : '?') + _this.utils.queryStringify(_this.query)) : '');\n            xhr.open(_this.method, url, _this.async);\n            //@see http://stackoverflow.com/questions/19666809/cors-withcredentials-support-limited\n            xhr.withCredentials = true;\n            xhr.onload = function () {\n                //TODO http://jira.ringcentral.com/browse/PLA-10585\n                var response = r.$get(_this.context, xhr.status, xhr.statusText, xhr.responseText, xhr.getAllResponseHeaders());\n                if (response.error) {\n                    var e = response.error;\n                    e.ajax = response; // backwards compatibility\n                    e.response = response; //FIXME Circular\n                    e.request = _this;\n                    reject(e);\n                }\n                else {\n                    resolve(response);\n                }\n            };\n            xhr.onerror = function (event) {\n                var e = new Error('The request cannot be sent' + (event ? ' (' + event.toString() + ')' : ''));\n                e.request = _this;\n                e.response = null;\n                e.ajax = null; // backwards compatibility\n                reject(e);\n            };\n            _this.utils.forEach(_this.headers, function (value, header) {\n                if (!!value)\n                    xhr.setRequestHeader(header, value);\n            });\n            xhr.send(_this.getEncodedBody());\n            _this.xhr = xhr;\n        });\n        return responsePromise.then(function (response) {\n            _this.observer.emit(_this.observer.events.requestSuccess, response, _this);\n            return response;\n        }).catch(function (e) {\n            _this.observer.emit(_this.observer.events.requestError, e);\n            throw e;\n        });\n    };\n    Request.prototype.getXHR = function () {\n        return this.context.getXHR();\n    };\n    Request.prototype.destroy = function () {\n        if (this.xhr)\n            this.xhr.abort();\n    };\n    return Request;\n})(h.Headers);\nexports.Request = Request;\nfunction $get(context) {\n    return new Request(context);\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/http/Request.js\n ** module id = 45\n ** module chunks = 0\n **/","/// <reference path=\"../../../typings/tsd.d.ts\" />\nvar utils = require('../Utils');\nvar Headers = (function () {\n    function Headers(context) {\n        this.headers = {};\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Headers.prototype.setHeader = function (name, value) {\n        this.headers[name.toLowerCase()] = value;\n        return this;\n    };\n    Headers.prototype.getHeader = function (name) {\n        return this.headers[name.toLowerCase()];\n    };\n    Headers.prototype.hasHeader = function (name) {\n        return (name.toLowerCase() in this.headers);\n    };\n    Headers.prototype.setHeaders = function (headers) {\n        var _this = this;\n        this.utils.forEach(headers, function (value, name) {\n            _this.setHeader(name, value);\n        });\n        return this;\n    };\n    Headers.prototype.isContentType = function (contentType) {\n        return this.getContentType().indexOf(contentType) > -1;\n    };\n    Headers.prototype.getContentType = function () {\n        return this.getHeader(Headers.contentType) || '';\n    };\n    Headers.prototype.isMultipart = function () {\n        return this.isContentType(Headers.multipartContentType);\n    };\n    Headers.prototype.isUrlEncoded = function () {\n        return this.isContentType(Headers.urlencodedContentType);\n    };\n    Headers.prototype.isJson = function () {\n        return this.isContentType(Headers.jsonContentType);\n    };\n    Headers.contentType = 'Content-Type';\n    Headers.jsonContentType = 'application/json';\n    Headers.multipartContentType = 'multipart/mixed';\n    Headers.urlencodedContentType = 'application/x-www-form-urlencoded';\n    return Headers;\n})();\nexports.Headers = Headers;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/http/Headers.js\n ** module id = 46\n ** module chunks = 0\n **/","/// <reference path=\"../../../typings/tsd.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar h = require('./Headers');\nvar log = require('../Log');\nvar Response = (function (_super) {\n    __extends(Response, _super);\n    function Response(context, status, statusText, body, headers) {\n        var _this = this;\n        _super.call(this, context);\n        this.log = log.$get(context);\n        if (typeof (body) === 'string') {\n            body = body.replace(/\\r/g, '');\n            if (!headers) {\n                var tmp = body.split(Response.bodySeparator);\n                headers = (tmp.length > 1) ? tmp.shift() : {};\n                body = tmp.join(Response.bodySeparator);\n            }\n        }\n        /** @type {Response[]|object} */\n        this.data = null;\n        /** @type {object} */\n        this.json = null;\n        /** @type {Response[]} */\n        this.responses = [];\n        /** @type {Error} */\n        this.error = null;\n        //@see http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n        if (status == 1223)\n            status = 204;\n        this.status = status;\n        this.statusText = statusText;\n        this.body = body;\n        try {\n            // Step 1. Parse headers\n            if (typeof (headers) === 'string') {\n                (headers || '').split('\\n').forEach(function (header) {\n                    if (!header)\n                        return;\n                    /** @type {string[]} */\n                    var parts = header.split(Response.headerSeparator), name = parts.shift().trim();\n                    _this.setHeader(name, parts.join(Response.headerSeparator).trim());\n                });\n            }\n            else {\n                this.setHeaders(headers);\n            }\n            // Step 1.1. JEDI proxy sometimes may omit Content-Type header\n            if (!this.hasHeader(h.Headers.contentType))\n                this.setHeader(h.Headers.contentType, h.Headers.jsonContentType);\n            // Step 2. Parse body\n            if (this.isJson() && !!this.body && typeof (this.body) === 'string') {\n                this.json = JSON.parse(this.body);\n                this.data = this.json; // backwards compatibility\n                if (!this.checkStatus())\n                    this.error = new Error(this.getError());\n            }\n            else if (this.isMultipart()) {\n                // Step 2.1. Split multipart response\n                var boundary = this.getContentType().match(/boundary=([^;]+)/i)[1], parts = this.body.split(Response.boundarySeparator + boundary);\n                if (parts[0].trim() === '')\n                    parts.shift();\n                if (parts[parts.length - 1].trim() == Response.boundarySeparator)\n                    parts.pop();\n                // Step 2.2. Parse status info\n                var statusInfo = new Response(this.context, this.status, '', parts.shift());\n                // Step 2.3. Parse all other parts\n                this.responses = parts.map(function (part, i) {\n                    var status = statusInfo.data.response[i].status;\n                    return new Response(_this.context, status, '', part);\n                });\n                this.data = this.responses; // backwards compatibility\n            }\n            else {\n                this.data = this.body;\n            }\n        }\n        catch (e) {\n            this.log.error('Response.parseResponse(): Unable to parse data');\n            this.log.error(e.stack || e);\n            this.log.error(this.body);\n            this.error = e;\n        }\n    }\n    /**\n     * @returns {boolean}\n     */\n    Response.prototype.isUnauthorized = function () {\n        return (this.status == 401);\n    };\n    Response.prototype.checkStatus = function () {\n        return this.status >= 200 && this.status < 300;\n    };\n    Response.prototype.getError = function () {\n        return this.data.message || this.data.error_description || this.data.description || 'Unknown error';\n    };\n    Response.boundarySeparator = '--';\n    Response.headerSeparator = ':';\n    Response.bodySeparator = '\\n\\n';\n    return Response;\n})(h.Headers);\nexports.Response = Response;\nfunction $get(context, status, statusText, body, headers) {\n    return new Response(context, status, statusText, body, headers);\n}\nexports.$get = $get;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/core/http/Response.js\n ** module id = 47\n ** module chunks = 0\n **/"],"sourceRoot":"/source/"}