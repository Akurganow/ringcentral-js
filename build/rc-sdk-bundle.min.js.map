{"version":3,"sources":["webpack/universalModuleDefinition","rc-sdk-bundle.js","webpack/bootstrap d932898611cbcbba5150","../src/lib/RCSDK.ts","external {\"amd\":\"exports\",\"commonjs\":\"dom-storage\",\"commonjs2\":\"dom-storage\",\"root\":\"localStorage\"}","external {\"amd\":\"exports\",\"commonjs\":\"xhr2\",\"commonjs2\":\"xhr2\",\"root\":\"XMLHttpRequest\"}","../src/lib/core/pubnub/PubnubMock.ts","../src/lib/core/xhr/XhrMock.ts","../src/lib/core/xhr/XhrResponse.ts","../src/lib/core/AjaxObserver.ts","../src/lib/core/Cache.ts","../src/lib/core/Context.ts","../src/lib/core/Helper.ts","../src/lib/core/List.ts","../src/lib/core/Log.ts","../src/lib/core/Observable.ts","../src/lib/core/PageVisibility.ts","../src/lib/core/Platform.ts","../src/lib/core/Subscription.ts","../src/lib/core/Utils.ts","../src/lib/core/Validator.ts","../src/lib/helpers/Account.ts","../src/lib/helpers/BlockedNumber.ts","../src/lib/helpers/Call.ts","../src/lib/helpers/Contact.ts","../src/lib/helpers/ContactGroup.ts","../src/lib/helpers/Conferencing.ts","../src/lib/helpers/Country.ts","../src/lib/helpers/Device.ts","../src/lib/helpers/DeviceModel.ts","../src/lib/helpers/Extension.ts","../src/lib/helpers/ForwardingNumber.ts","../src/lib/helpers/Language.ts","../src/lib/helpers/Location.ts","../src/lib/helpers/Message.ts","../src/lib/helpers/PhoneNumber.ts","../src/lib/helpers/Presence.ts","../src/lib/helpers/Ringout.ts","../src/lib/helpers/Service.ts","../src/lib/helpers/ShippingMethod.ts","../src/lib/helpers/State.ts","../src/lib/helpers/Timezone.ts","bower_components/pubnub/web/pubnub.js","~/es6-promise/dist/es6-promise.js","~/crypto-js/aes.js","~/crypto-js/mode-ecb.js","~/crypto-js/core.js","../src/lib/core/http/Request.ts","~/crypto-js/enc-base64.js","~/crypto-js/md5.js","~/crypto-js/evpkdf.js","~/crypto-js/cipher-core.js","(webpack)/buildin/module.js","(webpack)/buildin/amd-define.js","../src/lib/core/http/Headers.ts","../src/lib/core/http/Response.ts","(webpack)/~/node-libs-browser/~/process/browser.js","~/crypto-js/sha1.js","~/crypto-js/hmac.js"],"names":["root","factory","exports","module","require","e","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","pubnubMock","xhrMock","xhrResponse","ajaxObserver","cache","context","helper","list","log","observable","pageVisibility","platform","subscription","utils","validator","accountHelper","blockedNumberHelper","callHelper","contactHelper","contactGroupHelper","conferencingHelper","countryHelper","deviceHelper","deviceModelHelper","extensionHelper","forwardingNumberHelper","languageHelper","locationHelper","messageHelper","phoneNumberHelper","presenceHelper","ringoutHelper","serviceHelper","shippingMethodHelper","stateHelper","timezoneHelper","promise","pubnub","RCSDK","RCSDK.constructor","RCSDK.getContext","RCSDK.getAjaxObserver","RCSDK.getXhrResponse","RCSDK.getPlatform","RCSDK.getCache","RCSDK.getSubscription","RCSDK.getPageVisibility","RCSDK.getHelper","RCSDK.getObservable","RCSDK.getValidator","RCSDK.getLog","RCSDK.getUtils","RCSDK.getList","RCSDK.getCountryHelper","RCSDK.getDeviceModelHelper","RCSDK.getLanguageHelper","RCSDK.getLocationHelper","RCSDK.getShippingMethodHelper","RCSDK.getStateHelper","RCSDK.getTimezoneHelper","RCSDK.getAccountHelper","RCSDK.getBlockedNumberHelper","RCSDK.getCallHelper","RCSDK.getConferencingHelper","RCSDK.getContactHelper","RCSDK.getContactGroupHelper","RCSDK.getDeviceHelper","RCSDK.getExtensionHelper","RCSDK.getForwardingNumberHelper","RCSDK.getMessageHelper","RCSDK.getPhoneNumberHelper","RCSDK.getPresenceHelper","RCSDK.getRingoutHelper","RCSDK.getServiceHelper","Error","code","$get","__extends","d","b","__","constructor","hasOwnProperty","prototype","PubnubMock","_super","PubnubMock.constructor","PubnubMock.subscribe","PubnubMock.unsubscribe","PubnubMock.receiveMessage","Observable","PubnubFactory","PubnubFactory.constructor","PubnubFactory.init","XhrMock","XhrMock.constructor","XhrMock.getResponseHeader","XhrMock.setRequestHeader","XhrMock.getAllResponseHeaders","XhrMock.open","XhrMock.send","XhrMock.abort","XhrMock.getRequestHeader","XhrMock.setResponseHeader","XhrMock.setStatus","XhrResponse","XhrResponse.constructor","XhrResponse.add","XhrResponse.clear","XhrResponse.find","AjaxObserver","AjaxObserver.constructor","Cache","Cache.constructor","Cache.setPrefix","Cache.prefixKey","Cache.setItem","Cache.removeItem","Cache.getItem","Cache.clean","injections","Context","Context.constructor","Context.createSingleton","Context.usePubnubStub","Context.useAjaxStub","Context.getCryptoJS","Context.getPubnub","Context.getLocalStorage","Context.getPromise","Context.getXHR","Helper","Helper.constructor","Helper.getContext","Helper.createUrl","Helper.getId","Helper.isNew","Helper.resetAsNew","Helper.getUri","Helper.parseMultipartResponse","Helper.loadRequest","Helper.saveRequest","Helper.deleteRequest","Helper.syncRequest","Helper.nextPageExists","Helper.index","Helper.merge","List","List.constructor","List.propertyExtractor","List.stringComparator","List.numberComparator","List.comparator","List.equalsFilter","List.containsFilter","List.regexpFilter","List.filter","Log","Log.constructor","Log.disableAll","Log.enableAll","Log.parseArguments","Log.debug","Log.info","Log.warn","Log.error","Observable.constructor","Observable.hasListeners","Observable.registerOneTimeEvent","Observable.on","Observable.emit","Observable.off","Observable.isOneTimeEvent","Observable.isOneTimeEventFired","Observable.setOneTimeEventFired","Observable.setOneTimeEventArgumens","Observable.getOneTimeEventArgumens","Observable.offAll","Observable.destroy","Observable.emitAndCallback","PageVisibility","PageVisibility.constructor","PageVisibility.isVisible","request","Platform","Platform.constructor","Platform.getStorage","Platform.getRequest","Platform.clearStorage","Platform.setCredentials","Platform.setServer","Platform.remember","Platform.authorize","Platform.isPaused","Platform.pause","Platform.resume","Platform.refresh","Platform.logout","Platform.refreshPolling","Platform.getToken","Platform.getTokenType","Platform.getAuthData","Platform.isTokenValid","Platform.isAuthorized","Platform.cancelAccessToken","Platform.setCache","Platform.forceAuthentication","Platform.apiCall","Platform.get","Platform.post","Platform.put","Platform.delete","Platform.authCall","Platform.apiUrl","Subscription","Subscription.constructor","Subscription.getPubnub","Subscription.getCrypto","Subscription.getPlatform","Subscription.register","Subscription.addEvents","Subscription.setEvents","Subscription.getFullEventFilters","Subscription.subscribe","Subscription.renew","Subscription.remove","Subscription.destroy","Subscription.isSubscribed","Subscription.setTimeout","Subscription.clearTimeout","Subscription.updateSubscription","Subscription.unsubscribe","Subscription.notify","Subscription.subscribeAtPubnub","hasOwn","Object","toString","rdigit","class2type","split","forEach","name","toLowerCase","Utils","Utils.extend","Utils.forEach","Utils.queryStringify","Utils.parseQueryString","Utils.isEmail","Utils.isPhoneNumber","Utils.argumentsToArray","Utils.isDate","Utils.isFunction","Utils.isArray","Utils.isWindow","Utils.isNaN","Utils.type","Utils.isPlainObject","Utils.getProperty","Utils.poll","Utils.stopPolling","Utils.parseString","Utils.parseNumber","Validator","Validator.constructor","Validator.validate","Validator.email","Validator.phone","Validator.required","Validator.length","Account","Account.constructor","Account.createUrl","BlockedNumber","BlockedNumber.constructor","BlockedNumber.createUrl","BlockedNumber.validate","presence","contact","Call","Call.constructor","Call.createUrl","Call.getSessionId","Call.isInProgress","Call.isAlive","Call.isInbound","Call.isOutbound","Call.isMissed","Call.isFindMe","Call.getCallerInfo","Call.getAllCallerInfos","Call.formatDuration","Call.formatDuration.addZero","Call.filter","Call.comparator","Call.attachContacts","Call.checkMergeability","Call.combineCalls","Call.processCalls","Call.parsePresenceCalls","Call.getSignature","Call.mergePresenceCalls","Call.mergeAll","Contact","Contact.constructor","Contact.createUrl","Contact.getFieldValues","Contact.getFullName","Contact.getEmails","Contact.getPhones","Contact.getFaxes","Contact.getAddresses","Contact.isAlive","Contact.match","Contact.matchAsPhone","Contact.attachToCallerInfos","Contact.comparator","Contact.filter","Contact.validate","ContactGroup","ContactGroup.constructor","ContactGroup.createUrl","ContactGroup.validate","Conferencing","Conferencing.constructor","Conferencing.createUrl","Country","Country.constructor","Country.createUrl","extension","deviceModel","Device","Device.constructor","Device.createUrl","Device.validate","DeviceModel","DeviceModel.constructor","DeviceModel.getId","DeviceModel.cleanForSaving","Extension","Extension.constructor","Extension.createUrl","Extension.isUser","Extension.isDepartment","Extension.isAnnouncement","Extension.isVoicemail","Extension.comparator","Extension.filter","ForwardingNumber","ForwardingNumber.constructor","ForwardingNumber.createUrl","ForwardingNumber.getId","ForwardingNumber.hasFeature","ForwardingNumber.comparator","ForwardingNumber.filter","Language","Language.constructor","state","Location","Location.constructor","Location.createUrl","Location.filter","Location.comparator","Message","Message.constructor","Message.createUrl","Message.isInbound","Message.isOutbound","Message.isSMS","Message.isPager","Message.isVoiceMail","Message.isFax","Message.isAlive","Message.isRead","Message.setIsRead","Message.getAttachmentUrl","Message.getAttachmentContentType","Message.getSubscription","Message.getCallerInfos","Message.getAllCallerInfos","Message.comparator","Message.filter","Message.attachContacts","Message.shorten","Message.validateSMS","Message.validatePager","PhoneNumber","PhoneNumber.constructor","PhoneNumber.createUrl","PhoneNumber.isSMS","PhoneNumber.hasFeature","PhoneNumber.reserve","PhoneNumber.unreserve","PhoneNumber.comparator","PhoneNumber.filter","Presence","Presence.constructor","Presence.createUrl","Presence.getId","Presence.isAvailable","Presence.getSubscription","Presence.updateSubscription","Presence.attachToExtensions","Presence.isCallInProgress","Ringout","Ringout.constructor","Ringout.createUrl","Ringout.resetAsNew","Ringout.isInProgress","Ringout.isSuccess","Ringout.isError","Ringout.validate","Service","Service.constructor","Service.createUrl","Service.isEnabled","Service.isServiceFeatureEnabledMethod","ShippingMethod","ShippingMethod.constructor","country","State","State.constructor","State.createUrl","State.filter","Timezone","Timezone.constructor","Timezone.createUrl","unique","NOW","Date","rnow","build_url","url_components","url_params","url","join","URLBIT","params","each","key","value","value_str","JSON","encode","length","push","PARAMSBIT","updater","fun","rate","timeout","last","runnit","clearTimeout","setTimeout","grep","fin","l","supplant","str","values","replace","REPL","_","match","wait","generate_uuid","callback","u","r","Math","random","v","isArray","arg","Array","o","f","i","map","k","path","encodeURIComponent","generate_channel_list","channels","nopresence","channel","status","search","subscribed","sort","generate_channel_group_list","channel_groups","channel_group","ready","READY","READY_BUFFER","connect","SECOND","PNmessage","args","msg","apns","keys","aps","alert","badge","exclude1","data","exclude","getPubnubMessage","publish","message","error","PN_API","setup","_get_url_params","_object_to_key_list","_object_to_key_list_sorted","_get_pam_sign_input_from_params","si","validate_presence_heartbeat","heartbeat","cur_heartbeat","err","PRESENCE_HB_THRESHOLD","PRESENCE_HB_DEFAULT","encrypt","input","crypto_obj","CIPHER_KEY","decrypt","_presence_heartbeat","PRESENCE_HB_TIMEOUT","PRESENCE_HB_INTERVAL","CHANNELS","CHANNEL_GROUPS","PRESENCE_HB_RUNNING","SELF","stringify","start_presence_heartbeat","next","NO_WAIT_FOR_PENDING","PUB_QUEUE","sending","xdr","shift","each_channel_group","count","chang","each_channel","chan","_invoke_callback","response","callback_data","_invoke_error","CR","url1","jsonp","jsonp_cb","AUTH_KEY","STD_ORIGIN","SUBSCRIBE_KEY","apply","success","fail","_poll_online","_is_online","_reset_offline","_poll_timer","_poll_online2","TIME_CHECK","detect_time_detla","_poll_timer2","KEEPALIVE","SUB_RECEIVER","detect_latency","tt","adjusted_time","TIME_DRIFT","cb","time","calculate","ptime","latency","stime","SUB_WINDOWING","DEF_WINDOWING","SUB_TIMEOUT","DEF_SUB_TIMEOUT","DEF_KEEPALIVE","NOLEAVE","PUBLISH_KEY","SECRET_KEY","hmac_SHA256","SSL","ORIGIN","nextorigin","SUB_ORIGIN","CONNECT","CLOAK","SUB_CALLBACK","SUB_CHANNEL","SUB_RESTORE","TIMETOKEN","RESUMED","STATE","PRESENCE_HB","COMPATIBLE_35","db","get","set","UUID","USE_INSTANCEID","INSTANCEID","a","LEAVE","blocking","auth_key","uuid","auth","origin","indexOf","PRESENCE_SUFFIX","LEAVE_GROUP","set_resumed","resumed","get_cipher_key","set_cipher_key","raw_encrypt","raw_decrypt","get_heartbeat","set_heartbeat","heartbeat_interval","get_heartbeat_interval","set_heartbeat_interval","get_version","SDK_VER","getGcmMessageObject","obj","getApnsMessageObject","x","newPnMessage","gcm","n","_add_param","val","namespace","ns_ch","cloak","mode","ns_ch_a","channel_group_list_groups","channel_group_list_channels","channel_group_remove_channel","channel_group_remove_group","channel_group_add_channel","channel_group_cloak","channel_group_list_namespaces","channel_group_remove_namespace","history","reverse","cipher_key","start","end","include_token","payload","messages","decrypted_messages","new_message","replay","source","destination","stop","limit","post","store","add_msg","unsubscribe","ch","CB_CALLED","action","chg","subscribe","_test_connection","disconnected","reconnect","disconnect","_connect","st","sub_timeout","SUB_ERROR","idlecb","connected","windowing","backfill","next_callback","channels2","list2","channel2","chobj","decrypted_msg","noheresync","timetoken","restore","settings","here","uid","timestamp","floor","occupancy","here_now","uuids","where_now","grant","ttl","w","getTime","sign_input","signature","mobile_gw_provision","op","gw_type","device_id","type","audit","revoke","set_uuid","get_uuid","get_subscibed_channels","presence_heartbeat","stop_timers","each-channel","offline","now","options","encryptKey","CryptoJS","SHA256","hex_message","encryptedHexArray","AES","ECB","CBC","padding","pad","Pkcs7","base_64_encrypted","enc","Base64","json_plain","parse","ciphertext","Utf8","plaintext","undefined","window","toJSON","valueOf","quote","string","escapable","lastIndex","test","meta","charCodeAt","slice","holder","partial","mind","gap","rep","isFinite","String","indent","cx","\b","\t","\n","\f","\r","\"","\\","replacer","space","text","eval","DEF_TIMEOUT","max","ori","failover","get_hmac_SHA256","hash","$","document","getElementById","console","elements","el","getElementsByTagName","node","bind","etype","rapfun","event","cancelBubble","preventDefault","stopPropagation","addEventListener","attachEvent","head","attr","attribute","setAttribute","getAttribute","css","element","styles","style","create","createElement","XORIGN","FDomainRequest","ajax","script","finished","xhrtme","timer","done","append","appendChild","failed","onerror","s","parentNode","removeChild","ASYNC","src","xhr","responseText","complete","async","onload","abort","XDomainRequest","XMLHttpRequest","onabort","onloadend","onreadystatechange","readyState","open","send","eee","navigator","pubnubs","fdomainrequest","method","SWF","UA","userAgent","PNSDK","opera","postError","ls","cookieGet","cookie","RegExp","cookieSet","cookieTest","getItem","setItem","events","unbind","fire","PDIV","CREATE_PUBNUB","leave_on_unload","pnsdk","PN","prop","pdiv","PUBNUB","notest","publish_key","subscribe_key","ssl","location","href","position","top","unescape","WS","protocols","self","bits","protocol","reason","wasClean","close","h","g","lib","q","Base","extend","mixIn","init","$super","arguments","clone","WordArray","words","sigBytes","concat","clamp","ceil","Hex","parseInt","substr","Latin1","fromCharCode","j","decodeURIComponent","escape","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","blockSize","_minBufferSize","min","_doProcessBlock","splice","Hasher","cfg","_doReset","update","finalize","_doFinalize","_createHelper","_createHmacHelper","t","HMAC","algo","sqrt","pow","_hash","HmacSHA256","_hasher","_oKey","_iKey","_map","charAt","abs","sin","MD5","z","A","B","C","D","E","HmacMD5","EvpKDF","keySize","hasher","iterations","compute","Cipher","createEncryptor","_ENC_XFORM_MODE","createDecryptor","_DEC_XFORM_MODE","_xformMode","_key","process","ivSize","StreamCipher","_iv","_prevBlock","BlockCipherMode","Encryptor","Decryptor","_cipher","processBlock","encryptBlock","decryptBlock","unpad","BlockCipher","iv","_mode","CipherParams","formatter","format","OpenSSL","salt","SerializableCipher","algorithm","_parse","kdf","execute","PasswordBasedCipher","F","G","y","H","_nRounds","_keySchedule","_invKeySchedule","_doCryptBlock","__WEBPACK_AMD_DEFINE_RESULT__","global","$$utils$$objectOrFunction","$$utils$$isFunction","$$utils$$isMaybeThenable","$$utils$$F","$$asap$$useNextTick","nextTick","$$asap$$flush","$$asap$$useMutationObserver","observer","$$asap$$BrowserMutationObserver","createTextNode","observe","characterData","$$asap$$useMessageChannel","MessageChannel","port1","onmessage","port2","postMessage","$$asap$$useSetTimeout","$$asap$$len","$$asap$$queue","$$$internal$$noop","$$$internal$$selfFullfillment","TypeError","$$$internal$$cannotReturnOwn","$$$internal$$getThen","then","$$$internal$$GET_THEN_ERROR","$$$internal$$tryThen","fulfillmentHandler","rejectionHandler","$$$internal$$handleForeignThenable","thenable","$$asap$$default","sealed","$$$internal$$resolve","$$$internal$$fulfill","$$$internal$$reject","_label","$$$internal$$handleOwnThenable","_state","$$$internal$$FULFILLED","_result","$$$internal$$REJECTED","$$$internal$$subscribe","$$$internal$$handleMaybeThenable","maybeThenable","$$$internal$$publishRejection","_onerror","$$$internal$$publish","$$$internal$$PENDING","_subscribers","parent","child","onFulfillment","onRejection","subscribers","settled","detail","$$$internal$$invokeCallback","$$$internal$$ErrorObject","$$$internal$$tryCatch","$$$internal$$TRY_CATCH_ERROR","succeeded","hasCallback","$$$internal$$initializePromise","resolver","$$$enumerator$$Enumerator","Constructor","abortOnReject","label","_instanceConstructor","_abortOnReject","_validateInput","_input","_remaining","_init","_enumerate","_validationError","$$es6$promise$promise$$needsResolver","$$es6$promise$promise$$needsNew","$$es6$promise$promise$$Promise","_id","$$es6$promise$promise$$counter","$$utils$$_isArray","$$asap$$scheduleFlush","$$utils$$isArray","$$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","$$asap$$isWorker","Uint8ClampedArray","importScripts","$$$enumerator$$default","_eachEntry","entry","_settledAt","_willSettleAt","resolve","_makeResult","enumerator","$$promise$all$$default","entries","$$promise$race$$default","$$promise$resolve$$default","object","$$promise$reject$$default","$$es6$promise$promise$$default","all","race","reject","result","catch","$$es6$promise$polyfill$$default","local","es6PromiseSupport","Promise","es6$promise$umd$$ES6Promise","polyfill","Request","Request.constructor","Request.isLoaded","Request.setOptions","Request.checkOptions","Request.getEncodedBody","Request.send","Request.getXHR","Request.destroy","Headers","S","J","webpackPolyfill","deprecate","paths","children","Headers.constructor","Headers.setHeader","Headers.getHeader","Headers.hasHeader","Headers.setHeaders","Headers.isContentType","Headers.setContentType","Headers.getContentType","Headers.isMultipart","Headers.isUrlEncoded","Headers.isJson","statusText","body","headers","Response","Response.constructor","Response.isUnauthorized","Response.checkStatus","Response.getError","drainQueue","draining","currentQueue","len","queue","noop","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","umask","SHA1","HmacSHA1"],"mappings":"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","file":"rc-sdk-bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"dom-storage\"), (function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"exports\", \"exports\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RCSDK\"] = factory(require(\"dom-storage\"), (function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()));\n\telse\n\t\troot[\"RCSDK\"] = factory(root[\"localStorage\"], root[\"XMLHttpRequest\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"dom-storage\"), (function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"exports\", \"exports\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RCSDK\"] = factory(require(\"dom-storage\"), (function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()));\n\telse\n\t\troot[\"RCSDK\"] = factory(root[\"localStorage\"], root[\"XMLHttpRequest\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../typings/externals.d.ts\" />\nvar pubnubMock = __webpack_require__(3);\nvar xhrMock = __webpack_require__(4);\nvar xhrResponse = __webpack_require__(5);\nvar ajaxObserver = __webpack_require__(6);\nvar cache = __webpack_require__(7);\nvar context = __webpack_require__(8);\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar log = __webpack_require__(11);\nvar observable = __webpack_require__(12);\nvar pageVisibility = __webpack_require__(13);\nvar platform = __webpack_require__(14);\nvar subscription = __webpack_require__(15);\nvar utils = __webpack_require__(16);\nvar validator = __webpack_require__(17);\nvar accountHelper = __webpack_require__(18);\nvar blockedNumberHelper = __webpack_require__(19);\nvar callHelper = __webpack_require__(20);\nvar contactHelper = __webpack_require__(21);\nvar contactGroupHelper = __webpack_require__(22);\nvar conferencingHelper = __webpack_require__(23);\nvar countryHelper = __webpack_require__(24);\nvar deviceHelper = __webpack_require__(25);\nvar deviceModelHelper = __webpack_require__(26);\nvar extensionHelper = __webpack_require__(27);\nvar forwardingNumberHelper = __webpack_require__(28);\nvar languageHelper = __webpack_require__(29);\nvar locationHelper = __webpack_require__(30);\nvar messageHelper = __webpack_require__(31);\nvar phoneNumberHelper = __webpack_require__(32);\nvar presenceHelper = __webpack_require__(33);\nvar ringoutHelper = __webpack_require__(34);\nvar serviceHelper = __webpack_require__(35);\nvar shippingMethodHelper = __webpack_require__(36);\nvar stateHelper = __webpack_require__(37);\nvar timezoneHelper = __webpack_require__(38);\nvar promise = __webpack_require__(40);\nvar pubnub = __webpack_require__(39);\n__webpack_require__(41);\n__webpack_require__(42);\nvar RCSDK = (function () {\n    function RCSDK(options) {\n        options = options || {};\n        this._context = context.$get(RCSDK.injections);\n        this.getCache().setPrefix(options.cachePrefix || '');\n        this.getPlatform().setServer(options.server || '').setCredentials(options.appKey || '', options.appSecret || '');\n        //TODO Link Platform events with Subscriptions and the rest\n    }\n    // Internals\n    RCSDK.prototype.getContext = function () {\n        return this._context;\n    };\n    // Core\n    RCSDK.prototype.getAjaxObserver = function () {\n        return ajaxObserver.$get(this.getContext());\n    };\n    RCSDK.prototype.getXhrResponse = function () {\n        return xhrResponse.$get(this.getContext());\n    };\n    RCSDK.prototype.getPlatform = function () {\n        return platform.$get(this.getContext());\n    };\n    RCSDK.prototype.getCache = function () {\n        return cache.$get(this.getContext());\n    };\n    RCSDK.prototype.getSubscription = function () {\n        return subscription.$get(this.getContext());\n    };\n    RCSDK.prototype.getPageVisibility = function () {\n        return pageVisibility.$get(this.getContext());\n    };\n    RCSDK.prototype.getHelper = function () {\n        return helper.$get(this.getContext());\n    };\n    RCSDK.prototype.getObservable = function () {\n        return observable.$get(this.getContext());\n    };\n    RCSDK.prototype.getValidator = function () {\n        return validator.$get(this.getContext());\n    };\n    RCSDK.prototype.getLog = function () {\n        return log.$get(this.getContext());\n    };\n    RCSDK.prototype.getUtils = function () {\n        return utils.$get(this.getContext());\n    };\n    RCSDK.prototype.getList = function () {\n        return list.$get(this.getContext());\n    };\n    // Helpers\n    RCSDK.prototype.getCountryHelper = function () {\n        return countryHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getDeviceModelHelper = function () {\n        return deviceModelHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getLanguageHelper = function () {\n        return languageHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getLocationHelper = function () {\n        return locationHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getShippingMethodHelper = function () {\n        return shippingMethodHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getStateHelper = function () {\n        return stateHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getTimezoneHelper = function () {\n        return timezoneHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getAccountHelper = function () {\n        return accountHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getBlockedNumberHelper = function () {\n        return blockedNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getCallHelper = function () {\n        return callHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getConferencingHelper = function () {\n        return conferencingHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getContactHelper = function () {\n        return contactHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getContactGroupHelper = function () {\n        return contactGroupHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getDeviceHelper = function () {\n        return deviceHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getExtensionHelper = function () {\n        return extensionHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getForwardingNumberHelper = function () {\n        return forwardingNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getMessageHelper = function () {\n        return messageHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getPhoneNumberHelper = function () {\n        return phoneNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getPresenceHelper = function () {\n        return presenceHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getRingoutHelper = function () {\n        return ringoutHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getServiceHelper = function () {\n        return serviceHelper.$get(this.getContext());\n    };\n    RCSDK.version = '1.3.0';\n    RCSDK.url = {\n        sandbox: 'https://platform.devtest.ringcentral.com',\n        production: 'https://platform.ringcentral.com'\n    };\n    RCSDK.injections = {\n        CryptoJS: __webpack_require__(43),\n        localStorage: (typeof (localStorage) !== 'undefined' ? localStorage : __webpack_require__(1)),\n        Promise: typeof (Promise) !== 'undefined' ? Promise : promise.Promise,\n        PUBNUB: pubnub,\n        XHR: function () {\n            try {\n                return new XMLHttpRequest();\n            }\n            catch (e) {\n            }\n            try {\n                return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\");\n            }\n            catch (e1) {\n            }\n            try {\n                return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\");\n            }\n            catch (e2) {\n            }\n            try {\n                return new ActiveXObject(\"Msxml2.XMLHTTP\");\n            }\n            catch (e3) {\n            }\n            try {\n                return new (__webpack_require__(2))();\n            }\n            catch (e4) {\n            }\n            throw new Error(\"This browser does not support XMLHttpRequest.\");\n        },\n        pubnubMock: pubnubMock,\n        xhrMock: xhrMock\n    };\n    return RCSDK;\n})();\nmodule.exports = RCSDK;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\nif(typeof __WEBPACK_EXTERNAL_MODULE_2__ === 'undefined') {var e = new Error(\"Cannot find module \\\"undefined\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(12);\nvar PubnubMock = (function (_super) {\n    __extends(PubnubMock, _super);\n    function PubnubMock(context, options) {\n        this.options = options;\n        _super.call(this, context);\n    }\n    PubnubMock.prototype.ready = function () {\n    };\n    PubnubMock.prototype.subscribe = function (options) {\n        this.on('message-' + options.channel, options.message);\n    };\n    PubnubMock.prototype.unsubscribe = function (options) {\n        this.off('message-' + options.channel);\n    };\n    PubnubMock.prototype.receiveMessage = function (msg, channel) {\n        this.emit('message-' + channel, msg, 'env', channel);\n    };\n    return PubnubMock;\n})(observable.Observable);\nexports.PubnubMock = PubnubMock;\nvar PubnubFactory = (function () {\n    function PubnubFactory(context) {\n        this.context = context;\n    }\n    PubnubFactory.prototype.init = function (options) {\n        return new PubnubMock(this.context, options);\n    };\n    return PubnubFactory;\n})();\nexports.PubnubFactory = PubnubFactory;\nfunction $get(context) {\n    return new PubnubFactory(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar utils = __webpack_require__(16);\nvar log = __webpack_require__(11);\nvar xhrResponse = __webpack_require__(5); //FIXME Circular\nvar XhrMock = (function () {\n    function XhrMock(context) {\n        // Service\n        this.context = context;\n        this.responses = xhrResponse.$get(context);\n        this.log = log.$get(context);\n        this.utils = utils.$get(context);\n        // Request\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.requestHeaders = {};\n        this.withCredentials = false;\n        // Response\n        this.data = null;\n        this.readyState = 0;\n        this.responseHeaders = {};\n        this.status = 0;\n    }\n    XhrMock.prototype.getResponseHeader = function (header) {\n        return this.responseHeaders[header.toLowerCase()];\n    };\n    XhrMock.prototype.setRequestHeader = function (header, value) {\n        this.requestHeaders[header.toLowerCase()] = value;\n    };\n    XhrMock.prototype.getAllResponseHeaders = function () {\n        var res = [];\n        this.utils.forEach(this.responseHeaders, function (value, name) {\n            res.push(name + ':' + value);\n        });\n        return res.join('\\n');\n    };\n    XhrMock.prototype.open = function (method, url, async) {\n        this.method = method;\n        this.url = url;\n        this.async = async;\n    };\n    XhrMock.prototype.send = function (data) {\n        var _this = this;\n        var contentType = this.getRequestHeader('Content-Type');\n        this.data = data;\n        if (this.data && typeof this.data == 'string') {\n            // For convenience encoded post data will be decoded\n            if (contentType == 'application/json')\n                this.data = JSON.parse(this.data);\n            if (contentType == 'application/x-www-form-urlencoded')\n                this.data = this.utils.parseQueryString(this.data);\n        }\n        this.log.debug('API REQUEST', this.method, this.url);\n        var currentResponse = this.responses.find(this);\n        if (!currentResponse) {\n            setTimeout(function () {\n                if (_this.onerror)\n                    _this.onerror(new Error('Unknown request: ' + _this.url));\n            }, 1);\n            return;\n        }\n        this.setStatus(200);\n        this.setResponseHeader('Content-Type', 'application/json');\n        var res = currentResponse.response(this), Promise = this.context.getPromise(), onLoad = function (res) {\n            if (_this.getResponseHeader('Content-Type') == 'application/json')\n                res = JSON.stringify(res);\n            _this.responseText = res;\n            setTimeout(function () {\n                if (_this.onload)\n                    _this.onload();\n            }, 1);\n        };\n        if (res instanceof Promise) {\n            res.then(onLoad.bind(this)).catch(this.onerror.bind(this));\n        }\n        else\n            onLoad(res);\n    };\n    XhrMock.prototype.abort = function () {\n        this.log.debug('XhrMock.destroy(): Aborted');\n    };\n    XhrMock.prototype.getRequestHeader = function (header) {\n        return this.requestHeaders[header.toLowerCase()];\n    };\n    XhrMock.prototype.setResponseHeader = function (header, value) {\n        this.responseHeaders[header.toLowerCase()] = value;\n    };\n    XhrMock.prototype.setStatus = function (status) {\n        this.status = status;\n        return this;\n    };\n    return XhrMock;\n})();\nexports.XhrMock = XhrMock;\nfunction $get(context) {\n    return new XhrMock(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar XhrResponse = (function () {\n    function XhrResponse(context) {\n        this.responses = [];\n    }\n    XhrResponse.prototype.add = function (response) {\n        this.responses.push(response);\n    };\n    XhrResponse.prototype.clear = function () {\n        this.responses = [];\n    };\n    XhrResponse.prototype.find = function (ajax) {\n        var currentResponse = null;\n        this.responses.forEach(function (response) {\n            if (ajax.url.indexOf(response.path) > -1 && (!response.test || response.test(ajax))) {\n                currentResponse = response;\n            }\n        });\n        return currentResponse;\n    };\n    return XhrResponse;\n})();\nexports.XhrResponse = XhrResponse;\nfunction $get(context) {\n    return context.createSingleton('XhrResponse', function () {\n        return new XhrResponse(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(12);\nvar AjaxObserver = (function (_super) {\n    __extends(AjaxObserver, _super);\n    function AjaxObserver() {\n        _super.apply(this, arguments);\n        this.events = {\n            beforeRequest: 'beforeRequest',\n            requestSuccess: 'requestSuccess',\n            requestError: 'requestError' // means that request failed completely\n        };\n    }\n    return AjaxObserver;\n})(observable.Observable);\nexports.AjaxObserver = AjaxObserver;\nfunction $get(context) {\n    return context.createSingleton('AjaxObserver', function () {\n        return new AjaxObserver(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar Cache = (function () {\n    function Cache(context) {\n        this.setPrefix();\n        this.context = context;\n        this.storage = context.getLocalStorage(); // storage must be defined from outside\n    }\n    Cache.prototype.setPrefix = function (prefix) {\n        this.prefix = prefix || 'rc-';\n        return this;\n    };\n    Cache.prototype.prefixKey = function (key) {\n        return this.prefix + key;\n    };\n    Cache.prototype.setItem = function (key, data) {\n        this.storage.setItem(this.prefixKey(key), JSON.stringify(data));\n        return this;\n    };\n    Cache.prototype.removeItem = function (key) {\n        this.storage.removeItem(this.prefixKey(key));\n        return this;\n    };\n    Cache.prototype.getItem = function (key) {\n        var item = this.storage.getItem(this.prefixKey(key));\n        if (!item)\n            return null;\n        return JSON.parse(item);\n    };\n    Cache.prototype.clean = function () {\n        for (var key in this.storage) {\n            if (!this.storage.hasOwnProperty(key))\n                continue;\n            if (key.indexOf(this.prefix) === 0) {\n                this.storage.removeItem(key);\n                delete this.storage[key];\n            }\n        }\n        return this;\n    };\n    return Cache;\n})();\nexports.Cache = Cache;\nfunction $get(context) {\n    return context.createSingleton('Cache', function () {\n        return new Cache(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar Context = (function () {\n    function Context(injections) {\n        this.singletons = {};\n        this.injections = injections;\n        this.stubPubnub = false;\n        this.stubAjax = false;\n    }\n    Context.prototype.createSingleton = function (name, factory) {\n        if (!this.singletons[name])\n            this.singletons[name] = factory();\n        return this.singletons[name];\n    };\n    Context.prototype.usePubnubStub = function (flag) {\n        this.stubPubnub = !!flag;\n        return this;\n    };\n    Context.prototype.useAjaxStub = function (flag) {\n        this.stubAjax = !!flag;\n        return this;\n    };\n    Context.prototype.getCryptoJS = function () {\n        return this.injections.CryptoJS;\n    };\n    Context.prototype.getPubnub = function () {\n        return this.stubPubnub ? this.injections.pubnubMock.$get(this) : this.injections.PUBNUB;\n    };\n    Context.prototype.getLocalStorage = function () {\n        var _this = this;\n        return this.createSingleton('localStorage', function () {\n            if (typeof _this.injections.localStorage !== 'function') {\n                return _this.injections.localStorage; // this is window.localStorage\n            }\n            return new _this.injections.localStorage(); // this is NPM dom-storage constructor\n        });\n    };\n    Context.prototype.getPromise = function () {\n        return this.injections.Promise;\n    };\n    Context.prototype.getXHR = function () {\n        return (this.stubAjax ? this.injections.xhrMock.$get(this) : this.injections.XHR());\n    };\n    return Context;\n})();\nexports.Context = Context;\nfunction $get(injections) {\n    return new Context(injections);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar Helper = (function () {\n    function Helper(context) {\n        this.defaultProperty = 'id';\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Helper.prototype.getContext = function () {\n        return this.context;\n    };\n    Helper.prototype.createUrl = function (options, id) {\n        return '';\n    };\n    Helper.prototype.getId = function (object) {\n        return object && object[this.defaultProperty];\n    };\n    Helper.prototype.isNew = function (object) {\n        return !this.getId(object) || !this.getUri(object);\n    };\n    Helper.prototype.resetAsNew = function (object) {\n        if (object) {\n            delete object.id;\n            delete object.uri;\n        }\n        return object;\n    };\n    Helper.prototype.getUri = function (object) {\n        return object && object.uri;\n    };\n    Helper.prototype.parseMultipartResponse = function (ajax) {\n        if (ajax.isMultipart()) {\n            // ajax.data has full array, leave only successful\n            return ajax.data.filter(function (result) {\n                return (!result.error);\n            }).map(function (result) {\n                return result.data;\n            });\n        }\n        else {\n            return [ajax.data];\n        }\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    Helper.prototype.loadRequest = function (object, options) {\n        return this.utils.extend(options || {}, {\n            url: (options && options.url) || (object && this.getUri(object)) || this.createUrl(),\n            method: (options && options.method) || 'GET'\n        });\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    Helper.prototype.saveRequest = function (object, options) {\n        if (!object && !(options && (options.post || options.body)))\n            throw new Error('No Object');\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || (this.isNew(object) ? 'POST' : 'PUT'),\n            url: (options && options.url) || this.getUri(object) || this.createUrl(),\n            body: (options && (options.body || options.post)) || object\n        });\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided exception will be thrown\n     */\n    Helper.prototype.deleteRequest = function (object, options) {\n        options = options || {};\n        if (!this.getUri(object) && !(options && options.url))\n            throw new Error('Object has to be not new or URL must be provided');\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || 'DELETE',\n            url: (options && options.url) || this.getUri(object)\n        });\n    };\n    /**\n     * If no url was provided, default SYNC url will be returned\n     */\n    Helper.prototype.syncRequest = function (options) {\n        options = options || {};\n        options.url = options.url || this.createUrl({ sync: true });\n        options.query = options.query || options.get || {};\n        if (!!options.query.syncToken) {\n            options.query = {\n                syncType: 'ISync',\n                syncToken: options.get.syncToken\n            };\n        }\n        else {\n            options.query.syncType = 'FSync';\n        }\n        return options;\n    };\n    Helper.prototype.nextPageExists = function (data) {\n        return (data && data.navigation && ('nextPage' in data.navigation));\n    };\n    /**\n     * array - an array to be indexed\n     * getIdFn - must return an ID for each array item\n     * gather - if true, then each index will have an array of items, that has same ID, otherwise the first indexed\n     * item wins\n     */\n    Helper.prototype.index = function (array, getIdFn, gather) {\n        getIdFn = getIdFn || this.getId.bind(this);\n        array = array || [];\n        return array.reduce(function (index, item) {\n            var id = getIdFn(item);\n            if (!id || (index[id] && !gather))\n                return index;\n            if (gather) {\n                if (!index[id])\n                    index[id] = [];\n                index[id].push(item);\n            }\n            else {\n                index[id] = item;\n            }\n            return index;\n        }, {});\n    };\n    /**\n     * Returns a shallow copy of merged _target_ array plus _supplement_ array\n     * mergeItems\n     * - if true, properties of _supplement_ item will be applied to _target_ item,\n     * - otherwise _target_ item will be replaced\n     */\n    Helper.prototype.merge = function (target, supplement, getIdFn, mergeItems) {\n        var _this = this;\n        getIdFn = getIdFn || this.getId.bind(this);\n        target = target || [];\n        supplement = supplement || [];\n        var supplementIndex = this.index(supplement, getIdFn), updatedIDs = [], result = target.map(function (item) {\n            var id = getIdFn(item), newItem = supplementIndex[id];\n            if (newItem)\n                updatedIDs.push(id);\n            return newItem ? (mergeItems ? _this.utils.extend(item, newItem) : newItem) : item;\n        });\n        supplement.forEach(function (item) {\n            if (updatedIDs.indexOf(getIdFn(item)) == -1)\n                result.push(item);\n        });\n        return result;\n    };\n    return Helper;\n})();\nexports.Helper = Helper;\nfunction $get(context) {\n    return new Helper(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar List = (function () {\n    function List(context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.numberComparator = this.numberComparator.bind(this);\n        this.stringComparator = this.stringComparator.bind(this);\n    }\n    /**\n     * TODO Use utils getProperty\n     * @param {string} property\n     * @returns {function(object)}\n     */\n    List.prototype.propertyExtractor = function (property) {\n        return function (item, options) {\n            return property ? ((item && item[property]) || null) : item;\n        };\n    };\n    /**\n     * Non-string types are converted to string\n     * Non-string types are extracted as an empty string if they could be converted to false\n     * If no options.sortBy given the item itself is extracted\n     * Compares strings:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    List.prototype.stringComparator = function (a, b, options) {\n        return this.utils.parseString(a).localeCompare(this.utils.parseString(b));\n    };\n    /**\n     * Non-numeric types are extracted as 0 if they could be converted to false\n     * Objects that could not be converted to number are extracted as 0\n     * If no options.sortBy given the item itself is extracted\n     * See parseFloat for more info\n     * Compares numbers:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Function does not check types\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    List.prototype.numberComparator = function (a, b, options) {\n        return (this.utils.parseNumber(a) - this.utils.parseNumber(b));\n    };\n    /**\n     * Function extracts (using _extractFn_ option) values of a property (_sortBy_ option) and compares them using\n     * compare function (_compareFn_ option, by default Helper.stringComparator)\n     * Merged options are provided to _extractFn_ and _compareFn_\n     * TODO Check memory leaks for all that options links\n     */\n    List.prototype.comparator = function (options) {\n        options = this.utils.extend({\n            extractFn: this.propertyExtractor((options && options.sortBy) || null).bind(this),\n            compareFn: this.stringComparator.bind(this)\n        }, options);\n        return function (item1, item2) {\n            return options.compareFn(options.extractFn(item1, options), options.extractFn(item2, options), options);\n        };\n    };\n    List.prototype.equalsFilter = function (obj, options) {\n        return (options.condition === obj);\n    };\n    /**\n     * @param {string} obj\n     * @param {IListFilterOptions} options\n     * @returns {boolean}\n     */\n    List.prototype.containsFilter = function (obj, options) {\n        return (obj && obj.toString().indexOf(options.condition) > -1);\n    };\n    List.prototype.regexpFilter = function (obj, options) {\n        if (!(options.condition instanceof RegExp))\n            throw new Error('Condition must be an instance of RegExp');\n        return (options.condition.test(obj));\n    };\n    /**\n     * Function extracts (using `extractFn` option) values of a property (`filterBy` option) and filters them using\n     * compare function (`filterFn` option, by default Helper.equalsFilter)\n     * Merged options are provided to `extractFn` and `compareFn`\n     * Set `filterBy` to null to force `propertyExtractor` to return object itself\n     * TODO Check memory leaks for all that options links\n     */\n    List.prototype.filter = function (filterConfigs) {\n        var _this = this;\n        var self = this;\n        filterConfigs = (filterConfigs || []).map(function (opt) {\n            return _this.utils.extend({\n                condition: '',\n                extractFn: self.propertyExtractor((opt && opt.filterBy) || null).bind(_this),\n                filterFn: self.equalsFilter.bind(_this)\n            }, opt);\n        });\n        return function (item) {\n            return filterConfigs.reduce(function (pass, opt) {\n                if (!pass || !opt.condition)\n                    return pass;\n                return opt.filterFn(opt.extractFn(item, opt), opt);\n            }, true);\n        };\n    };\n    return List;\n})();\nexports.List = List;\nfunction $get(context) {\n    return context.createSingleton('List', function () {\n        return new List(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar Log = (function () {\n    function Log(context, console) {\n        if (!console) {\n            console = {\n                log: function () {\n                },\n                warn: function () {\n                },\n                info: function () {\n                },\n                error: function () {\n                }\n            };\n        }\n        this.context = context;\n        this.console = console;\n        this.utils = utils.$get(context);\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n        this.addTimestamps = false;\n    }\n    Log.prototype.disableAll = function () {\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n    };\n    Log.prototype.enableAll = function () {\n        this.logDebug = true;\n        this.logInfo = true;\n        this.logWarnings = true;\n        this.logErrors = true;\n    };\n    Log.prototype.parseArguments = function (args) {\n        args = this.utils.argumentsToArray(args);\n        if (this.addTimestamps)\n            args.unshift(new Date().toLocaleString(), '-');\n        return args;\n    };\n    Log.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logDebug)\n            this.console.log.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logInfo)\n            this.console.info.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logWarnings)\n            this.console.warn.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logErrors)\n            this.console.error.apply(this.console, this.parseArguments(arguments));\n    };\n    return Log;\n})();\nexports.Log = Log;\nfunction $get(context) {\n    return context.createSingleton('Log', function () {\n        return new Log(context, console);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar log = __webpack_require__(11);\n/**\n * @see https://github.com/Microsoft/TypeScript/issues/275\n */\nvar Observable = (function () {\n    function Observable(context) {\n        if (!(this instanceof Observable))\n            throw new Error('Observable(): New operator was omitted');\n        Object.defineProperty(this, 'listeners', { value: {}, enumerable: false, writable: true });\n        Object.defineProperty(this, 'oneTimeEvents', { value: {}, enumerable: false, writable: true });\n        Object.defineProperty(this, 'oneTimeArguments', { value: {}, enumerable: false, writable: true });\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.log = log.$get(context);\n    }\n    Observable.prototype.hasListeners = function (event) {\n        return (event in this.listeners);\n    };\n    /**\n     * @deprecated\n     * @param {string} event\n     */\n    Observable.prototype.registerOneTimeEvent = function (event) {\n        this.oneTimeEvents[event] = false;\n        this.oneTimeArguments[event] = [];\n    };\n    Observable.prototype.on = function (events, callback) {\n        var _this = this;\n        if (typeof events == 'string')\n            events = [events];\n        if (!events)\n            throw new Error('No events to subscribe to');\n        if (typeof callback !== 'function')\n            throw new Error('Callback must be a function');\n        var self = this;\n        events.forEach(function (event) {\n            if (!self.hasListeners(event))\n                self.listeners[event] = [];\n            self.listeners[event].push(callback);\n            if (self.isOneTimeEventFired(event)) {\n                _this.log.debug('Observable.on(%s): One-time event has been fired already, executing callback', event);\n                callback.apply(self, self.getOneTimeEventArgumens(event));\n            }\n        });\n        return this;\n    };\n    Observable.prototype.emit = function (event) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (this.isOneTimeEventFired(event)) {\n            this.log.debug('Observable.emit(%s): One-time event has been fired already', event);\n            return null;\n        }\n        var result = null;\n        if (this.isOneTimeEvent(event)) {\n            this.setOneTimeEventFired(event);\n            this.setOneTimeEventArgumens(event, args);\n        }\n        if (!this.hasListeners(event))\n            return null;\n        this.listeners[event].some(function (callback) {\n            result = callback.apply(_this, args);\n            return (result === false);\n        });\n        return result;\n    };\n    Observable.prototype.off = function (event, callback) {\n        var _this = this;\n        if (!event) {\n            this.listeners = {};\n            this.oneTimeEvents = {};\n            this.oneTimeArguments = {};\n        }\n        else {\n            if (!callback) {\n                delete this.listeners[event];\n            }\n            else {\n                if (!this.hasListeners(event))\n                    return this;\n                this.listeners[event].forEach(function (cb, i) {\n                    if (cb === callback)\n                        delete _this.listeners[event][i];\n                });\n            }\n        }\n        return this;\n    };\n    /**\n     * @deprecated\n     * @param event\n     * @returns {boolean}\n     */\n    Observable.prototype.isOneTimeEvent = function (event) {\n        return (event in this.oneTimeEvents);\n    };\n    /**\n     * @deprecated\n     * @param {string} event\n     * @returns {boolean}\n     */\n    Observable.prototype.isOneTimeEventFired = function (event) {\n        if (!this.isOneTimeEvent(event))\n            return false;\n        return (this.oneTimeEvents[event]);\n    };\n    /**\n     * @deprecated\n     * @param event\n     */\n    Observable.prototype.setOneTimeEventFired = function (event) {\n        this.oneTimeEvents[event] = true;\n    };\n    /**\n     * @deprecated\n     * @param {string} event\n     * @param args\n     */\n    Observable.prototype.setOneTimeEventArgumens = function (event, args) {\n        this.oneTimeArguments[event] = args;\n    };\n    /**\n     * @deprecated\n     * @param {string} event\n     * @returns {any}\n     */\n    Observable.prototype.getOneTimeEventArgumens = function (event) {\n        return this.oneTimeArguments[event];\n    };\n    /**\n     * @deprecated\n     * @returns {T}\n     */\n    Observable.prototype.offAll = function () {\n        return this.off();\n    };\n    Observable.prototype.destroy = function () {\n        this.off();\n        this.log.debug('Observable.destroy(): Listeners were destroyed');\n        return this;\n    };\n    Observable.prototype.emitAndCallback = function (event, args, callback) {\n        args = this.utils.argumentsToArray(args);\n        if (event)\n            this.emit.apply(this, [event].concat(args));\n        if (callback)\n            callback.apply(this, args);\n        return this;\n    };\n    return Observable;\n})();\nexports.Observable = Observable;\nfunction $get(context) {\n    return new Observable(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(12);\nvar PageVisibility = (function (_super) {\n    __extends(PageVisibility, _super);\n    function PageVisibility(context) {\n        var _this = this;\n        _super.call(this, context);\n        this.events = {\n            change: 'change'\n        };\n        var hidden = \"hidden\", onchange = function (evt) {\n            evt = evt || window.event;\n            var v = 'visible', h = 'hidden', evtMap = {\n                focus: v,\n                focusin: v,\n                pageshow: v,\n                blur: h,\n                focusout: h,\n                pagehide: h\n            };\n            _this.visible = (evt.type in evtMap) ? evtMap[evt.type] == v : !document[hidden];\n            _this.emit(_this.events.change, _this.visible);\n        };\n        this.visible = true;\n        if (typeof document == 'undefined' || typeof window == 'undefined')\n            return;\n        // Standards:\n        if (hidden in document)\n            document.addEventListener(\"visibilitychange\", onchange);\n        else if ((hidden = \"mozHidden\") in document)\n            document.addEventListener(\"mozvisibilitychange\", onchange);\n        else if ((hidden = \"webkitHidden\") in document)\n            document.addEventListener(\"webkitvisibilitychange\", onchange);\n        else if ((hidden = \"msHidden\") in document)\n            document.addEventListener(\"msvisibilitychange\", onchange);\n        else if ('onfocusin' in document)\n            document.onfocusin = document.onfocusout = onchange;\n        else\n            window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;\n    }\n    PageVisibility.prototype.isVisible = function () {\n        return this.visible;\n    };\n    return PageVisibility;\n})(observable.Observable);\nexports.PageVisibility = PageVisibility;\nfunction $get(context) {\n    return new PageVisibility(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(12);\nvar cache = __webpack_require__(7);\nvar request = __webpack_require__(44);\nvar Platform = (function (_super) {\n    __extends(Platform, _super);\n    function Platform(context) {\n        _super.call(this, context);\n        this.events = {\n            accessViolation: 'accessViolation',\n            logoutSuccess: 'logoutSuccess',\n            logoutError: 'logoutError',\n            authorizeSuccess: 'authorizeSuccess',\n            authorizeError: 'authorizeError',\n            refreshSuccess: 'refreshSuccess',\n            refreshError: 'refreshError'\n        };\n        this.server = '';\n        this.apiKey = '';\n        this.account = '~';\n        this.urlPrefix = '/restapi';\n        this.apiVersion = 'v1.0';\n        this.accountPrefix = '/account/';\n        this.accessTokenTtl = null; // Platform server by default sets it to 60 * 60 = 1 hour\n        this.refreshTokenTtl = 10 * 60 * 60; // 10 hours\n        this.refreshTokenTtlRemember = 7 * 24 * 60 * 60; // 1 week\n        this.refreshHandicapMs = 60 * 1000; // 1 minute\n        this.refreshDelayMs = 100;\n        this.clearCacheOnRefreshError = true;\n        this.refreshPromise = null;\n        this.cacheId = 'platform';\n        this.pollInterval = 250;\n        this.releaseTimeout = 5000; // If queue was not released then force it to do so after some timeout\n    }\n    Platform.prototype.getStorage = function () {\n        return cache.$get(this.context);\n    };\n    Platform.prototype.getRequest = function () {\n        return request.$get(this.context);\n    };\n    Platform.prototype.clearStorage = function () {\n        this.getStorage().clean();\n        return this;\n    };\n    Platform.prototype.setCredentials = function (appKey, appSecret) {\n        var apiKey = (appKey || '') + ':' + (appSecret || '');\n        if (apiKey == ':')\n            return this;\n        this.apiKey = (typeof btoa == 'function') ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n        return this;\n    };\n    Platform.prototype.setServer = function (server) {\n        this.server = server || '';\n        return this;\n    };\n    Platform.prototype.remember = function (remember) {\n        var key = this.cacheId + '-remember';\n        if (remember !== undefined) {\n            this.getStorage().setItem(key, remember);\n            return this;\n        }\n        return this.getStorage().getItem(key) || false;\n    };\n    Platform.prototype.authorize = function (options) {\n        var _this = this;\n        options = options || {};\n        options.remember = options.remember || false;\n        return this.authCall({\n            url: '/restapi/oauth/token',\n            post: {\n                \"grant_type\": \"password\",\n                \"username\": options.username,\n                \"extension\": options.extension || '',\n                \"password\": options.password,\n                \"access_token_ttl\": this.accessTokenTtl,\n                \"refresh_token_ttl\": options.remember ? this.refreshTokenTtlRemember : this.refreshTokenTtl\n            }\n        }).then(function (response) {\n            _this.setCache(response.data).remember(options.remember).emitAndCallback(_this.events.authorizeSuccess, []);\n            return response;\n        }).catch(function (e) {\n            _this.clearStorage().emitAndCallback(_this.events.authorizeError, [e]);\n            throw e;\n        });\n    };\n    Platform.prototype.isPaused = function () {\n        var storage = this.getStorage(), cacheId = this.cacheId + '-refresh';\n        return !!storage.getItem(cacheId) && Date.now() - parseInt(storage.getItem(cacheId)) < this.releaseTimeout;\n    };\n    Platform.prototype.pause = function () {\n        this.getStorage().setItem(this.cacheId + '-refresh', Date.now());\n        return this;\n    };\n    /**\n     * If the queue is unpaused internally, polling will be cancelled\n     * @returns {Platform}\n     */\n    Platform.prototype.resume = function () {\n        this.getStorage().removeItem(this.cacheId + '-refresh');\n        return this;\n    };\n    Platform.prototype.refresh = function () {\n        var _this = this;\n        var refresh = new (this.context.getPromise())(function (resolve, reject) {\n            if (_this.isPaused()) {\n                return resolve(_this.refreshPolling(null));\n            }\n            else {\n                _this.pause();\n            }\n            // Make sure all existing AJAX calls had a chance to reach the server\n            setTimeout(function () {\n                var authData = _this.getAuthData();\n                _this.log.debug('Platform.refresh(): Performing token refresh (access token', authData.access_token, ', refresh token', authData.refresh_token, ')');\n                if (!authData || !authData.refresh_token)\n                    return reject(new Error('Refresh token is missing'));\n                if (Date.now() > authData.refreshExpireTime)\n                    return reject(new Error('Refresh token has expired'));\n                if (!_this.isPaused())\n                    return reject(new Error('Queue was resumed before refresh call'));\n                resolve(_this.authCall({\n                    url: '/restapi/oauth/token',\n                    post: {\n                        \"grant_type\": \"refresh_token\",\n                        \"refresh_token\": authData.refresh_token,\n                        \"access_token_ttl\": _this.accessTokenTtl,\n                        \"refresh_token_ttl\": _this.remember() ? _this.refreshTokenTtlRemember : _this.refreshTokenTtl\n                    }\n                }));\n            }, _this.refreshDelayMs);\n        });\n        return refresh.then(function (response) {\n            // This means refresh has happened elsewhere and we are here because of timeout\n            if (!response || !response.data)\n                return response;\n            _this.log.info('Platform.refresh(): Token was refreshed');\n            if (!response.data.refresh_token || !response.data.access_token) {\n                var e = new Error('Malformed OAuth response');\n                e.ajax = response;\n                throw e;\n            }\n            _this.setCache(response.data).resume();\n            return response;\n        }).then(function (result) {\n            _this.emit(_this.events.refreshSuccess, result);\n            return result;\n        }).catch(function (e) {\n            if (_this.clearCacheOnRefreshError)\n                _this.clearStorage();\n            _this.emitAndCallback(_this.events.accessViolation, [e]).emitAndCallback(_this.events.refreshError, [e]);\n            throw e;\n        });\n    };\n    /**\n     * @returns {Promise}\n     */\n    Platform.prototype.logout = function () {\n        var _this = this;\n        this.pause();\n        return this.authCall({\n            url: '/restapi/oauth/revoke',\n            post: {\n                token: this.getToken()\n            }\n        }).then(function (response) {\n            _this.resume().clearStorage().emit(_this.events.logoutSuccess, response);\n            return response;\n        }).catch(function (e) {\n            _this.resume().emitAndCallback(_this.events.accessViolation, [e]).emitAndCallback(_this.events.logoutError, [e]);\n            throw e;\n        });\n    };\n    Platform.prototype.refreshPolling = function (result) {\n        var _this = this;\n        if (this.refreshPromise)\n            return this.refreshPromise;\n        this.refreshPromise = new (this.context.getPromise())(function (resolve, reject) {\n            _this.log.warn('Platform.refresh(): Refresh is already in progress polling started');\n            _this.utils.poll(function (next) {\n                if (_this.isPaused())\n                    return next();\n                _this.refreshPromise = null;\n                _this.resume();\n                if (_this.isTokenValid()) {\n                    resolve(result);\n                }\n                else {\n                    reject(new Error('Automatic authentification timeout'));\n                }\n            }, _this.pollInterval);\n        });\n        return this.refreshPromise;\n    };\n    Platform.prototype.getToken = function () {\n        return this.getAuthData().access_token;\n    };\n    Platform.prototype.getTokenType = function () {\n        return this.getAuthData().token_type;\n    };\n    Platform.prototype.getAuthData = function () {\n        return this.getStorage().getItem(this.cacheId) || {\n            token_type: '',\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        };\n    };\n    /**\n     * Check if there is a valid (not expired) access token\n     */\n    Platform.prototype.isTokenValid = function () {\n        var authData = this.getAuthData();\n        return (authData.token_type == Platform.forcedTokenType || (new Date(authData.expireTime).getTime() - this.refreshHandicapMs) > Date.now() && !this.isPaused());\n    };\n    /**\n     * Checks if user is authorized\n     * If there is no access token, refresh will be performed\n     */\n    Platform.prototype.isAuthorized = function () {\n        if (this.isTokenValid())\n            return this.context.getPromise().resolve(true);\n        return this.refresh();\n    };\n    Platform.prototype.cancelAccessToken = function () {\n        return this.setCache(this.utils.extend(this.getAuthData(), {\n            access_token: '',\n            expires_in: 0\n        }));\n    };\n    Platform.prototype.setCache = function (authData) {\n        var oldAuthData = this.getAuthData();\n        this.log.info('Platform.setCache(): Tokens were updated, new:', authData, ', old:', oldAuthData);\n        authData.expireTime = Date.now() + (authData.expires_in * 1000);\n        authData.refreshExpireTime = Date.now() + (authData.refresh_token_expires_in * 1000);\n        this.getStorage().setItem(this.cacheId, authData);\n        return this;\n    };\n    Platform.prototype.forceAuthentication = function () {\n        this.setCache({\n            token_type: Platform.forcedTokenType,\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        });\n        return this;\n    };\n    Platform.prototype.apiCall = function (options) {\n        var _this = this;\n        options = options || {};\n        options.url = this.apiUrl(options.url, { addServer: true });\n        return this.isAuthorized().then(function () {\n            var token = _this.getToken();\n            return _this.getRequest().setOptions(options).setHeader('Authorization', _this.getTokenType() + (token ? ' ' + token : '')).send();\n        }).catch(function (e) {\n            if (!e.response || !e.response.isUnauthorized())\n                throw e;\n            _this.cancelAccessToken();\n            return _this.refresh().then(function () {\n                // Re-send with same options\n                return _this.apiCall(options);\n            });\n        });\n    };\n    Platform.prototype.get = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'GET';\n        return this.apiCall(options);\n    };\n    Platform.prototype.post = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'POST';\n        return this.apiCall(options);\n    };\n    Platform.prototype.put = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'PUT';\n        return this.apiCall(options);\n    };\n    Platform.prototype['delete'] = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'DELETE';\n        return this.apiCall(options);\n    };\n    Platform.prototype.authCall = function (options) {\n        options = options || {};\n        options.method = options.method || 'POST';\n        options.url = this.apiUrl(options.url, { addServer: true });\n        return this.getRequest().setOptions(options).setHeader('Content-Type', 'application/x-www-form-urlencoded').setHeader('Accept', 'application/json').setHeader('Authorization', 'Basic ' + this.apiKey).send();\n    };\n    Platform.prototype.apiUrl = function (url, options) {\n        url = url || '';\n        options = options || {};\n        var builtUrl = '', hasHttp = url.indexOf('http://') != -1 || url.indexOf('https://') != -1;\n        if (options.addServer && !hasHttp)\n            builtUrl += this.server;\n        if (url.indexOf(this.urlPrefix) == -1 && !hasHttp)\n            builtUrl += this.urlPrefix + '/' + this.apiVersion;\n        if (url.indexOf(this.accountPrefix) > -1)\n            builtUrl.replace(this.accountPrefix + '~', this.accountPrefix + this.account);\n        builtUrl += url;\n        if (options.addMethod || options.addToken)\n            builtUrl += (url.indexOf('?') > -1 ? '&' : '?');\n        if (options.addMethod)\n            builtUrl += '_method=' + options.addMethod;\n        if (options.addToken)\n            builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this.getToken();\n        return builtUrl;\n    };\n    Platform.forcedTokenType = 'forced';\n    return Platform;\n})(observable.Observable);\nexports.Platform = Platform;\nfunction $get(context) {\n    return context.createSingleton('Platform', function () {\n        return new Platform(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(12);\nvar platform = __webpack_require__(14);\nvar Subscription = (function (_super) {\n    __extends(Subscription, _super);\n    function Subscription(context) {\n        _super.call(this, context);\n        this.events = {\n            notification: 'notification',\n            removeSuccess: 'removeSuccess',\n            removeError: 'removeError',\n            renewSuccess: 'renewSuccess',\n            renewError: 'renewError',\n            subscribeSuccess: 'subscribeSuccess',\n            subscribeError: 'subscribeError'\n        };\n        this.pubnub = null;\n        this.eventFilters = [];\n        this.timeout = null;\n        this.subscription = {\n            eventFilters: [],\n            expirationTime: '',\n            expiresIn: 0,\n            deliveryMode: {\n                transportType: 'PubNub',\n                encryption: false,\n                address: '',\n                subscriberKey: '',\n                secretKey: ''\n            },\n            id: '',\n            creationTime: '',\n            status: '',\n            uri: ''\n        };\n    }\n    Subscription.prototype.getPubnub = function () {\n        return this.context.getPubnub();\n    };\n    Subscription.prototype.getCrypto = function () {\n        return this.context.getCryptoJS();\n    };\n    Subscription.prototype.getPlatform = function () {\n        return platform.$get(this.context);\n    };\n    /**\n     * Creates or updates subscription if there is an active one\n     * @param {{events?:string[]}} [options] New array of events\n     * @returns {Promise}\n     */\n    Subscription.prototype.register = function (options) {\n        if (this.isSubscribed()) {\n            return this.renew(options);\n        }\n        else {\n            return this.subscribe(options);\n        }\n    };\n    Subscription.prototype.addEvents = function (events) {\n        this.eventFilters = this.eventFilters.concat(events);\n        return this;\n    };\n    Subscription.prototype.setEvents = function (events) {\n        this.eventFilters = events;\n        return this;\n    };\n    Subscription.prototype.getFullEventFilters = function () {\n        var _this = this;\n        return this.eventFilters.map(function (event) {\n            return _this.getPlatform().apiUrl(event);\n        });\n    };\n    Subscription.prototype.subscribe = function (options) {\n        var _this = this;\n        options = options || {};\n        if (options.events)\n            this.eventFilters = options.events;\n        this.clearTimeout();\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.eventFilters || !_this.eventFilters.length)\n                throw new Error('Events are undefined');\n            resolve(_this.getPlatform().apiCall({\n                method: 'POST',\n                url: '/restapi/v1.0/subscription',\n                post: {\n                    eventFilters: _this.getFullEventFilters(),\n                    deliveryMode: {\n                        transportType: 'PubNub'\n                    }\n                }\n            }));\n        }).then(function (ajax) {\n            _this.updateSubscription(ajax.data).subscribeAtPubnub().emit(_this.events.subscribeSuccess, ajax.data);\n            return ajax;\n        }).catch(function (e) {\n            _this.unsubscribe().emit(_this.events.subscribeError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.renew = function (options) {\n        var _this = this;\n        options = options || {};\n        if (options.events)\n            this.eventFilters = options.events;\n        this.clearTimeout();\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.subscription || !_this.subscription.id)\n                throw new Error('Subscription ID is required');\n            if (!_this.eventFilters || !_this.eventFilters.length)\n                throw new Error('Events are undefined');\n            resolve();\n        }).then(function () {\n            return _this.getPlatform().apiCall({\n                method: 'PUT',\n                url: '/restapi/v1.0/subscription/' + _this.subscription.id,\n                post: {\n                    eventFilters: _this.getFullEventFilters()\n                }\n            });\n        }).then(function (ajax) {\n            _this.updateSubscription(ajax.data).emit(_this.events.renewSuccess, ajax.data);\n            return ajax;\n        }).catch(function (e) {\n            _this.unsubscribe().emit(_this.events.renewError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.remove = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            async: true\n        }, options);\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.subscription || !_this.subscription.id)\n                throw new Error('Subscription ID is required');\n            resolve(_this.getPlatform().apiCall({\n                async: !!options.async,\n                // hook and has to be synchronous\n                method: 'DELETE',\n                url: '/restapi/v1.0/subscription/' + _this.subscription.id\n            }));\n        }).then(function (ajax) {\n            _this.unsubscribe().emit(_this.events.removeSuccess, ajax);\n            return ajax;\n        }).catch(function (e) {\n            _this.emit(_this.events.removeError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.destroy = function () {\n        this.unsubscribe();\n        this.log.info('RC.core.Subscription: Destroyed');\n        return _super.prototype.destroy.call(this);\n    };\n    Subscription.prototype.isSubscribed = function () {\n        return this.subscription && this.subscription.deliveryMode && this.subscription.deliveryMode.subscriberKey && this.subscription.deliveryMode.address;\n    };\n    Subscription.prototype.setTimeout = function () {\n        var _this = this;\n        var timeToExpiration = (this.subscription.expiresIn * 1000) - Subscription.renewHandicapMs;\n        this.timeout = setTimeout(function () {\n            _this.renew({});\n        }, timeToExpiration);\n    };\n    Subscription.prototype.clearTimeout = function () {\n        clearTimeout(this.timeout);\n    };\n    Subscription.prototype.updateSubscription = function (subscription) {\n        this.clearTimeout();\n        this.subscription = subscription;\n        this.setTimeout();\n        return this;\n    };\n    /**\n     * Remove subscription and disconnect from PUBNUB\n     */\n    Subscription.prototype.unsubscribe = function () {\n        this.clearTimeout();\n        if (this.pubnub && this.isSubscribed())\n            this.pubnub.unsubscribe({ channel: this.subscription.deliveryMode.address });\n        this.subscription = null;\n        return this;\n    };\n    /**\n     * Do not use this method! Internal use only\n     * @param message\n     * @returns {Subscription}\n     */\n    Subscription.prototype.notify = function (message) {\n        if (this.isSubscribed() && this.subscription.deliveryMode.encryptionKey) {\n            var CryptoJS = this.getCrypto();\n            var key = CryptoJS.enc.Base64.parse(this.subscription.deliveryMode.encryptionKey);\n            var data = CryptoJS.enc.Base64.parse(message);\n            var decrypted = CryptoJS.AES.decrypt({ ciphertext: data }, key, {\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            }).toString(CryptoJS.enc.Utf8);\n            message = JSON.parse(decrypted);\n        }\n        this.emit(this.events.notification, message);\n        return this;\n    };\n    /**\n     * Do not use this method! Internal use only\n     * @returns {Subscription}\n     */\n    Subscription.prototype.subscribeAtPubnub = function () {\n        var _this = this;\n        if (!this.isSubscribed())\n            return this;\n        var PUBNUB = this.getPubnub();\n        this.pubnub = PUBNUB.init({\n            ssl: true,\n            subscribe_key: this.subscription.deliveryMode.subscriberKey\n        });\n        this.pubnub.ready();\n        this.pubnub.subscribe({\n            channel: this.subscription.deliveryMode.address,\n            message: function (message, env, channel) {\n                _this.log.info('RC.core.Subscription: Incoming message', message);\n                _this.notify(message);\n            },\n            connect: function () {\n                _this.log.info('RC.core.Subscription: PUBNUB connected');\n            }\n        });\n        return this;\n    };\n    Subscription.renewHandicapMs = 60 * 1000;\n    return Subscription;\n})(observable.Observable);\nexports.Subscription = Subscription;\nfunction $get(context) {\n    return new Subscription(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar hasOwn = Object.prototype.hasOwnProperty, toString = Object.prototype.toString, rdigit = /\\d/, class2type = {};\n// Populate the class2type map\n'Boolean Number String Function Array Date RegExp Object'.split(' ').forEach(function (name) {\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n});\nvar Utils = (function () {\n    function Utils() {\n    }\n    /**\n     * Ported from jQuery.fn.extend\n     * Optional first parameter makes deep copy\n     */\n    Utils.prototype.extend = function (targetObject, sourceObject) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;\n        // Handle a deep copy situation\n        if (typeof target === \"boolean\") {\n            deep = target;\n            // skip the boolean and the target\n            target = arguments[i] || {};\n            i++;\n        }\n        // Handle case when target is a string or something (possible in deep copy)\n        if (typeof target !== \"object\" && !this.isFunction(target)) {\n            target = {};\n        }\n        for (; i < length; i++) {\n            // Only deal with non-null/undefined values\n            if ((options = arguments[i]) !== null) {\n                for (name in options) {\n                    src = target[name];\n                    copy = options[name];\n                    // Prevent never-ending loop\n                    if (target === copy) {\n                        continue;\n                    }\n                    // Recurse if we're merging plain objects or arrays\n                    if (deep && copy && (this.isPlainObject(copy) || (copyIsArray = this.isArray(copy)))) {\n                        if (copyIsArray) {\n                            copyIsArray = false;\n                            clone = src && this.isArray(src) ? src : [];\n                        }\n                        else {\n                            clone = src && this.isPlainObject(src) ? src : {};\n                        }\n                        // Never move original objects, clone them\n                        target[name] = this.extend(deep, clone, copy);\n                    }\n                    else if (copy !== undefined) {\n                        target[name] = copy;\n                    }\n                }\n            }\n        }\n        // Return the modified object\n        return target;\n    };\n    Utils.prototype.forEach = function (object, cb) {\n        for (var i in object) {\n            if (!object.hasOwnProperty(i))\n                continue;\n            var res = cb(object[i], i);\n            if (res === false)\n                break;\n        }\n    };\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n     * @param {object} parameters\n     * @returns {string}\n     */\n    Utils.prototype.queryStringify = function (parameters) {\n        var _this = this;\n        var array = [];\n        this.forEach(parameters, function (v, i) {\n            if (_this.isArray(v)) {\n                v.forEach(function (vv) {\n                    array.push(encodeURIComponent(i) + '=' + encodeURIComponent(vv));\n                });\n            }\n            else {\n                array.push(encodeURIComponent(i) + '=' + encodeURIComponent(v));\n            }\n        });\n        return array.join('&');\n    };\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n     * @param {string} queryString\n     * @returns {object}\n     */\n    Utils.prototype.parseQueryString = function (queryString) {\n        var argsParsed = {}, self = this;\n        queryString.split('&').forEach(function (arg) {\n            arg = decodeURIComponent(arg);\n            if (arg.indexOf('=') == -1) {\n                argsParsed[arg.trim()] = true;\n            }\n            else {\n                var pair = arg.split('='), key = pair[0].trim(), value = pair[1].trim();\n                if (key in argsParsed) {\n                    if (key in argsParsed && !self.isArray(argsParsed[key]))\n                        argsParsed[key] = [argsParsed[key]];\n                    argsParsed[key].push(value);\n                }\n                else {\n                    argsParsed[key] = value;\n                }\n            }\n        });\n        return argsParsed;\n    };\n    /**\n     * Returns true if the passed value is valid email address.\n     * Checks multiple comma separated emails according to RFC 2822 if parameter `multiple` is `true`\n     */\n    Utils.prototype.isEmail = function (v, multiple) {\n        if (!!multiple) {\n            //this Regexp is also suitable for multiple emails (comma separated)\n            return /^(?:[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?[ ,;]*)+$/i.test(v);\n        }\n        else {\n            return /^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(v);\n        }\n    };\n    Utils.prototype.isPhoneNumber = function (v) {\n        return (/\\+?1[0-9]{3}[0-9a-z]{7}/im.test(v.toString().split(/[^0-9a-z\\+]/im).join('')));\n    };\n    /**\n     * @param args\n     * @returns {Array}\n     */\n    Utils.prototype.argumentsToArray = function (args) {\n        return Array.prototype.slice.call(args || [], 0);\n    };\n    Utils.prototype.isDate = function (obj) {\n        return this.type(obj) === \"date\";\n    };\n    Utils.prototype.isFunction = function (obj) {\n        return this.type(obj) === \"function\";\n    };\n    Utils.prototype.isArray = function (obj) {\n        return Array.isArray ? Array.isArray(obj) : this.type(obj) === \"array\";\n    };\n    // A crude way of determining if an object is a window\n    Utils.prototype.isWindow = function (obj) {\n        return obj && typeof obj === \"object\" && \"setInterval\" in obj;\n    };\n    Utils.prototype.isNaN = function (obj) {\n        return obj === null || !rdigit.test(obj) || isNaN(obj);\n    };\n    Utils.prototype.type = function (obj) {\n        return obj === null ? String(obj) : class2type[toString.call(obj)] || \"object\";\n    };\n    Utils.prototype.isPlainObject = function (obj) {\n        // Must be an Object.\n        // Because of IE, we also have to check the presence of the constructor property.\n        // Make sure that DOM nodes and window objects don't pass through, as well\n        if (!obj || this.type(obj) !== \"object\" || obj.nodeType || this.isWindow(obj)) {\n            return false;\n        }\n        // Not own constructor property must be Object\n        if (obj.constructor && !hasOwn.call(obj, \"constructor\") && !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n            return false;\n        }\n        // Own properties are enumerated firstly, so to speed up,\n        // if last one is own, then all properties are own.\n        var key;\n        for (key in obj) {\n        }\n        return key === undefined || hasOwn.call(obj, key);\n    };\n    Utils.prototype.getProperty = function (obj, property) {\n        return property.split(/[.[\\]]/).reduce(function (res, part) {\n            if (!res)\n                return undefined;\n            return part ? res[part] : res;\n        }, obj);\n    };\n    Utils.prototype.poll = function (fn, interval, timeout) {\n        this.stopPolling(timeout);\n        interval = interval || 1000;\n        var next = function (delay) {\n            delay = delay || interval;\n            interval = delay;\n            return setTimeout(function () {\n                fn(next, delay);\n            }, delay);\n        };\n        return next();\n    };\n    Utils.prototype.stopPolling = function (timeout) {\n        if (timeout)\n            clearTimeout(timeout);\n    };\n    Utils.prototype.parseString = function (s) {\n        return s ? s.toString() : '';\n    };\n    Utils.prototype.parseNumber = function (n) {\n        if (!n)\n            return 0;\n        n = parseFloat(n);\n        return isNaN(n) ? 0 : n;\n    };\n    return Utils;\n})();\nexports.Utils = Utils;\nfunction $get(context) {\n    return context.createSingleton('Utils', function () {\n        return new Utils();\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar Validator = (function () {\n    function Validator(context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Validator.prototype.validate = function (validators) {\n        var result = {\n            errors: {},\n            isValid: true\n        };\n        result.errors = validators.reduce(function (errors, validator) {\n            var res = validator.validator();\n            if (res.length > 0) {\n                result.isValid = false;\n                errors[validator.field] = errors[validator.field] || [];\n                errors[validator.field] = errors[validator.field].concat(res);\n            }\n            return errors;\n        }, {});\n        return result;\n    };\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * @deprecated\n     */\n    Validator.prototype.email = function (value, multiple) {\n        var _this = this;\n        return function () {\n            if (!value)\n                return [];\n            return _this.utils.isEmail(value, multiple) ? [] : [new Error('Value has to be a valid email')];\n        };\n    };\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * TODO International phone numbers\n     * @deprecated\n     */\n    Validator.prototype.phone = function (value) {\n        var _this = this;\n        return function () {\n            if (!value)\n                return [];\n            return _this.utils.isPhoneNumber(value) ? [] : [new Error('Value has to be a valid US phone number')];\n        };\n    };\n    Validator.prototype.required = function (value) {\n        return function () {\n            return !value ? [new Error('Field is required')] : [];\n        };\n    };\n    Validator.prototype.length = function (value, max, min) {\n        return function () {\n            var errors = [];\n            if (!value)\n                return errors;\n            value = value.toString();\n            if (min && value.length < min)\n                errors.push(new Error('Minimum length of ' + min + ' characters is required'));\n            if (max && value.length > max)\n                errors.push(new Error('Maximum length of ' + max + ' characters is required'));\n            return errors;\n        };\n    };\n    return Validator;\n})();\nexports.Validator = Validator;\nfunction $get(context) {\n    return context.createSingleton('Validator', function () {\n        return new Validator(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Account = (function (_super) {\n    __extends(Account, _super);\n    function Account() {\n        _super.apply(this, arguments);\n    }\n    Account.prototype.createUrl = function () {\n        return '/account/~';\n    };\n    return Account;\n})(helper.Helper);\nexports.Account = Account;\nfunction $get(context) {\n    return context.createSingleton('Account', function () {\n        return new Account(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar validator = __webpack_require__(17);\nvar BlockedNumber = (function (_super) {\n    __extends(BlockedNumber, _super);\n    function BlockedNumber(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    BlockedNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId ? options.extensionId : '~') + '/blocked-number' + (id ? '/' + id : '');\n    };\n    BlockedNumber.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'phoneNumber', validator: this.validator.phone(item.phoneNumber) },\n            { field: 'phoneNumber', validator: this.validator.required(item.phoneNumber) },\n            { field: 'name', validator: this.validator.required(item.name) }\n        ]);\n    };\n    return BlockedNumber;\n})(helper.Helper);\nexports.BlockedNumber = BlockedNumber;\nfunction $get(context) {\n    return context.createSingleton('BlockedNumber', function () {\n        return new BlockedNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar presence = __webpack_require__(33);\nvar contact = __webpack_require__(21);\nvar Call = (function (_super) {\n    __extends(Call, _super);\n    function Call(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n        this.contact = contact.$get(context);\n        this.presence = presence.$get(context);\n    }\n    Call.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (!('personal' in options) && !('extensionId' in options))\n            options.personal = true;\n        return '/account/~/' + (options.personal || options.extensionId ? ('extension/' + (options.extensionId || '~') + '/') : '') + (options.active ? 'active-calls' : 'call-log') + (id ? '/' + id : '');\n    };\n    Call.prototype.getSessionId = function (call) {\n        return (call && call.sessionId);\n    };\n    Call.prototype.isInProgress = function (call) {\n        return (call && call.result == 'In Progress');\n    };\n    Call.prototype.isAlive = function (call) {\n        return (call && call.availability == 'Alive');\n    };\n    Call.prototype.isInbound = function (call) {\n        return (call && call.direction == 'Inbound');\n    };\n    Call.prototype.isOutbound = function (call) {\n        return !this.isInbound(call);\n    };\n    Call.prototype.isMissed = function (call) {\n        return (call && call.result == 'Missed');\n    };\n    Call.prototype.isFindMe = function (call) {\n        return (call && call.action == 'FindMe');\n    };\n    Call.prototype.getCallerInfo = function (call) {\n        return this.isInbound(call) ? call.from : call.to;\n    };\n    Call.prototype.getAllCallerInfos = function (call) {\n        return [this.getCallerInfo(call)].concat(this.isInbound(call) ? call.to : call.from);\n    };\n    Call.prototype.formatDuration = function (call) {\n        function addZero(v) {\n            return (v < 10) ? '0' + v : v;\n        }\n        var duration = parseInt(call.duration), hours = Math.floor(duration / (60 * 60)), mins = Math.floor((duration % (60 * 60)) / 60), secs = Math.floor(duration % 60);\n        return (hours ? hours + ':' : '') + addZero(mins) + ':' + addZero(secs);\n    };\n    Call.prototype.filter = function (options) {\n        options = this.utils.extend({\n            alive: true,\n            direction: '',\n            type: ''\n        }, options);\n        return this.list.filter([\n            { filterBy: 'direction', condition: options.direction },\n            { filterBy: 'type', condition: options.type }\n        ]);\n    };\n    Call.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'startTime'\n        }, options));\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in\n     * all calls Warning, this function may be performance-consuming, reduce the amount of items passed to contacts\n     * and calls\n     */\n    Call.prototype.attachContacts = function (contacts, calls, options) {\n        var _this = this;\n        // Flatten all caller infos from all messages\n        var callerInfos = calls.reduce(function (callerInfos, call) {\n            return callerInfos.concat(_this.getAllCallerInfos(call));\n        }, []);\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n    };\n    /**\n     * Check whether pair of calls are two legs of RingOut\n     */\n    Call.prototype.checkMergeability = function (outboundRingOutCall, inboundCall, options) {\n        var getTime = function (dateString) {\n            return (new Date(dateString)).getTime();\n        };\n        return ((!options.strict || outboundRingOutCall.action && outboundRingOutCall.action.toLowerCase().indexOf('ringout') != -1) && outboundRingOutCall.direction == 'Outbound' && inboundCall.direction == 'Inbound' && ((!inboundCall.startTime && !outboundRingOutCall.startTime) || Math.abs(getTime(inboundCall.startTime) - getTime(outboundRingOutCall.startTime)) < (options.maxStartTimeDiscrepancy || 5000)) && inboundCall.from.phoneNumber == outboundRingOutCall.to.phoneNumber && (inboundCall.to.phoneNumber == outboundRingOutCall.from.phoneNumber || inboundCall.to.name == outboundRingOutCall.from.name));\n    };\n    Call.prototype.combineCalls = function (outboundRingOutCall, inboundCall, options) {\n        options = options || {};\n        var result = [];\n        outboundRingOutCall.hasSubsequent = true;\n        if (options.merge) {\n            outboundRingOutCall.duration = (outboundRingOutCall.duration > inboundCall.duration) ? outboundRingOutCall.duration : inboundCall.duration;\n            // TODO Usually information from inbound call is more accurate for unknown reason\n            outboundRingOutCall.from = inboundCall.to;\n            outboundRingOutCall.to = inboundCall.from;\n            // Push only one \"merged\" outbound call\n            result.push(outboundRingOutCall);\n        }\n        else {\n            // Mark next call as subsequent\n            inboundCall.subsequent = true;\n            inboundCall.startTime = outboundRingOutCall.startTime; // Needed for sort\n            // Push both calls, first outbound then inbound\n            result.push(outboundRingOutCall);\n            result.push(inboundCall);\n        }\n        return result;\n    };\n    /**\n     * (!) Experimental (!)\n     *\n     * Calls in Recent Calls (Call Log) or Active Calls arrays can be combined if they are, for example, two legs of\n     * one RingOut. The logic that stands behind this process is simple:\n     *\n     * - Calls must have opposite directions\n     * - Must have been started within a certain limited time frame\n     * - Must have same phone numbers in their Caller Info sections (from/to)\n     *\n     * ```js\n     * var processedCalls = Call.processCalls(callsArray, {strict: false, merge: true});\n     * ```\n     *\n     * Flags:\n     *\n     * - if `strict` is `true` then only calls with RingOut in `action` property will be affected\n     * - `merge` &mdash; controls whether to merge calls (reducing the length of array) or give them `subsequent`\n     *     and `hasSubsequent` properties\n     */\n    Call.prototype.processCalls = function (calls, options) {\n        var processedCalls = [], callsToMerge = [], self = this;\n        // Iterate through calls\n        calls.forEach(function (call) {\n            var merged = false;\n            call.subsequent = false;\n            call.hasSubsequent = false;\n            // Second cycle to find other leg\n            // It is assumed that call is the outbound, secondCall is inbound\n            calls.some(function (secondCall) {\n                if (call === secondCall)\n                    return false;\n                if (self.checkMergeability(call, secondCall, options)) {\n                    // Push to result array merged call\n                    processedCalls = processedCalls.concat(self.combineCalls(call, secondCall, options));\n                    // Push to array calls that are merged\n                    callsToMerge.push(call);\n                    callsToMerge.push(secondCall);\n                    merged = true;\n                }\n                return merged;\n            });\n        });\n        // After all calls are merged, add non-merged calls\n        calls.forEach(function (call) {\n            if (callsToMerge.indexOf(call) == -1)\n                processedCalls.push(call);\n        });\n        return processedCalls;\n    };\n    /**\n     * Converts Presence's ActiveCall array into regular Calls array\n     */\n    Call.prototype.parsePresenceCalls = function (activeCalls) {\n        var _this = this;\n        return activeCalls.map(function (activeCall) {\n            return {\n                id: activeCall.id,\n                uri: '',\n                sessionId: activeCall.sessionId,\n                from: { phoneNumber: activeCall.from },\n                to: { phoneNumber: activeCall.to },\n                direction: activeCall.direction,\n                startTime: '',\n                duration: 0,\n                type: '',\n                action: '',\n                result: _this.presence.isCallInProgress(activeCall) ? 'In Progress' : activeCall.telephonyStatus,\n                telephonyStatus: activeCall.telephonyStatus // non-standard property for compatibility\n            };\n        });\n    };\n    Call.prototype.getSignature = function (call) {\n        var cleanup = function (phoneNumber) {\n            return (phoneNumber || '').toString().replace(/[^0-9]/ig, '');\n        };\n        return call.direction + '|' + (call.from && cleanup(call.from.phoneNumber)) + '|' + (call.to && cleanup(call.to.phoneNumber));\n    };\n    Call.prototype.mergePresenceCalls = function (presenceCalls, presence) {\n        var currentDate = new Date(), activeCalls = this.parsePresenceCalls(presence && presence.activeCalls || []).map(function (call) {\n            // delete property to make sure it is skipped during merge\n            delete call.startTime;\n            return call;\n        });\n        presenceCalls = this.merge(presenceCalls || [], activeCalls, this.getSessionId, true);\n        presenceCalls.forEach(function (call) {\n            if (!call.startTime)\n                call.startTime = currentDate.toISOString();\n        });\n        return presenceCalls;\n    };\n    Call.prototype.mergeAll = function (presenceCalls, calls, activeCalls) {\n        // First, merge calls into presence calls\n        var presenceAndCalls = this.merge(presenceCalls || [], calls || [], this.getSessionId, true);\n        // Second, merge activeCalls into previous result\n        return this.merge(presenceAndCalls, activeCalls || [], this.getSessionId, true);\n    };\n    return Call;\n})(helper.Helper);\nexports.Call = Call;\nfunction $get(context) {\n    return context.createSingleton('Call', function () {\n        return new Call(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar validator = __webpack_require__(17);\nvar list = __webpack_require__(10);\nvar Contact = (function (_super) {\n    __extends(Contact, _super);\n    function Contact(context) {\n        _super.call(this, context);\n        this.phoneFields = [\n            'homePhone',\n            'homePhone2',\n            'businessPhone',\n            'businessPhone2',\n            'mobilePhone',\n            'companyPhone',\n            'assistantPhone',\n            'carPhone',\n            'otherPhone',\n            'callbackPhone'\n        ];\n        this.faxFields = [\n            'businessFax',\n            'otherFax'\n        ];\n        this.addressFields = [\n            'homeAddress',\n            'businessAddress',\n            'otherAddress'\n        ];\n        this.addressSubFields = [\n            'street',\n            'city',\n            'state',\n            'zip'\n        ];\n        this.nameFields = [\n            'firstName',\n            'middleName',\n            'lastName',\n            'nickName'\n        ];\n        this.otherFields = [\n            'company',\n            'jobTitle',\n            'webPage',\n            'notes'\n        ];\n        this.emailFields = [\n            'email',\n            'email2',\n            'email3'\n        ];\n        this.list = list.$get(context);\n        this.validator = validator.$get(context);\n    }\n    Contact.prototype.createUrl = function (options, id) {\n        options = options || {};\n        var root = '/account/~/extension/' + (options.extensionId ? options.extensionId : '~') + '/address-book';\n        if (options.sync)\n            return root + '-sync';\n        return root + (options.groupId ? '/group/' + options.groupId + '/contact' : '/contact') + (id ? '/' + id : '');\n    };\n    /**\n     * Returns all values of the given fields if value exists\n     */\n    Contact.prototype.getFieldValues = function (where, fields, asHash) {\n        return fields.reduce(function (result, field) {\n            if (where && where[field]) {\n                if (asHash) {\n                    result[field] = where[field];\n                }\n                else {\n                    result.push(where[field]);\n                }\n            }\n            return result;\n        }, asHash ? {} : []);\n    };\n    Contact.prototype.getFullName = function (contact) {\n        return this.getFieldValues(contact, this.nameFields).join(' ');\n    };\n    Contact.prototype.getEmails = function (contact, asHash) {\n        return this.getFieldValues(contact, this.emailFields, asHash);\n    };\n    Contact.prototype.getPhones = function (contact, asHash) {\n        return this.getFieldValues(contact, this.phoneFields, asHash);\n    };\n    Contact.prototype.getFaxes = function (contact, asHash) {\n        return this.getFieldValues(contact, this.faxFields, asHash);\n    };\n    Contact.prototype.getAddresses = function (contact, asHash) {\n        return this.getFieldValues(contact, this.addressFields, asHash);\n    };\n    Contact.prototype.isAlive = function (contact) {\n        return (contact.availability == 'Alive');\n    };\n    /**\n     * Matches a contact against a given string, returns null if nothing found\n     */\n    Contact.prototype.match = function (contact, string, options) {\n        var _this = this;\n        options = this.utils.extend({\n            fields: [].concat(this.nameFields, this.emailFields, this.phoneFields, this.faxFields, this.otherFields),\n            inAddresses: true,\n            transformFn: function (value, options) {\n                return value ? value.toString().toLocaleLowerCase() : '';\n            },\n            strict: false\n        }, options);\n        string = options.transformFn(string, options);\n        var found = null;\n        if (!string)\n            return found;\n        var matchWith = function (value) {\n            // skip unnecessary cycles if match has been found\n            if (found)\n                return;\n            var transformed = options.transformFn(value, options);\n            if (!transformed)\n                return;\n            var match = (options.strict ? transformed == string : transformed.indexOf(string) > -1);\n            if (match)\n                found = value;\n        };\n        // Search in fields\n        options.fields.forEach(function (field) {\n            matchWith(contact[field]);\n        });\n        // Search in addresses, skip unnecessary cycles if match has been found\n        if (options.inAddresses && !found)\n            this.addressFields.forEach(function (field) {\n                // skip unnecessary cycles if match has been found or no field value\n                if (!contact[field] || found)\n                    return;\n                _this.addressSubFields.forEach(function (subField) {\n                    matchWith(contact[field][subField]);\n                });\n            });\n        return found;\n    };\n    /**\n     * Matches a contact against a given phone number, returns null if nothing found\n     */\n    Contact.prototype.matchAsPhone = function (contact, phone, options) {\n        return this.match(contact, phone, this.utils.extend({\n            fields: [].concat(this.phoneFields, this.faxFields),\n            inAddresses: false,\n            transformFn: function (value, options) {\n                return value ? value.toString().replace(/[^\\d\\w]/ig, '') : ''; //TODO Trickier removal reqired;\n            },\n            strict: false\n        }, options));\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all given {ICallerInfo}\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and callerInfos\n     */\n    Contact.prototype.attachToCallerInfos = function (callerInfos, contacts, options) {\n        var self = this, callerInfoIndex = this.index(callerInfos, function (callerInfo) {\n            return callerInfo.phoneNumber;\n        }, true);\n        this.utils.forEach(callerInfoIndex, function (indexedCallerInfos, phoneNumber) {\n            var foundContact = null, foundPhone = null;\n            contacts.some(function (contact) {\n                foundPhone = self.matchAsPhone(contact, phoneNumber, options);\n                if (foundPhone)\n                    foundContact = contact;\n                return foundPhone;\n            });\n            if (foundContact) {\n                indexedCallerInfos.forEach(function (callerInfo) {\n                    callerInfo.contact = foundContact;\n                    callerInfo.contactPhone = foundPhone;\n                });\n            }\n        });\n    };\n    Contact.prototype.comparator = function (options) {\n        var _this = this;\n        return this.list.comparator(this.utils.extend({\n            extractFn: function (contact, options) {\n                return _this.getFullName(contact);\n            }\n        }, options));\n    };\n    /**\n     * TODO Add filtering by group http://jira.ringcentral.com/browse/SDK-4\n     */\n    Contact.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            alive: true,\n            startsWith: '',\n            phonesOnly: false,\n            faxesOnly: false\n        }, options);\n        return this.list.filter([\n            { condition: options.alive, filterFn: this.isAlive },\n            { condition: options.startsWith, filterFn: function (item, opts) {\n                return _this.match(item, opts.condition);\n            } },\n            { condition: options.phonesOnly, filterFn: function (item, opts) {\n                return (_this.getPhones(item).length > 0);\n            } },\n            { condition: options.faxesOnly, filterFn: function (item, opts) {\n                return (_this.getFaxes(item).length > 0);\n            } }\n        ]);\n    };\n    Contact.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'firstName', validator: this.validator.required(item.firstName) },\n            { field: 'lastName', validator: this.validator.required(item.lastName) },\n            { field: 'email', validator: this.validator.email(item.email) },\n            { field: 'email2', validator: this.validator.email(item.email2) },\n            { field: 'email3', validator: this.validator.email(item.email3) }\n        ]);\n    };\n    return Contact;\n})(helper.Helper);\nexports.Contact = Contact;\nfunction $get(context) {\n    return context.createSingleton('Contact', function () {\n        return new Contact(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar validator = __webpack_require__(17);\nvar ContactGroup = (function (_super) {\n    __extends(ContactGroup, _super);\n    function ContactGroup(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    ContactGroup.prototype.createUrl = function (options, id) {\n        return '/account/~/extension/~/address-book/group' + (id ? '/' + id : '');\n    };\n    ContactGroup.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'groupName', validator: this.validator.required(item && item.groupName) }\n        ]);\n    };\n    return ContactGroup;\n})(helper.Helper);\nexports.ContactGroup = ContactGroup;\nfunction $get(context) {\n    return context.createSingleton('ContactGroup', function () {\n        return new ContactGroup(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Conferencing = (function (_super) {\n    __extends(Conferencing, _super);\n    function Conferencing() {\n        _super.apply(this, arguments);\n    }\n    Conferencing.prototype.createUrl = function () {\n        return '/account/~/extension/~/conferencing';\n    };\n    return Conferencing;\n})(helper.Helper);\nexports.Conferencing = Conferencing;\nfunction $get(context) {\n    return context.createSingleton('Conferencing', function () {\n        return new Conferencing(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Country = (function (_super) {\n    __extends(Country, _super);\n    function Country() {\n        _super.apply(this, arguments);\n    }\n    Country.prototype.createUrl = function (options, id) {\n        return '/dictionary/country';\n    };\n    return Country;\n})(helper.Helper);\nexports.Country = Country;\nfunction $get(context) {\n    return context.createSingleton('Country', function () {\n        return new Country(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar validator = __webpack_require__(17);\nvar extension = __webpack_require__(27);\nvar deviceModel = __webpack_require__(26);\nvar Device = (function (_super) {\n    __extends(Device, _super);\n    function Device(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n        this.extension = extension.$get(context);\n        this.deviceModel = deviceModel.$get(context);\n    }\n    Device.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (options.order)\n            return '/account/~/order';\n        return '/account/~' + (options.extensionId ? '/extension/' + options.extensionId : '') + '/device' + (id ? '/' + id : '');\n    };\n    /**\n     * @param {IDevice} item\n     */\n    Device.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'emergencyServiceAddress-street', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.street) },\n            { field: 'emergencyServiceAddress-city', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.city) },\n            { field: 'emergencyServiceAddress-state', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.state) },\n            { field: 'emergencyServiceAddress-country', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.country) },\n            { field: 'emergencyServiceAddress-zip', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.zip) },\n            { field: 'emergencyServiceAddress-customerName', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.customerName) },\n            { field: 'extension', validator: this.validator.required(this.extension.getId(item && item.extension)) },\n            { field: 'model', validator: this.validator.required(this.deviceModel.getId(item && item.model)) }\n        ]);\n    };\n    return Device;\n})(helper.Helper);\nexports.Device = Device;\nfunction $get(context) {\n    return context.createSingleton('Device', function () {\n        return new Device(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar DeviceModel = (function (_super) {\n    __extends(DeviceModel, _super);\n    function DeviceModel() {\n        _super.apply(this, arguments);\n        /**\n         * TODO Remove when http://jira.ringcentral.com/browse/SDK-1 is done\n         */\n        this.devices = [\n            {\n                id: '-1',\n                name: 'Softphone'\n            },\n            {\n                id: '0',\n                name: 'Existing device'\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '23',\n                name: 'Polycom IP 321 Basic IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '30',\n                name: 'Polycom IP 550 HD Manager IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '37',\n                name: 'Polycom IP 6000 Conference Phone',\n                deviceClass: 'Conference Phone'\n            },\n            {\n                id: '40',\n                name: 'Polycom IP 335 HD IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '51',\n                name: 'Cisco SPA-303 Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone with 2 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone with 2 Expansion Modules\tDesk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 2 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 3 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '3'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '52',\n                name: 'Cisco SPA-122 ATA',\n                deviceClass: 'Analog Adapter'\n            },\n            {\n                id: '53',\n                name: 'Polycom VVX-500 Color Touchscreen',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '54',\n                name: 'Polycom VVX-310 Gigabit Ethernet Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '55',\n                name: 'Polycom VVX-410 Color Gigabit Ethernet Phone',\n                deviceClass: 'Desk Phone'\n            }\n        ];\n    }\n    DeviceModel.prototype.getId = function (device) {\n        if (!device)\n            return null;\n        return device.id + (device.addons && device.addons[0] ? '-' + device.addons[0].id + '-' + device.addons[0].count : '');\n    };\n    /**\n     * Remove extra textual information from device\n     * @exceptionalCase Platform does not understand full device info\n     */\n    DeviceModel.prototype.cleanForSaving = function (device) {\n        if (!device)\n            return null;\n        delete device.name;\n        delete device.deviceClass;\n        if (device.addons && device.addons.length > 0) {\n            device.addons.forEach(function (addon, i) {\n                delete device.addons[i].name;\n            });\n        }\n        else {\n            delete device.addons;\n        }\n        return device;\n    };\n    return DeviceModel;\n})(helper.Helper);\nexports.DeviceModel = DeviceModel;\nfunction $get(context) {\n    return context.createSingleton('DeviceModel', function () {\n        return new DeviceModel(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar Extension = (function (_super) {\n    __extends(Extension, _super);\n    function Extension(context) {\n        _super.call(this, context);\n        this.type = {\n            department: 'Department',\n            user: 'User',\n            announcement: 'Announcement',\n            voicemail: 'Voicemail'\n        };\n        this.list = list.$get(context);\n    }\n    Extension.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~' + (options.departmentId ? '/department/' + options.departmentId + '/members' : '/extension') + (id ? '/' + id : '');\n    };\n    Extension.prototype.isUser = function (extension) {\n        return extension && extension.type == this.type.user;\n    };\n    Extension.prototype.isDepartment = function (extension) {\n        return extension && extension.type == this.type.department;\n    };\n    Extension.prototype.isAnnouncement = function (extension) {\n        return extension && extension.type == this.type.announcement;\n    };\n    Extension.prototype.isVoicemail = function (extension) {\n        return extension && extension.type == this.type.voicemail;\n    };\n    Extension.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'extensionNumber',\n            compareFn: this.list.numberComparator\n        }, options));\n    };\n    Extension.prototype.filter = function (options) {\n        options = this.utils.extend({\n            search: '',\n            type: ''\n        }, options);\n        return this.list.filter([\n            { filterBy: 'type', condition: options.type },\n            {\n                condition: options.search.toLocaleLowerCase(),\n                filterFn: this.list.containsFilter,\n                extractFn: function (item) {\n                    return (item.name && (item.name.toLocaleLowerCase() + ' ')) + (item.extensionNumber && item.extensionNumber.toString().toLocaleLowerCase());\n                }\n            }\n        ]);\n    };\n    return Extension;\n})(helper.Helper);\nexports.Extension = Extension;\nfunction $get(context) {\n    return context.createSingleton('Extension', function () {\n        return new Extension(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar ForwardingNumber = (function (_super) {\n    __extends(ForwardingNumber, _super);\n    function ForwardingNumber(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n    }\n    ForwardingNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId || '~') + '/forwarding-number' + (id ? '/' + id : '');\n    };\n    ForwardingNumber.prototype.getId = function (forwardingNumber) {\n        return forwardingNumber && (forwardingNumber.id || (forwardingNumber.phoneNumber)); //TODO @exceptionalCase\n    };\n    ForwardingNumber.prototype.hasFeature = function (phoneNumber, feature) {\n        return (!!phoneNumber && !!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    };\n    ForwardingNumber.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'label'\n        }, options));\n    };\n    ForwardingNumber.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            features: []\n        }, options);\n        return this.list.filter([{\n            condition: options.features.length,\n            filterFn: function (item) {\n                return options.features.some(function (feature) {\n                    return _this.hasFeature(item, feature);\n                });\n            }\n        }]);\n    };\n    return ForwardingNumber;\n})(helper.Helper);\nexports.ForwardingNumber = ForwardingNumber;\nfunction $get(context) {\n    return context.createSingleton('ForwardingNumber', function () {\n        return new ForwardingNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Language = (function (_super) {\n    __extends(Language, _super);\n    function Language() {\n        _super.apply(this, arguments);\n        this.languages = [\n            {\n                id: '1033',\n                name: 'English (US)'\n            },\n            {\n                id: '3084',\n                name: 'French (Canada)'\n            }\n        ];\n    }\n    return Language;\n})(helper.Helper);\nexports.Language = Language;\nfunction $get(context) {\n    return context.createSingleton('Language', function () {\n        return new Language(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar state = __webpack_require__(37);\nvar Location = (function (_super) {\n    __extends(Location, _super);\n    function Location(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n        this.state = state.$get(context);\n    }\n    Location.prototype.createUrl = function () {\n        return '/dictionary/location';\n    };\n    Location.prototype.filter = function (options) {\n        var _this = this;\n        var uniqueNPAs = [];\n        options = this.utils.extend({\n            stateId: '',\n            onlyUniqueNPA: false\n        }, options);\n        return this.list.filter([\n            {\n                condition: options.stateId,\n                filterFn: function (item, opts) {\n                    return (_this.state.getId(item.state) == opts.condition);\n                }\n            },\n            {\n                condition: options.onlyUniqueNPA,\n                filterFn: function (item, opts) {\n                    if (uniqueNPAs.indexOf(item.npa) == -1) {\n                        uniqueNPAs.push(item.npa);\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                }\n            }\n        ]);\n    };\n    Location.prototype.comparator = function (options) {\n        options = this.utils.extend({\n            sortBy: 'npa'\n        }, options);\n        if (options.sortBy == 'nxx') {\n            options.extractFn = function (item) {\n                return (parseInt(item.npa) * 1000000) + parseInt(item.nxx);\n            };\n            options.compareFn = this.list.numberComparator;\n        }\n        return this.list.comparator(options);\n    };\n    return Location;\n})(helper.Helper);\nexports.Location = Location;\nfunction $get(context) {\n    return context.createSingleton('Location', function () {\n        return new Location(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar validator = __webpack_require__(17);\nvar subscription = __webpack_require__(15);\nvar platform = __webpack_require__(14);\nvar contact = __webpack_require__(21);\nvar Message = (function (_super) {\n    __extends(Message, _super);\n    function Message(context) {\n        _super.call(this, context);\n        this.contact = contact.$get(context);\n        this.list = list.$get(context);\n        this.platform = platform.$get(context);\n        this.validator = validator.$get(context);\n    }\n    /**\n     *\n     * @exceptionalCase Different endpoint when creating SMS/Pager\n     */\n    Message.prototype.createUrl = function (options, id) {\n        options = options || {};\n        var root = '/account/~/extension/' + (options.extensionId || '~');\n        if (options.fax)\n            return root + '/fax';\n        if (options.sms)\n            return root + '/sms';\n        if (options.pager)\n            return root + '/company-pager';\n        if (options.sync)\n            return root + '/message-sync';\n        return root + '/message-store' + (id ? '/' + id : '');\n    };\n    Message.prototype.isInbound = function (message) {\n        return (message && message.direction == 'Inbound');\n    };\n    Message.prototype.isOutbound = function (message) {\n        return !this.isInbound(message);\n    };\n    Message.prototype.isSMS = function (message) {\n        return (message && message.type == 'SMS');\n    };\n    Message.prototype.isPager = function (message) {\n        return (message && message.type == 'Pager');\n    };\n    Message.prototype.isVoiceMail = function (message) {\n        return (message && message.type == 'VoiceMail');\n    };\n    Message.prototype.isFax = function (message) {\n        return (message && message.type == 'Fax');\n    };\n    Message.prototype.isAlive = function (message) {\n        //return (this.availability != 'Deleted' && this.availability != 'Purged');\n        return (message && message.availability == 'Alive');\n    };\n    Message.prototype.isRead = function (message) {\n        return (message.readStatus == 'Read');\n    };\n    Message.prototype.setIsRead = function (message, isRead) {\n        message.readStatus = (!!isRead) ? 'Read' : 'Unread';\n        return message;\n    };\n    Message.prototype.getAttachmentUrl = function (message, i) {\n        return message.attachments[i] ? this.platform.apiUrl(message.attachments[i].uri, { addMethod: 'GET', addServer: true, addToken: true }) : '';\n    };\n    Message.prototype.getAttachmentContentType = function (message, i) {\n        return message.attachments[i] ? message.attachments[i].contentType : '';\n    };\n    Message.prototype.getSubscription = function (options) {\n        return subscription.$get(this.context).setEvents([this.createUrl(options)]);\n    };\n    /**\n     * Returns from-phones if inbound (oterwise to-phones)\n     */\n    Message.prototype.getCallerInfos = function (message) {\n        return this.isInbound(message) ? [message.from] : message.to;\n    };\n    /**\n     * Returns first from-phones if inbound (oterwise to-phones), then vice-versa\n     */\n    Message.prototype.getAllCallerInfos = function (message) {\n        return this.getCallerInfos(message).concat(this.isInbound(message) ? message.to : [message.from]);\n    };\n    /**\n     * TODO Compare as dates\n     */\n    Message.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'creationTime'\n        }, options));\n    };\n    Message.prototype.filter = function (options) {\n        options = this.utils.extend({\n            search: '',\n            alive: true,\n            direction: '',\n            conversationId: '',\n            readStatus: ''\n        }, options);\n        return this.list.filter([\n            { condition: options.alive, filterFn: this.isAlive },\n            { filterBy: 'type', condition: options.type },\n            { filterBy: 'direction', condition: options.direction },\n            { filterBy: 'conversationId', condition: options.conversationId },\n            { filterBy: 'readStatus', condition: options.readStatus },\n            { filterBy: 'subject', condition: options.search, filterFn: this.list.containsFilter }\n        ]);\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in all messages\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and messages\n     */\n    Message.prototype.attachContacts = function (contacts, messages, options) {\n        var self = this;\n        // Flatten all caller infos from all messages\n        var callerInfos = messages.reduce(function (callerInfos, message) {\n            return callerInfos.concat(self.getAllCallerInfos(message));\n        }, []);\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n    };\n    Message.prototype.shorten = function (message) {\n        return {\n            from: message.from,\n            to: message.to,\n            text: message.subject\n        };\n    };\n    Message.prototype.validateSMS = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to[0].phoneNumber')) },\n            { field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.phoneNumber')) },\n            { field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject')) },\n            { field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160) }\n        ]);\n    };\n    Message.prototype.validatePager = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to.extensionNumber')) },\n            { field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.extensionNumber')) },\n            { field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject')) },\n            { field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160) }\n        ]);\n    };\n    return Message;\n})(helper.Helper);\nexports.Message = Message;\nfunction $get(context) {\n    return context.createSingleton('Message', function () {\n        return new Message(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar extension = __webpack_require__(27);\nvar PhoneNumber = (function (_super) {\n    __extends(PhoneNumber, _super);\n    function PhoneNumber(context) {\n        _super.call(this, context);\n        this.extension = extension.$get(context);\n        this.list = list.$get(context);\n    }\n    PhoneNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (options.lookup)\n            return '/number-pool/lookup';\n        return '/account/~' + (options.extensionId ? '/extension/' + options.extensionId : '') + '/phone-number' + (id ? '/' + id : '');\n    };\n    PhoneNumber.prototype.isSMS = function (phoneNumber) {\n        return this.hasFeature(phoneNumber, 'SmsSender');\n    };\n    PhoneNumber.prototype.hasFeature = function (phoneNumber, feature) {\n        return (!!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    };\n    PhoneNumber.prototype.reserve = function (phoneNumber, date) {\n        phoneNumber.reservedTill = new Date(date).toISOString();\n    };\n    PhoneNumber.prototype.unreserve = function (phoneNumber) {\n        phoneNumber.reservedTill = null;\n    };\n    PhoneNumber.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            extractFn: function (item) {\n                return item.usageType + '-' + item.paymentType + '-' + item.type;\n            }\n        }, options));\n    };\n    /**\n     * TODO Add other filtering methods http://jira.ringcentral.com/browse/SDK-5\n     */\n    PhoneNumber.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            usageType: '',\n            paymentType: '',\n            type: '',\n            features: []\n        }, options);\n        return this.list.filter([\n            { filterBy: 'usageType', condition: options.usageType },\n            { filterBy: 'paymentType', condition: options.paymentType },\n            { filterBy: 'type', condition: options.type },\n            {\n                condition: options.features.length,\n                filterFn: function (item) {\n                    return options.features.some(function (feature) {\n                        return _this.hasFeature(item, feature);\n                    });\n                }\n            }\n        ]);\n    };\n    return PhoneNumber;\n})(helper.Helper);\nexports.PhoneNumber = PhoneNumber;\nfunction $get(context) {\n    return context.createSingleton('PhoneNumber', function () {\n        return new PhoneNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar subscription = __webpack_require__(15);\nvar extension = __webpack_require__(27);\nvar Presence = (function (_super) {\n    __extends(Presence, _super);\n    function Presence(context) {\n        _super.call(this, context);\n        this.extension = extension.$get(context);\n    }\n    Presence.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (id || '~') + '/presence' + (options.detailed ? '?detailedTelephonyState=true' : '');\n    };\n    Presence.prototype.getId = function (presence) {\n        return presence && (this.extension.getId(presence.extension) || presence.extensionId);\n    };\n    Presence.prototype.isAvailable = function (presence) {\n        return presence && presence.presenceStatus == 'Available';\n    };\n    Presence.prototype.getSubscription = function (options, id) {\n        return subscription.$get(this.context).setEvents([this.createUrl(options, id)]);\n    };\n    Presence.prototype.updateSubscription = function (subscription, presences, options) {\n        var _this = this;\n        var events = presences.map(this.getId, this).map(function (id) {\n            return _this.createUrl(options, id);\n        }, this);\n        subscription.addEvents(events);\n        return subscription;\n    };\n    Presence.prototype.attachToExtensions = function (extensions, presences, merge) {\n        var _this = this;\n        var index = this.index(presences);\n        extensions.forEach(function (ex) {\n            var presence = index[_this.extension.getId(ex)];\n            if (presence) {\n                if ('presence' in ex && merge) {\n                    _this.utils.extend(ex.presence, presence);\n                }\n                else {\n                    ex.presence = presence;\n                }\n            }\n        }, this);\n        return this;\n    };\n    Presence.prototype.isCallInProgress = function (presenceCall) {\n        return (presenceCall && presenceCall.telephonyStatus != 'NoCall');\n    };\n    return Presence;\n})(helper.Helper);\nexports.Presence = Presence;\nfunction $get(context) {\n    return context.createSingleton('Presence', function () {\n        return new Presence(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar validator = __webpack_require__(17);\nvar Ringout = (function (_super) {\n    __extends(Ringout, _super);\n    function Ringout(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    Ringout.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId || '~') + '/ringout' + (id ? '/' + id : '');\n    };\n    Ringout.prototype.resetAsNew = function (object) {\n        object = _super.prototype.resetAsNew.call(this, object);\n        if (object) {\n            delete object.status;\n        }\n        return object;\n    };\n    Ringout.prototype.isInProgress = function (ringout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'InProgress';\n    };\n    Ringout.prototype.isSuccess = function (ringout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'Success';\n    };\n    Ringout.prototype.isError = function (ringout) {\n        return !this.isNew(ringout) && !this.isInProgress(ringout) && !this.isSuccess(ringout);\n    };\n    Ringout.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(item && item.to && item.to.phoneNumber) },\n            { field: 'from', validator: this.validator.required(item && item.from && item.from.phoneNumber) }\n        ]);\n    };\n    return Ringout;\n})(helper.Helper);\nexports.Ringout = Ringout;\nfunction $get(context) {\n    return context.createSingleton('Ringout', function () {\n        return new Ringout(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Service = (function (_super) {\n    __extends(Service, _super);\n    function Service() {\n        _super.apply(this, arguments);\n        this.isSmsEnabled = this.isServiceFeatureEnabledMethod('SMS');\n        this.isSmsReceivingEnabled = this.isServiceFeatureEnabledMethod('SMSReceiving');\n        this.isPresenceEnabled = this.isServiceFeatureEnabledMethod('Presence');\n        this.isRingOutEnabled = this.isServiceFeatureEnabledMethod('RingOut');\n        this.isInternationalCallingEnabled = this.isServiceFeatureEnabledMethod('InternationalCalling');\n        this.isDndEnabled = this.isServiceFeatureEnabledMethod('DND');\n        this.isFaxEnabled = this.isServiceFeatureEnabledMethod('Fax');\n        this.isFaxReceivingEnabled = this.isServiceFeatureEnabledMethod('FaxReceiving');\n        this.isVoicemailEnabled = this.isServiceFeatureEnabledMethod('Voicemail');\n        this.isPagerEnabled = this.isServiceFeatureEnabledMethod('Pager');\n        this.isPagerReceivingEnabled = this.isServiceFeatureEnabledMethod('PagerReceiving');\n        this.isVoipCallingEnabled = this.isServiceFeatureEnabledMethod('VoipCalling');\n        this.isVideoConferencingEnabled = this.isServiceFeatureEnabledMethod('VideoConferencing');\n        this.isSalesForceEnabled = this.isServiceFeatureEnabledMethod('SalesForce');\n        this.isIntercomEnabled = this.isServiceFeatureEnabledMethod('Intercom');\n        this.isPagingEnabled = this.isServiceFeatureEnabledMethod('Paging');\n        this.isConferencingEnabled = this.isServiceFeatureEnabledMethod('Conferencing');\n        this.isFreeSoftPhoneLinesEnabled = this.isServiceFeatureEnabledMethod('FreeSoftPhoneLines');\n        this.isHipaaComplianceEnabled = this.isServiceFeatureEnabledMethod('HipaaCompliance');\n        this.isCallParkEnabled = this.isServiceFeatureEnabledMethod('CallPark');\n        this.isOnDemandCallRecordingEnabled = this.isServiceFeatureEnabledMethod('OnDemandCallRecording');\n    }\n    Service.prototype.createUrl = function () {\n        return '/account/~/service-info';\n    };\n    Service.prototype.isEnabled = function (feature, serviceFeatures) {\n        return serviceFeatures.reduce(function (value, f) {\n            if (f.featureName == feature)\n                value = f.enabled;\n            return value;\n        }, false);\n    };\n    Service.prototype.isServiceFeatureEnabledMethod = function (feature) {\n        var _this = this;\n        return function (serviceFeatures) {\n            return _this.isEnabled(feature, serviceFeatures);\n        };\n    };\n    return Service;\n})(helper.Helper);\nexports.Service = Service;\nfunction $get(context) {\n    return context.createSingleton('Service', function () {\n        return new Service(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar ShippingMethod = (function (_super) {\n    __extends(ShippingMethod, _super);\n    function ShippingMethod() {\n        _super.apply(this, arguments);\n        /**\n         * TODO Remove when http://jira.ringcentral.com/browse/SDK-3 id done\n         */\n        this.shippingMethods = [\n            {\n                id: '1',\n                name: 'Ground Shipping (5-7 business days)'\n            },\n            {\n                id: '2',\n                name: '2-days Shipping'\n            },\n            {\n                id: '3',\n                name: 'Overnight Shipping'\n            }\n        ];\n    }\n    return ShippingMethod;\n})(helper.Helper);\nexports.ShippingMethod = ShippingMethod;\nfunction $get(context) {\n    return context.createSingleton('ShippingMethod', function () {\n        return new ShippingMethod(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar country = __webpack_require__(24);\nvar State = (function (_super) {\n    __extends(State, _super);\n    function State(context) {\n        _super.call(this, context);\n        this.countryHelper = country.$get(context);\n        this.list = list.$get(context);\n    }\n    State.prototype.createUrl = function () {\n        return '/dictionary/state';\n    };\n    State.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            countryId: ''\n        }, options);\n        return this.list.filter([\n            {\n                condition: options.countryId,\n                filterFn: function (item, opts) {\n                    return (_this.countryHelper.getId(item.country) == opts.condition);\n                }\n            }\n        ]);\n    };\n    return State;\n})(helper.Helper);\nexports.State = State;\nfunction $get(context) {\n    return context.createSingleton('State', function () {\n        return new State(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Timezone = (function (_super) {\n    __extends(Timezone, _super);\n    function Timezone() {\n        _super.apply(this, arguments);\n    }\n    Timezone.prototype.createUrl = function () {\n        return '/dictionary/timezone';\n    };\n    return Timezone;\n})(helper.Helper);\nexports.Timezone = Timezone;\nfunction $get(context) {\n    return context.createSingleton('Timezone', function () {\n        return new Timezone(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {// Version: 3.7.10\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     JSON     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\n(window['JSON'] && window['JSON']['stringify']) || (function () {\n    window['JSON'] || (window['JSON'] = {});\n\n    function toJSON(key) {\n        try      { return this.valueOf() }\n        catch(e) { return null }\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ?\n            '\"' + string.replace(escapable, function (a) {\n                var c = meta[a];\n                return typeof c === 'string' ? c :\n                    '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + '\"' :\n            '\"' + string + '\"';\n    }\n\n    function str(key, holder) {\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            partial,\n            mind  = gap,\n            value = holder[key];\n\n        if (value && typeof value === 'object') {\n            value = toJSON.call( value, key );\n        }\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n            return String(value);\n\n        case 'object':\n\n            if (!value) {\n                return 'null';\n            }\n\n            gap += indent;\n            partial = [];\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n                v = partial.length === 0 ? '[]' :\n                    gap ? '[\\n' + gap +\n                            partial.join(',\\n' + gap) + '\\n' +\n                                mind + ']' :\n                          '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? '{}' :\n                gap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' +\n                        mind + '}' : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON['stringify'] !== 'function') {\n        JSON['stringify'] = function (value, replacer, space) {\n            var i;\n            gap = '';\n            indent = '';\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                     typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n            return str('', {'': value});\n        };\n    }\n\n    if (typeof JSON['parse'] !== 'function') {\n        // JSON is parsed on the server for security.\n        JSON['parse'] = function (text) {return eval('('+text+')')};\n    }\n}());\nvar NOW             = 1\n,   READY           = false\n,   READY_BUFFER    = []\n,   PRESENCE_SUFFIX = '-pnpres'\n,   DEF_WINDOWING   = 10     // MILLISECONDS.\n,   DEF_TIMEOUT     = 10000  // MILLISECONDS.\n,   DEF_SUB_TIMEOUT = 310    // SECONDS.\n,   DEF_KEEPALIVE   = 60     // SECONDS (FOR TIMESYNC).\n,   SECOND          = 1000   // A THOUSAND MILLISECONDS.\n,   URLBIT          = '/'\n,   PARAMSBIT       = '&'\n,   PRESENCE_HB_THRESHOLD = 5\n,   PRESENCE_HB_DEFAULT  = 30\n,   SDK_VER         = '3.7.10'\n,   REPL            = /{([\\w\\-]+)}/g;\n\n/**\n * UTILITIES\n */\nfunction unique() { return'x'+ ++NOW+''+(+new Date) }\nfunction rnow()   { return+new Date }\n\n/**\n * NEXTORIGIN\n * ==========\n * var next_origin = nextorigin();\n */\nvar nextorigin = (function() {\n    var max = 20\n    ,   ori = Math.floor(Math.random() * max);\n    return function( origin, failover ) {\n        return origin.indexOf('pubsub.') > 0\n            && origin.replace(\n             'pubsub', 'ps' + (\n                failover ? generate_uuid().split('-')[0] :\n                (++ori < max? ori : ori=1)\n            ) ) || origin;\n    }\n})();\n\n\n/**\n * Build Url\n * =======\n *\n */\nfunction build_url( url_components, url_params ) {\n    var url    = url_components.join(URLBIT)\n    ,   params = [];\n\n    if (!url_params) return url;\n\n    each( url_params, function( key, value ) {\n        var value_str = (typeof value == 'object')?JSON['stringify'](value):value;\n        (typeof value != 'undefined' &&\n            value != null && encode(value_str).length > 0\n        ) && params.push(key + \"=\" + encode(value_str));\n    } );\n\n    url += \"?\" + params.join(PARAMSBIT);\n    return url;\n}\n\n/**\n * UPDATER\n * =======\n * var timestamp = unique();\n */\nfunction updater( fun, rate ) {\n    var timeout\n    ,   last   = 0\n    ,   runnit = function() {\n        if (last + rate > rnow()) {\n            clearTimeout(timeout);\n            timeout = setTimeout( runnit, rate );\n        }\n        else {\n            last = rnow();\n            fun();\n        }\n    };\n\n    return runnit;\n}\n\n/**\n * GREP\n * ====\n * var list = grep( [1,2,3], function(item) { return item % 2 } )\n */\nfunction grep( list, fun ) {\n    var fin = [];\n    each( list || [], function(l) { fun(l) && fin.push(l) } );\n    return fin\n}\n\n/**\n * SUPPLANT\n * ========\n * var text = supplant( 'Hello {name}!', { name : 'John' } )\n */\nfunction supplant( str, values ) {\n    return str.replace( REPL, function( _, match ) {\n        return values[match] || _\n    } );\n}\n\n/**\n * timeout\n * =======\n * timeout( function(){}, 100 );\n */\nfunction timeout( fun, wait ) {\n    return setTimeout( fun, wait );\n}\n\n/**\n * uuid\n * ====\n * var my_uuid = generate_uuid();\n */\nfunction generate_uuid(callback) {\n    var u = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,\n    function(c) {\n        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n    if (callback) callback(u);\n    return u;\n}\n\nfunction isArray(arg) {\n  return !!arg && typeof arg !== 'string' && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n  //return !!arg && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n}\n\n/**\n * EACH\n * ====\n * each( [1,2,3], function(item) { } )\n */\nfunction each( o, f) {\n    if ( !o || !f ) return;\n\n    if ( isArray(o) )\n        for ( var i = 0, l = o.length; i < l; )\n            f.call( o[i], o[i], i++ );\n    else\n        for ( var i in o )\n            o.hasOwnProperty    &&\n            o.hasOwnProperty(i) &&\n            f.call( o[i], i, o[i] );\n}\n\n/**\n * MAP\n * ===\n * var list = map( [1,2,3], function(item) { return item + 1 } )\n */\nfunction map( list, fun ) {\n    var fin = [];\n    each( list || [], function( k, v ) { fin.push(fun( k, v )) } );\n    return fin;\n}\n\n/**\n * ENCODE\n * ======\n * var encoded_data = encode('path');\n */\nfunction encode(path) { return encodeURIComponent(path) }\n\n/**\n * Generate Subscription Channel List\n * ==================================\n * generate_channel_list(channels_object);\n */\nfunction generate_channel_list(channels, nopresence) {\n    var list = [];\n    each( channels, function( channel, status ) {\n        if (nopresence) {\n            if(channel.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel);\n            }\n        } else {\n            if (status.subscribed) list.push(channel);\n        }\n    });\n    return list.sort();\n}\n\n/**\n * Generate Subscription Channel Groups List\n * ==================================\n * generate_channel_group_list(channels_groups object);\n */\nfunction generate_channel_group_list(channel_groups, nopresence) {\n    var list = [];\n    each(channel_groups, function( channel_group, status ) {\n        if (nopresence) {\n            if(channel_group.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel_group);\n            }\n        } else {\n            if (status.subscribed) list.push(channel_group);\n        }\n    });\n    return list.sort();\n}\n\n// PUBNUB READY TO CONNECT\nfunction ready() { timeout( function() {\n    if (READY) return;\n    READY = 1;\n    each( READY_BUFFER, function(connect) { connect() } );\n}, SECOND ); }\n\nfunction PNmessage(args) {\n    msg = args || {'apns' : {}},\n    msg['getPubnubMessage'] = function() {\n        var m = {};\n\n        if (Object.keys(msg['apns']).length) {\n            m['pn_apns'] = {\n                    'aps' : {\n                        'alert' : msg['apns']['alert'] ,\n                        'badge' : msg['apns']['badge']\n                    }\n            }\n            for (var k in msg['apns']) {\n                m['pn_apns'][k] = msg['apns'][k];\n            }\n            var exclude1 = ['badge','alert'];\n            for (var k in exclude1) {\n                delete m['pn_apns'][exclude1[k]];\n            }\n        }\n\n\n\n        if (msg['gcm']) {\n            m['pn_gcm'] = {\n                'data' : msg['gcm']\n            }\n        }\n\n        for (var k in msg) {\n            m[k] = msg[k];\n        }\n        var exclude = ['apns','gcm','publish', 'channel','callback','error'];\n        for (var k in exclude) {\n            delete m[exclude[k]];\n        }\n\n        return m;\n    };\n    msg['publish'] = function() {\n\n        var m = msg.getPubnubMessage();\n\n        if (msg['pubnub'] && msg['channel']) {\n            msg['pubnub'].publish({\n                'message' : m,\n                'channel' : msg['channel'],\n                'callback' : msg['callback'],\n                'error' : msg['error']\n            })\n        }\n    };\n    return msg;\n}\n\nfunction PN_API(setup) {\n    var SUB_WINDOWING =  +setup['windowing']   || DEF_WINDOWING\n    ,   SUB_TIMEOUT   = (+setup['timeout']     || DEF_SUB_TIMEOUT) * SECOND\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   TIME_CHECK    = setup['timecheck']     || 0\n    ,   NOLEAVE       = setup['noleave']       || 0\n    ,   PUBLISH_KEY   = setup['publish_key']   || 'demo'\n    ,   SUBSCRIBE_KEY = setup['subscribe_key'] || 'demo'\n    ,   AUTH_KEY      = setup['auth_key']      || ''\n    ,   SECRET_KEY    = setup['secret_key']    || ''\n    ,   hmac_SHA256   = setup['hmac_SHA256']\n    ,   SSL           = setup['ssl']            ? 's' : ''\n    ,   ORIGIN        = 'http'+SSL+'://'+(setup['origin']||'pubsub.pubnub.com')\n    ,   STD_ORIGIN    = nextorigin(ORIGIN)\n    ,   SUB_ORIGIN    = nextorigin(ORIGIN)\n    ,   CONNECT       = function(){}\n    ,   PUB_QUEUE     = []\n    ,   CLOAK         = true\n    ,   TIME_DRIFT    = 0\n    ,   SUB_CALLBACK  = 0\n    ,   SUB_CHANNEL   = 0\n    ,   SUB_RECEIVER  = 0\n    ,   SUB_RESTORE   = setup['restore'] || 0\n    ,   SUB_BUFF_WAIT = 0\n    ,   TIMETOKEN     = 0\n    ,   RESUMED       = false\n    ,   CHANNELS      = {}\n    ,   CHANNEL_GROUPS       = {}\n    ,   SUB_ERROR     = function(){}\n    ,   STATE         = {}\n    ,   PRESENCE_HB_TIMEOUT  = null\n    ,   PRESENCE_HB          = validate_presence_heartbeat(\n        setup['heartbeat'] || setup['pnexpires'] || 0, setup['error']\n    )\n    ,   PRESENCE_HB_INTERVAL = setup['heartbeat_interval'] || (PRESENCE_HB / 2) -1\n    ,   PRESENCE_HB_RUNNING  = false\n    ,   NO_WAIT_FOR_PENDING  = setup['no_wait_for_pending']\n    ,   COMPATIBLE_35 = setup['compatible_3.5']  || false\n    ,   xdr           = setup['xdr']\n    ,   params        = setup['params'] || {}\n    ,   error         = setup['error']      || function() {}\n    ,   _is_online    = setup['_is_online'] || function() { return 1 }\n    ,   jsonp_cb      = setup['jsonp_cb']   || function() { return 0 }\n    ,   db            = setup['db']         || {'get': function(){}, 'set': function(){}}\n    ,   CIPHER_KEY    = setup['cipher_key']\n    ,   UUID          = setup['uuid'] || ( !setup['unique_uuid'] && db && db['get'](SUBSCRIBE_KEY+'uuid') || '')\n    ,   USE_INSTANCEID = setup['instance_id'] || false\n    ,   INSTANCEID     = ''\n    ,   _poll_timer\n    ,   _poll_timer2;\n\n    if (PRESENCE_HB === 2) PRESENCE_HB_INTERVAL = 1;\n\n    var crypto_obj    = setup['crypto_obj'] ||\n        {\n            'encrypt' : function(a,key){ return a},\n            'decrypt' : function(b,key){return b}\n        };\n\n    function _get_url_params(data) {\n        if (!data) data = {};\n        each( params , function( key, value ) {\n            if (!(key in data)) data[key] = value;\n        });\n        return data;\n    }\n\n    function _object_to_key_list(o) {\n        var l = []\n        each( o , function( key, value ) {\n            l.push(key);\n        });\n        return l;\n    }\n    function _object_to_key_list_sorted(o) {\n        return _object_to_key_list(o).sort();\n    }\n\n    function _get_pam_sign_input_from_params(params) {\n        var si = \"\";\n        var l = _object_to_key_list_sorted(params);\n\n        for (var i in l) {\n            var k = l[i]\n            si += k + \"=\" + encode(params[k]) ;\n            if (i != l.length - 1) si += \"&\"\n        }\n        return si;\n    }\n\n    function validate_presence_heartbeat(heartbeat, cur_heartbeat, error) {\n        var err = false;\n\n        if (typeof heartbeat === 'undefined') {\n            return cur_heartbeat;\n        }\n\n        if (typeof heartbeat === 'number') {\n            if (heartbeat > PRESENCE_HB_THRESHOLD || heartbeat == 0)\n                err = false;\n            else\n                err = true;\n        } else if(typeof heartbeat === 'boolean'){\n            if (!heartbeat) {\n                return 0;\n            } else {\n                return PRESENCE_HB_DEFAULT;\n            }\n        } else {\n            err = true;\n        }\n\n        if (err) {\n            error && error(\"Presence Heartbeat value invalid. Valid range ( x > \" + PRESENCE_HB_THRESHOLD + \" or x = 0). Current Value : \" + (cur_heartbeat || PRESENCE_HB_THRESHOLD));\n            return cur_heartbeat || PRESENCE_HB_THRESHOLD;\n        } else return heartbeat;\n    }\n\n    function encrypt(input, key) {\n        return crypto_obj['encrypt'](input, key || CIPHER_KEY) || input;\n    }\n    function decrypt(input, key) {\n        return crypto_obj['decrypt'](input, key || CIPHER_KEY) ||\n               crypto_obj['decrypt'](input, CIPHER_KEY) ||\n               input;\n    }\n\n    function error_common(message, callback) {\n        callback && callback({ 'error' : message || \"error occurred\"});\n        error && error(message);\n    }\n    function _presence_heartbeat() {\n\n        clearTimeout(PRESENCE_HB_TIMEOUT);\n\n        if (!PRESENCE_HB_INTERVAL || PRESENCE_HB_INTERVAL >= 500 ||\n            PRESENCE_HB_INTERVAL < 1 ||\n            (!generate_channel_list(CHANNELS,true).length  && !generate_channel_group_list(CHANNEL_GROUPS, true).length ) )\n        {\n            PRESENCE_HB_RUNNING = false;\n            return;\n        }\n\n        PRESENCE_HB_RUNNING = true;\n        SELF['presence_heartbeat']({\n            'callback' : function(r) {\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            },\n            'error' : function(e) {\n                error && error(\"Presence Heartbeat unable to reach Pubnub servers.\" + JSON.stringify(e));\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            }\n        });\n    }\n\n    function start_presence_heartbeat() {\n        !PRESENCE_HB_RUNNING && _presence_heartbeat();\n    }\n\n    function publish(next) {\n\n        if (NO_WAIT_FOR_PENDING) {\n            if (!PUB_QUEUE.length) return;\n        } else {\n            if (next) PUB_QUEUE.sending = 0;\n            if ( PUB_QUEUE.sending || !PUB_QUEUE.length ) return;\n            PUB_QUEUE.sending = 1;\n        }\n\n        xdr(PUB_QUEUE.shift());\n    }\n    function each_channel_group(callback) {\n        var count = 0;\n\n        each( generate_channel_group_list(CHANNEL_GROUPS), function(channel_group) {\n            var chang = CHANNEL_GROUPS[channel_group];\n\n            if (!chang) return;\n\n            count++;\n            (callback||function(){})(chang);\n        } );\n\n        return count;\n    }\n\n    function each_channel(callback) {\n        var count = 0;\n\n        each( generate_channel_list(CHANNELS), function(channel) {\n            var chan = CHANNELS[channel];\n\n            if (!chan) return;\n\n            count++;\n            (callback||function(){})(chan);\n        } );\n\n        return count;\n    }\n    function _invoke_callback(response, callback, err) {\n        if (typeof response == 'object') {\n            if (response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n\n                err && err(callback_data);\n                return;\n\n            }\n            if (response['payload']) {\n                if (response['next_page'])\n                    callback && callback(response['payload'], response['next_page']);\n                else\n                    callback && callback(response['payload']);\n                return;\n            }\n        }\n        callback && callback(response);\n    }\n\n    function _invoke_error(response,err) {\n\n        if (typeof response == 'object' && response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n                \n                err && err(callback_data);\n                return;\n        } else {\n            err && err(response);\n        }\n    }\n    function CR(args, callback, url1, data) {\n            var callback        = args['callback']      || callback\n            ,   err             = args['error']         || error\n            ,   jsonp           = jsonp_cb();\n\n            data = data || {};\n            \n            if (!data['auth']) {\n                data['auth'] = args['auth_key'] || AUTH_KEY;\n            }\n            \n            var url = [\n                    STD_ORIGIN, 'v1', 'channel-registration',\n                    'sub-key', SUBSCRIBE_KEY\n                ];\n\n            url.push.apply(url,url1);\n            \n            if (jsonp) data['callback']              = jsonp;\n            \n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n    }\n\n    // Announce Leave Event\n    var SELF = {\n        'LEAVE' : function( channel, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel\n            if (channel.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 2000,\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel), 'leave'\n                ]\n            });\n            return true;\n        },\n        'LEAVE_GROUP' : function( channel_group, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel Group\n            if (channel_group.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (channel_group && channel_group.length > 0) data['channel-group'] = channel_group;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 5000,\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(','), 'leave'\n                ]\n            });\n            return true;\n        },\n        'set_resumed' : function(resumed) {\n                RESUMED = resumed;\n        },\n        'get_cipher_key' : function() {\n            return CIPHER_KEY;\n        },\n        'set_cipher_key' : function(key) {\n            CIPHER_KEY = key;\n        },\n        'raw_encrypt' : function(input, key) {\n            return encrypt(input, key);\n        },\n        'raw_decrypt' : function(input, key) {\n            return decrypt(input, key);\n        },\n        'get_heartbeat' : function() {\n            return PRESENCE_HB;\n        },\n        \n        'set_heartbeat' : function(heartbeat, heartbeat_interval) {\n            PRESENCE_HB = validate_presence_heartbeat(heartbeat, PRESENCE_HB, error);\n            PRESENCE_HB_INTERVAL = heartbeat_interval || (PRESENCE_HB / 2) - 1;\n            if (PRESENCE_HB == 2) {\n                PRESENCE_HB_INTERVAL = 1;\n            }\n            CONNECT();\n            _presence_heartbeat();\n        },\n        \n        'get_heartbeat_interval' : function() {\n            return PRESENCE_HB_INTERVAL;\n        },\n        \n        'set_heartbeat_interval' : function(heartbeat_interval) {\n            PRESENCE_HB_INTERVAL = heartbeat_interval;\n            _presence_heartbeat();\n        },\n        \n        'get_version' : function() {\n            return SDK_VER;\n        },\n        'getGcmMessageObject' : function(obj) {\n            return {\n                'data' : obj\n            }\n        },\n        'getApnsMessageObject' : function(obj) {\n            var x =  {\n                'aps' : { 'badge' : 1, 'alert' : ''}\n            }\n            for (k in obj) {\n                k[x] = obj[k];\n            }\n            return x;\n        },\n        'newPnMessage' : function() {\n            var x = {};\n            if (gcm) x['pn_gcm'] = gcm;\n            if (apns) x['pn_apns'] = apns;\n            for ( k in n ) {\n                x[k] = n[k];\n            }\n            return x;\n        },\n\n        '_add_param' : function(key,val) {\n            params[key] = val;\n        },\n\n        'channel_group' : function(args, callback) {\n            var ns_ch       = args['channel_group']\n            ,   callback    = callback         || args['callback']\n            ,   channels    = args['channels'] || args['channel']\n            ,   cloak       = args['cloak']\n            ,   namespace\n            ,   channel_group\n            ,   url = []\n            ,   data = {}\n            ,   mode = args['mode'] || 'add';\n\n\n            if (ns_ch) {\n                var ns_ch_a = ns_ch.split(':');\n\n                if (ns_ch_a.length > 1) {\n                    namespace = (ns_ch_a[0] === '*')?null:ns_ch_a[0];\n\n                    channel_group = ns_ch_a[1];\n                } else {\n                    channel_group = ns_ch_a[0];\n                }\n            }\n\n            namespace && url.push('namespace') && url.push(encode(namespace));\n\n            url.push('channel-group');\n\n            if (channel_group && channel_group !== '*') {\n                url.push(channel_group);\n            }\n\n            if (channels ) {\n                if (isArray(channels)) {\n                    channels = channels.join(',');\n                }\n                data[mode] = channels;\n                data['cloak'] = (CLOAK)?'true':'false';\n            } else {\n                if (mode === 'remove') url.push('remove');\n            }\n\n            if (typeof cloak != 'undefined') data['cloak'] = (cloak)?'true':'false';\n\n            CR(args, callback, url, data);\n        },\n\n        'channel_group_list_groups' : function(args, callback) {\n            var namespace;\n\n            namespace = args['namespace'] || args['ns'] || args['channel_group'] || null;\n            if (namespace) {\n                args[\"channel_group\"] = namespace + \":*\";\n            }\n\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_list_channels' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_remove_channel' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_remove_group' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (args['channel']) return error('Use channel_group_remove_channel if you want to remove a channel from a group.');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_add_channel' : function(args, callback) {\n           if (!args['channel_group']) return error('Missing Channel Group');\n           if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_cloak' : function(args, callback) {\n            if (typeof args['cloak'] == 'undefined') {\n                callback(CLOAK);\n                return;\n            }\n            CLOAK = args['cloak'];\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_list_namespaces' : function(args, callback) {\n            var url = ['namespace'];\n            CR(args, callback, url);\n        },\n        'channel_group_remove_namespace' : function(args, callback) {\n            var url = ['namespace',args['namespace'],'remove'];\n            CR(args, callback, url);\n        },\n\n        /*\n            PUBNUB.history({\n                channel  : 'my_chat_channel',\n                limit    : 100,\n                callback : function(history) { }\n            });\n        */\n        'history' : function( args, callback ) {\n            var callback         = args['callback'] || callback\n            ,   count            = args['count']    || args['limit'] || 100\n            ,   reverse          = args['reverse']  || \"false\"\n            ,   err              = args['error']    || function(){}\n            ,   auth_key         = args['auth_key'] || AUTH_KEY\n            ,   cipher_key       = args['cipher_key']\n            ,   channel          = args['channel']\n            ,   channel_group    = args['channel_group']\n            ,   start            = args['start']\n            ,   end              = args['end']\n            ,   include_token    = args['include_token']\n            ,   params           = {}\n            ,   jsonp            = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) return error('Missing Channel');\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            params['stringtoken'] = 'true';\n            params['count']       = count;\n            params['reverse']     = reverse;\n            params['auth']        = auth_key;\n\n            if (channel_group) {\n                params['channel-group'] = channel_group;\n                if (!channel) {\n                    channel = ','; \n                }\n            }\n            if (jsonp) params['callback']              = jsonp;\n            if (start) params['start']                 = start;\n            if (end)   params['end']                   = end;\n            if (include_token) params['include_token'] = 'true';\n\n            // Send Message\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(params),\n                success  : function(response) {\n                    if (typeof response == 'object' && response['error']) {\n                        err({'message' : response['message'], 'payload' : response['payload']});\n                        return;\n                    }\n                    var messages = response[0];\n                    var decrypted_messages = [];\n                    for (var a = 0; a < messages.length; a++) {\n                        var new_message = decrypt(messages[a],cipher_key);\n                        try {\n                            decrypted_messages['push'](JSON['parse'](new_message));\n                        } catch (e) {\n                            decrypted_messages['push']((new_message));\n                        }\n                    }\n                    callback([decrypted_messages, response[1], response[2]]);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'history', 'sub-key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel)\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.replay({\n                source      : 'my_channel',\n                destination : 'new_channel'\n            });\n        */\n        'replay' : function(args, callback) {\n            var callback    = callback || args['callback'] || function(){}\n            ,   auth_key    = args['auth_key'] || AUTH_KEY\n            ,   source      = args['source']\n            ,   destination = args['destination']\n            ,   stop        = args['stop']\n            ,   start       = args['start']\n            ,   end         = args['end']\n            ,   reverse     = args['reverse']\n            ,   limit       = args['limit']\n            ,   jsonp       = jsonp_cb()\n            ,   data        = {}\n            ,   url;\n\n            // Check User Input\n            if (!source)        return error('Missing Source Channel');\n            if (!destination)   return error('Missing Destination Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Setup URL Params\n            if (jsonp != '0') data['callback'] = jsonp;\n            if (stop)         data['stop']     = 'all';\n            if (reverse)      data['reverse']  = 'true';\n            if (start)        data['start']    = start;\n            if (end)          data['end']      = end;\n            if (limit)        data['count']    = limit;\n\n            data['auth'] = auth_key;\n\n            // Compose URL Parts\n            url = [\n                STD_ORIGIN, 'v1', 'replay',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                source, destination\n            ];\n\n            // Start (or Stop) Replay!\n            xdr({\n                callback : jsonp,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function() { callback([ 0, 'Disconnected' ]) },\n                url      : url,\n                data     : _get_url_params(data)\n            });\n        },\n\n        /*\n            PUBNUB.auth('AJFLKAJSDKLA');\n        */\n        'auth' : function(auth) {\n            AUTH_KEY = auth;\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.time(function(time){ });\n        */\n        'time' : function(callback) {\n            var jsonp = jsonp_cb();\n\n            var data = { 'uuid' : UUID, 'auth' : AUTH_KEY }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [STD_ORIGIN, 'time', jsonp],\n                success  : function(response) { callback(response[0]) },\n                fail     : function() { callback(0) }\n            });\n        },\n\n        /*\n            PUBNUB.publish({\n                channel : 'my_chat_channel',\n                message : 'hello!'\n            });\n        */\n        'publish' : function( args, callback ) {\n            var msg      = args['message'];\n            if (!msg) return error('Missing Message');\n\n            var callback = callback || args['callback'] || msg['callback'] || function(){}\n            ,   channel  = args['channel'] || msg['channel']\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   cipher_key = args['cipher_key']\n            ,   err      = args['error'] || msg['error'] || function() {}\n            ,   post     = args['post'] || false\n            ,   store    = ('store_in_history' in args) ? args['store_in_history']: true\n            ,   jsonp    = jsonp_cb()\n            ,   add_msg  = 'push'\n            ,   url;\n\n            if (args['prepend']) add_msg = 'unshift'\n\n            if (!channel)       return error('Missing Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (msg['getPubnubMessage']) {\n                msg = msg['getPubnubMessage']();\n            }\n\n            // If trying to send Object\n            msg = JSON['stringify'](encrypt(msg, cipher_key));\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'publish',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                0, encode(channel),\n                jsonp, encode(msg)\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key }\n\n            if (!store) params['store'] =\"0\"\n\n            if (USE_INSTANCEID) params['instanceid'] = INSTANCEID;\n\n            // Queue Message Send\n            PUB_QUEUE[add_msg]({\n                callback : jsonp,\n                timeout  : SECOND * 5,\n                url      : url,\n                data     : _get_url_params(params),\n                fail     : function(response){\n                    _invoke_error(response, err);\n                    publish(1);\n                },\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                    publish(1);\n                },\n                mode     : (post)?'POST':'GET'\n            });\n\n            // Send Message\n            publish();\n        },\n\n        /*\n            PUBNUB.unsubscribe({ channel : 'my_chat' });\n        */\n        'unsubscribe' : function(args, callback) {\n            var channel       = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   auth_key      = args['auth_key']    || AUTH_KEY\n            ,   callback      = callback            || args['callback'] || function(){}\n            ,   err           = args['error']       || function(){};\n\n            TIMETOKEN   = 0;\n            //SUB_RESTORE = 1;    REVISIT !!!!\n\n            if (channel) {\n                // Prepare Channel(s)\n                channel = map( (\n                    channel.join ? channel.join(',') : ''+channel\n                ).split(','), function(channel) {\n                    if (!CHANNELS[channel]) return;\n                    return channel + ',' + channel + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over Channels\n                each( channel.split(','), function(ch) {\n                    var CB_CALLED = true;\n                    if (!ch) return;\n                    CHANNELS[ch] = 0;\n                    if (ch in STATE) delete STATE[ch];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE']( ch, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                    \n                } );\n            }\n\n            if (channel_group) {\n                // Prepare channel group(s)\n                channel_group = map( (\n                    channel_group.join ? channel_group.join(',') : ''+channel_group\n                ).split(','), function(channel_group) {\n                    if (!CHANNEL_GROUPS[channel_group]) return;\n                    return channel_group + ',' + channel_group + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over channel groups\n                each( channel_group.split(','), function(chg) {\n                    var CB_CALLED = true;\n                    if (!chg) return;\n                    CHANNEL_GROUPS[chg] = 0;\n                    if (chg in STATE) delete STATE[chg];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE_GROUP']( chg, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                } );\n            }\n\n            // Reset Connection if Count Less\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.subscribe({\n                channel  : 'my_chat'\n                callback : function(message) { }\n            });\n        */\n        'subscribe' : function( args, callback ) {\n            var channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   callback        = callback            || args['callback']\n            ,   callback        = callback            || args['message']\n            ,   auth_key        = args['auth_key']    || AUTH_KEY\n            ,   connect         = args['connect']     || function(){}\n            ,   reconnect       = args['reconnect']   || function(){}\n            ,   disconnect      = args['disconnect']  || function(){}\n            ,   SUB_ERROR       = args['error']       || SUB_ERROR || function(){}\n            ,   idlecb          = args['idle']        || function(){}\n            ,   presence        = args['presence']    || 0\n            ,   noheresync      = args['noheresync']  || 0\n            ,   backfill        = args['backfill']    || 0\n            ,   timetoken       = args['timetoken']   || 0\n            ,   sub_timeout     = args['timeout']     || SUB_TIMEOUT\n            ,   windowing       = args['windowing']   || SUB_WINDOWING\n            ,   state           = args['state']\n            ,   heartbeat       = args['heartbeat'] || args['pnexpires']\n            ,   heartbeat_interval = args['heartbeat_interval']\n            ,   restore         = args['restore'] || SUB_RESTORE;\n\n            // Restore Enabled?\n            SUB_RESTORE = restore;\n\n            // Always Reset the TT\n            TIMETOKEN = timetoken;\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) {\n                return error('Missing Channel');\n            }\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (heartbeat || heartbeat === 0 || heartbeat_interval || heartbeat_interval === 0) {\n                SELF['set_heartbeat'](heartbeat, heartbeat_interval);\n            }\n\n            // Setup Channel(s)\n            if (channel) {\n                each( (channel.join ? channel.join(',') : ''+channel).split(','),\n                function(channel) {\n                    var settings = CHANNELS[channel] || {};\n\n                    // Store Channel State\n                    CHANNELS[SUB_CHANNEL = channel] = {\n                        name         : channel,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    if (state) {\n                        if (channel in state) {\n                            STATE[channel] = state[channel];\n                        } else {\n                            STATE[channel] = state;\n                        }\n                    }\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel'  : channel + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel'  : channel,\n                        'data'     : _get_url_params({ 'uuid' : UUID, 'auth' : auth_key }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel ); } );\n                        }\n                    });\n                } );\n            }\n\n            // Setup Channel Groups\n            if (channel_group) {\n                each( (channel_group.join ? channel_group.join(',') : ''+channel_group).split(','),\n                function(channel_group) {\n                    var settings = CHANNEL_GROUPS[channel_group] || {};\n\n                    CHANNEL_GROUPS[channel_group] = {\n                        name         : channel_group,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel_group'  : channel_group + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore,\n                        'auth_key' : auth_key\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel_group'  : channel_group,\n                        'data'           : _get_url_params({ 'uuid' : UUID, 'auth' : auth_key }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel_group ); } );\n                        }\n                    });\n                } );\n            }\n\n\n            // Test Network Connection\n            function _test_connection(success) {\n                if (success) {\n                    // Begin Next Socket Connection\n                    timeout( CONNECT, SECOND );\n                }\n                else {\n                    // New Origin on Failed Connection\n                    STD_ORIGIN = nextorigin( ORIGIN, 1 );\n                    SUB_ORIGIN = nextorigin( ORIGIN, 1 );\n\n                    // Re-test Connection\n                    timeout( function() {\n                        SELF['time'](_test_connection);\n                    }, SECOND );\n                }\n\n                // Disconnect & Reconnect\n                each_channel(function(channel){\n                    // Reconnect\n                    if (success && channel.disconnected) {\n                        channel.disconnected = 0;\n                        return channel.reconnect(channel.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel.disconnected) {\n                        channel.disconnected = 1;\n                        channel.disconnect(channel.name);\n                    }\n                });\n                \n                // Disconnect & Reconnect for channel groups\n                each_channel_group(function(channel_group){\n                    // Reconnect\n                    if (success && channel_group.disconnected) {\n                        channel_group.disconnected = 0;\n                        return channel_group.reconnect(channel_group.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel_group.disconnected) {\n                        channel_group.disconnected = 1;\n                        channel_group.disconnect(channel_group.name);\n                    }\n                });\n            }\n\n            // Evented Subscribe\n            function _connect() {\n                var jsonp           = jsonp_cb()\n                ,   channels        = generate_channel_list(CHANNELS).join(',')\n                ,   channel_groups  = generate_channel_group_list(CHANNEL_GROUPS).join(',');\n\n                // Stop Connection\n                if (!channels && !channel_groups) return;\n\n                if (!channels) channels = ',';\n\n                // Connect to PubNub Subscribe Servers\n                _reset_offline();\n\n                var data = _get_url_params({ 'uuid' : UUID, 'auth' : auth_key });\n\n                if (channel_groups) {\n                    data['channel-group'] = channel_groups;\n                }\n\n\n                var st = JSON.stringify(STATE);\n                if (st.length > 2) data['state'] = JSON.stringify(STATE);\n\n                if (PRESENCE_HB) data['heartbeat'] = PRESENCE_HB;\n\n                if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n                start_presence_heartbeat();\n                SUB_RECEIVER = xdr({\n                    timeout  : sub_timeout,\n                    callback : jsonp,\n                    fail     : function(response) {\n                        if (response && response['error'] && response['service']) {\n                            _invoke_error(response, SUB_ERROR);\n                            _test_connection(1);\n                        } else {\n                            SELF['time'](function(success){\n                                !success && ( _invoke_error(response, SUB_ERROR));\n                                _test_connection(success);\n                            });\n                        }\n                    },\n                    data     : _get_url_params(data),\n                    url      : [\n                        SUB_ORIGIN, 'subscribe',\n                        SUBSCRIBE_KEY, encode(channels),\n                        jsonp, TIMETOKEN\n                    ],\n                    success : function(messages) {\n\n                        // Check for Errors\n                        if (!messages || (\n                            typeof messages == 'object' &&\n                            'error' in messages         &&\n                            messages['error']\n                        )) {\n                            SUB_ERROR(messages['error']);\n                            return timeout( CONNECT, SECOND );\n                        }\n\n                        // User Idle Callback\n                        idlecb(messages[1]);\n\n                        // Restore Previous Connection Point if Needed\n                        TIMETOKEN = !TIMETOKEN               &&\n                                    SUB_RESTORE              &&\n                                    db['get'](SUBSCRIBE_KEY) || messages[1];\n\n                        /*\n                        // Connect\n                        each_channel_registry(function(registry){\n                            if (registry.connected) return;\n                            registry.connected = 1;\n                            registry.connect(channel.name);\n                        });\n                        */\n\n                        // Connect\n                        each_channel(function(channel){\n                            if (channel.connected) return;\n                            channel.connected = 1;\n                            channel.connect(channel.name);\n                        });\n\n                        // Connect for channel groups\n                        each_channel_group(function(channel_group){\n                            if (channel_group.connected) return;\n                            channel_group.connected = 1;\n                            channel_group.connect(channel_group.name);\n                        });\n\n                        if (RESUMED && !SUB_RESTORE) {\n                                TIMETOKEN = 0;\n                                RESUMED = false;\n                                // Update Saved Timetoken\n                                db['set']( SUBSCRIBE_KEY, 0 );\n                                timeout( _connect, windowing );\n                                return;\n                        }\n\n                        // Invoke Memory Catchup and Receive Up to 100\n                        // Previous Messages from the Queue.\n                        if (backfill) {\n                            TIMETOKEN = 10000;\n                            backfill  = 0;\n                        }\n\n                        // Update Saved Timetoken\n                        db['set']( SUBSCRIBE_KEY, messages[1] );\n\n                        // Route Channel <---> Callback for Message\n                        var next_callback = (function() {\n                            var channels = '';\n                            var channels2 = '';\n\n                            if (messages.length > 3) {\n                                channels  = messages[3];\n                                channels2 = messages[2];\n                            } else if (messages.length > 2) {\n                                channels = messages[2];\n                            } else {\n                                channels =  map(\n                                    generate_channel_list(CHANNELS), function(chan) { return map(\n                                        Array(messages[0].length)\n                                        .join(',').split(','),\n                                        function() { return chan; }\n                                    ) }).join(',')\n                            }\n\n                            var list  = channels.split(',');\n                            var list2 = (channels2)?channels2.split(','):[];\n\n                            return function() {\n                                var channel  = list.shift()||SUB_CHANNEL;\n                                var channel2 = list2.shift();\n\n                                var chobj = {};\n\n                                if (channel2) {\n                                    if (channel && channel.indexOf('-pnpres') >= 0 \n                                        && channel2.indexOf('-pnpres') < 0) {\n                                        channel2 += '-pnpres';\n                                    }\n                                    chobj = CHANNEL_GROUPS[channel2] || CHANNELS[channel2] || {'callback' : function(){}};\n                                } else {\n                                    chobj = CHANNELS[channel];\n                                }\n\n                                var r = [\n                                    chobj\n                                    .callback||SUB_CALLBACK,\n                                    channel.split(PRESENCE_SUFFIX)[0]\n                                ];\n                                channel2 && r.push(channel2.split(PRESENCE_SUFFIX)[0]);\n                                return r;\n                            };\n                        })();\n\n                        var latency = detect_latency(+messages[1]);\n                        each( messages[0], function(msg) {\n                            var next = next_callback();\n                            var decrypted_msg = decrypt(msg,\n                                (CHANNELS[next[1]])?CHANNELS[next[1]]['cipher_key']:null);\n                            next[0] && next[0]( decrypted_msg, messages, next[2] || next[1], latency, next[1]);\n                        });\n\n                        timeout( _connect, windowing );\n                    }\n                });\n            }\n\n            CONNECT = function() {\n                _reset_offline();\n                timeout( _connect, windowing );\n            };\n\n            // Reduce Status Flicker\n            if (!READY) return READY_BUFFER.push(CONNECT);\n\n            // Connect Now\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.here_now({ channel : 'my_chat', callback : fun });\n        */\n        'here_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   jsonp    = jsonp_cb()\n            ,   uuids    = ('uuids' in args) ? args['uuids'] : true\n            ,   state    = args['state']\n            ,   data     = { 'uuid' : UUID, 'auth' : auth_key };\n\n            if (!uuids) data['disable_uuids'] = 1;\n            if (state) data['state'] = 1;\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            var url = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY\n                ];\n\n            channel && url.push('channel') && url.push(encode(channel));\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (channel_group) {\n                data['channel-group'] = channel_group;\n                !channel && url.push('channel') && url.push(','); \n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n        },\n\n        /*\n            PUBNUB.current_channels_by_uuid({ channel : 'my_chat', callback : fun });\n        */\n        'where_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   uuid     = args['uuid']     || UUID\n            ,   data     = { 'auth' : auth_key };\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY,\n                    'uuid', encode(uuid)\n                ]\n            });\n        },\n\n        'state' : function(args, callback) {\n            var callback = args['callback'] || callback || function(r) {}\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   state    = args['state']\n            ,   uuid     = args['uuid'] || UUID\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   url\n            ,   data     = _get_url_params({ 'auth' : auth_key });\n\n            // Make sure we have a Channel\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!uuid) return error('Missing UUID');\n            if (!channel && !channel_group) return error('Missing Channel');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (typeof channel != 'undefined'\n                && CHANNELS[channel] && CHANNELS[channel].subscribed ) {\n                if (state) STATE[channel] = state;\n            }\n\n            if (typeof channel_group != 'undefined'\n                && CHANNEL_GROUPS[channel_group]\n                && CHANNEL_GROUPS[channel_group].subscribed\n                ) {\n                if (state) STATE[channel_group] = state;\n                data['channel-group'] = channel_group;\n\n                if (!channel) {\n                    channel = ',';\n                }\n            }\n\n            data['state'] = JSON.stringify(state);\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            if (state) {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', uuid, 'data'\n                ]\n            } else {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', encode(uuid)\n                ]\n            }\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n\n            });\n\n        },\n\n        /*\n            PUBNUB.grant({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                ttl      : 24 * 60, // Minutes\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'grant' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   jsonp           = jsonp_cb()\n            ,   ttl             = args['ttl']\n            ,   r               = (args['read'] )?\"1\":\"0\"\n            ,   w               = (args['write'])?\"1\":\"0\"\n            ,   m               = (args['manage'])?\"1\":\"0\"\n            ,   auth_key        = args['auth_key'];\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\" + PUBLISH_KEY + \"\\n\"\n                    + \"grant\" + \"\\n\";\n\n            var data = {\n                'w'         : w,\n                'r'         : r,\n                'timestamp' : timestamp\n            };\n            if (args['manage']) {\n                data['m'] = m;\n            }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (ttl || ttl === 0) data['ttl'] = ttl;\n\n            if (auth_key) data['auth'] = auth_key;\n\n            data = _get_url_params(data)\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'grant' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n         PUBNUB.mobile_gw_provision ({\n         device_id: 'A655FBA9931AB',\n         op       : 'add' | 'remove',\n         gw_type  : 'apns' | 'gcm',\n         channel  : 'my_chat',\n         callback : fun,\n         error    : fun,\n         });\n         */\n\n        'mobile_gw_provision' : function( args ) {\n\n            var callback = args['callback'] || function(){}\n                ,   auth_key       = args['auth_key'] || AUTH_KEY\n                ,   err            = args['error'] || function() {}\n                ,   jsonp          = jsonp_cb()\n                ,   channel        = args['channel']\n                ,   op             = args['op']\n                ,   gw_type        = args['gw_type']\n                ,   device_id      = args['device_id']\n                ,   url;\n\n            if (!device_id)     return error('Missing Device ID (device_id)');\n            if (!gw_type)       return error('Missing GW Type (gw_type: gcm or apns)');\n            if (!op)            return error('Missing GW Operation (op: add or remove)');\n            if (!channel)       return error('Missing gw destination Channel (channel)');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'v1/push/sub-key',\n                SUBSCRIBE_KEY, 'devices', device_id\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key, 'type': gw_type};\n\n            if (op == \"add\") {\n                params['add'] = channel;\n            } else if (op == \"remove\") {\n                params['remove'] = channel;\n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n        },\n\n        /*\n            PUBNUB.audit({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'audit' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   auth_key        = args['auth_key']\n            ,   jsonp           = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\"\n                + PUBLISH_KEY + \"\\n\"\n                + \"audit\" + \"\\n\";\n\n            var data = {'timestamp' : timestamp };\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (auth_key) data['auth']    = auth_key;\n\n            data = _get_url_params(data);\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'audit' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.revoke({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'revoke' : function( args, callback ) {\n            args['read']  = false;\n            args['write'] = false;\n            SELF['grant']( args, callback );\n        },\n        'set_uuid' : function(uuid) {\n            UUID = uuid;\n            CONNECT();\n        },\n        'get_uuid' : function() {\n            return UUID;\n        },\n        'isArray'  : function(arg) {\n            return isArray(arg);\n        },\n        'get_subscibed_channels' : function() {\n            return generate_channel_list(CHANNELS, true);\n        },\n        'presence_heartbeat' : function(args) {\n            var callback = args['callback'] || function() {}\n            var err      = args['error']    || function() {}\n            var jsonp    = jsonp_cb();\n            var data     = { 'uuid' : UUID, 'auth' : AUTH_KEY };\n\n            var st = JSON['stringify'](STATE);\n            if (st.length > 2) data['state'] = JSON['stringify'](STATE);\n\n            if (PRESENCE_HB > 0 && PRESENCE_HB < 320) data['heartbeat'] = PRESENCE_HB;\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            var channels        = encode(generate_channel_list(CHANNELS, true)['join'](','));\n            var channel_groups  = generate_channel_group_list(CHANNEL_GROUPS, true)['join'](',');\n\n            if (!channels) channels = ',';\n            if (channel_groups) data['channel-group'] = channel_groups;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel' , channels,\n                    'heartbeat'\n                ],\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) { _invoke_error(response, err); }\n            });\n        },\n        'stop_timers': function () {\n            clearTimeout(_poll_timer);\n            clearTimeout(_poll_timer2);\n        },\n\n        // Expose PUBNUB Functions\n        'xdr'           : xdr,\n        'ready'         : ready,\n        'db'            : db,\n        'uuid'          : generate_uuid,\n        'map'           : map,\n        'each'          : each,\n        'each-channel'  : each_channel,\n        'grep'          : grep,\n        'offline'       : function(){ _reset_offline(\n            1, { \"message\" : \"Offline. Please check your network settings.\" })\n        },\n        'supplant'      : supplant,\n        'now'           : rnow,\n        'unique'        : unique,\n        'updater'       : updater\n    };\n\n    function _poll_online() {\n        _is_online() || _reset_offline( 1, {\n            \"error\" : \"Offline. Please check your network settings. \"\n        });\n        _poll_timer && clearTimeout(_poll_timer);\n        _poll_timer = timeout( _poll_online, SECOND );\n    }\n\n    function _poll_online2() {\n        if (!TIME_CHECK) return;\n        SELF['time'](function(success){\n            detect_time_detla( function(){}, success );\n            success || _reset_offline( 1, {\n                \"error\" : \"Heartbeat failed to connect to Pubnub Servers.\" +\n                    \"Please check your network settings.\"\n                });\n            _poll_timer2 && clearTimeout(_poll_timer2);\n            _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n        });\n    }\n\n    function _reset_offline(err, msg) {\n        SUB_RECEIVER && SUB_RECEIVER(err, msg);\n        SUB_RECEIVER = null;\n\n        clearTimeout(_poll_timer);\n        clearTimeout(_poll_timer2);\n    }\n    \n    if (!UUID) UUID = SELF['uuid']();\n    if (!INSTANCEID) INSTANCEID = SELF['uuid']();\n    db['set']( SUBSCRIBE_KEY + 'uuid', UUID );\n\n    _poll_timer  = timeout( _poll_online,  SECOND    );\n    _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n    PRESENCE_HB_TIMEOUT = timeout(\n        start_presence_heartbeat,\n        ( PRESENCE_HB_INTERVAL - 3 ) * SECOND\n    );\n\n    // Detect Age of Message\n    function detect_latency(tt) {\n        var adjusted_time = rnow() - TIME_DRIFT;\n        return adjusted_time - tt / 10000;\n    }\n\n    detect_time_detla();\n    function detect_time_detla( cb, time ) {\n        var stime = rnow();\n\n        time && calculate(time) || SELF['time'](calculate);\n\n        function calculate(time) {\n            if (!time) return;\n            var ptime   = time / 10000\n            ,   latency = (rnow() - stime) / 2;\n            TIME_DRIFT = rnow() - (ptime + latency);\n            cb && cb(TIME_DRIFT);\n        }\n    }\n\n    return SELF;\n}\n\nfunction crypto_obj (){\n\n    return {\n\n        'encrypt': function(data, key, options) {\n            options = options || {};\n            if (!key) return data;\n            var cipher_key = options.encryptKey ? CryptoJS.SHA256(key) : key;\n            var hex_message = JSON['stringify'](data);\n            var encryptedHexArray = CryptoJS.AES.encrypt(hex_message, cipher_key, {\n                mode: options.mode == 'ECB' ? CryptoJS.mode.ECB : CryptoJS.mode.CBC,\n                padding: CryptoJS.pad.Pkcs7\n            });\n            var base_64_encrypted = CryptoJS.enc.Base64.stringify(encryptedHexArray);\n            return base_64_encrypted;\n        },\n\n        'decrypt': function(data, key, options) {\n            options = options || {};\n            if (!key) return data;\n            var cipher_key = options.encryptKey ? CryptoJS.SHA256(key) : key;\n            try {\n                var binary_enc = CryptoJS.enc.Base64.parse(data);\n                var json_plain = CryptoJS.AES.decrypt({ciphertext: data}, key, {\n                    mode: options.mode == 'ECB' ? CryptoJS.mode.ECB : CryptoJS.mode.CBC,\n                    padding: CryptoJS.pad.Pkcs7\n                }).toString(CryptoJS.enc.Utf8);\n                var plaintext = JSON['parse'](json_plain);\n                return plaintext;\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n    };\n}\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     UTIL     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nwindow['PUBNUB'] || (function() {\n\n/**\n * UTIL LOCALS\n */\n\nvar SWF             = 'https://pubnub.a.ssl.fastly.net/pubnub.swf'\n,   ASYNC           = 'async'\n,   UA              = navigator.userAgent\n,   PNSDK           = 'PubNub-JS-' + 'Web' + '/' + '3.7.10'\n,   XORIGN          = UA.indexOf('MSIE 6') == -1;\n\n/**\n * CONSOLE COMPATIBILITY\n */\nwindow.console || (window.console=window.console||{});\nconsole.log    || (\n    console.log   =\n    console.error =\n    ((window.opera||{}).postError||function(){})\n);\n\n/**\n * LOCAL STORAGE OR COOKIE\n */\nvar db = (function(){\n    var store = {};\n    var ls = false;\n    try {\n        ls = window['localStorage'];\n    } catch (e) { }\n    var cookieGet = function(key) {\n        if (document.cookie.indexOf(key) == -1) return null;\n        return ((document.cookie||'').match(\n            RegExp(key+'=([^;]+)')\n        )||[])[1] || null;\n    };\n    var cookieSet = function( key, value ) {\n        document.cookie = key + '=' + value +\n            '; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/';\n    };\n    var cookieTest = (function() {\n        try {\n            cookieSet('pnctest', '1');\n            return cookieGet('pnctest') === '1';\n        } catch (e) {\n            return false;\n        }\n    }());\n    return {\n        'get' : function(key) {\n            try {\n                if (ls) return ls.getItem(key);\n                if (cookieTest) return cookieGet(key);\n                return store[key];\n            } catch(e) {\n                return store[key];\n            }\n        },\n        'set' : function( key, value ) {\n            try {\n                if (ls) return ls.setItem( key, value ) && 0;\n                if (cookieTest) cookieSet( key, value );\n                store[key] = value;\n            } catch(e) {\n                store[key] = value;\n            }\n        }\n    };\n})();\n\nfunction get_hmac_SHA256(data,key) {\n    var hash = CryptoJS['HmacSHA256'](data, key);\n    return hash.toString(CryptoJS['enc']['Base64']);\n}\n\n/**\n * $\n * =\n * var div = $('divid');\n */\nfunction $(id) { return document.getElementById(id) }\n\n/**\n * ERROR\n * =====\n * error('message');\n */\nfunction error(message) { console['error'](message) }\n\n/**\n * SEARCH\n * ======\n * var elements = search('a div span');\n */\nfunction search( elements, start) {\n    var list = [];\n    each( elements.split(/\\s+/), function(el) {\n        each( (start || document).getElementsByTagName(el), function(node) {\n            list.push(node);\n        } );\n    });\n    return list;\n}\n\n/**\n * BIND\n * ====\n * bind( 'keydown', search('a')[0], function(element) {\n *     ...\n * } );\n */\nfunction bind( type, el, fun ) {\n    each( type.split(','), function(etype) {\n        var rapfun = function(e) {\n            if (!e) e = window.event;\n            if (!fun(e)) {\n                e.cancelBubble = true;\n                e.preventDefault  && e.preventDefault();\n                e.stopPropagation && e.stopPropagation();\n            }\n        };\n\n        if ( el.addEventListener ) el.addEventListener( etype, rapfun, false );\n        else if ( el.attachEvent ) el.attachEvent( 'on' + etype, rapfun );\n        else  el[ 'on' + etype ] = rapfun;\n    } );\n}\n\n/**\n * UNBIND\n * ======\n * unbind( 'keydown', search('a')[0] );\n */\nfunction unbind( type, el, fun ) {\n    if ( el.removeEventListener ) el.removeEventListener( type, false );\n    else if ( el.detachEvent ) el.detachEvent( 'on' + type, false );\n    else  el[ 'on' + type ] = null;\n}\n\n/**\n * HEAD\n * ====\n * head().appendChild(elm);\n */\nfunction head() { return search('head')[0] }\n\n/**\n * ATTR\n * ====\n * var attribute = attr( node, 'attribute' );\n */\nfunction attr( node, attribute, value ) {\n    if (value) node.setAttribute( attribute, value );\n    else return node && node.getAttribute && node.getAttribute(attribute);\n}\n\n/**\n * CSS\n * ===\n * var obj = create('div');\n */\nfunction css( element, styles ) {\n    for (var style in styles) if (styles.hasOwnProperty(style))\n        try {element.style[style] = styles[style] + (\n            '|width|height|top|left|'.indexOf(style) > 0 &&\n            typeof styles[style] == 'number'\n            ? 'px' : ''\n        )}catch(e){}\n}\n\n/**\n * CREATE\n * ======\n * var obj = create('div');\n */\nfunction create(element) { return document.createElement(element) }\n\n\n/**\n * jsonp_cb\n * ========\n * var callback = jsonp_cb();\n */\nfunction jsonp_cb() { return XORIGN || FDomainRequest() ? 0 : unique() }\n\n\n\n/**\n * EVENTS\n * ======\n * PUBNUB.events.bind( 'you-stepped-on-flower', function(message) {\n *     // Do Stuff with message\n * } );\n *\n * PUBNUB.events.fire( 'you-stepped-on-flower', \"message-data\" );\n * PUBNUB.events.fire( 'you-stepped-on-flower', {message:\"data\"} );\n * PUBNUB.events.fire( 'you-stepped-on-flower', [1,2,3] );\n *\n */\nvar events = {\n    'list'   : {},\n    'unbind' : function( name ) { events.list[name] = [] },\n    'bind'   : function( name, fun ) {\n        (events.list[name] = events.list[name] || []).push(fun);\n    },\n    'fire' : function( name, data ) {\n        each(\n            events.list[name] || [],\n            function(fun) { fun(data) }\n        );\n    }\n};\n\n/**\n * XDR Cross Domain Request\n * ========================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction xdr( setup ) {\n    if (XORIGN || FDomainRequest()) return ajax(setup);\n\n    var script    = create('script')\n    ,   callback  = setup.callback\n    ,   id        = unique()\n    ,   finished  = 0\n    ,   xhrtme    = setup.timeout || DEF_TIMEOUT\n    ,   timer     = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail      = setup.fail    || function(){}\n    ,   data      = setup.data    || {}\n    ,   success   = setup.success || function(){}\n    ,   append    = function() { head().appendChild(script) }\n    ,   done      = function( failed, response ) {\n            if (finished) return;\n            finished = 1;\n\n            script.onerror = null;\n            clearTimeout(timer);\n\n            (failed || !response) || success(response);\n\n            timeout( function() {\n                failed && fail();\n                var s = $(id)\n                ,   p = s && s.parentNode;\n                p && p.removeChild(s);\n            }, SECOND );\n        };\n\n    window[callback] = function(response) {\n        done( 0, response );\n    };\n\n    if (!setup.blocking) script[ASYNC] = ASYNC;\n\n    script.onerror = function() { done(1) };\n    script.src     = build_url( setup.url, data );\n\n    attr( script, 'id', id );\n\n    append();\n    return done;\n}\n\n/**\n * CORS XHR Request\n * ================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction ajax( setup ) {\n    var xhr, response\n    ,   finished = function() {\n            if (loaded) return;\n            loaded = 1;\n\n            clearTimeout(timer);\n\n            try       { response = JSON['parse'](xhr.responseText); }\n            catch (r) { return done(1); }\n\n            complete = 1;\n            success(response);\n        }\n    ,   complete = 0\n    ,   loaded   = 0\n    ,   xhrtme   = setup.timeout || DEF_TIMEOUT\n    ,   timer    = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail     = setup.fail    || function(){}\n    ,   data     = setup.data    || {}\n    ,   success  = setup.success || function(){}\n    ,   async    = !(setup.blocking)\n    ,   done     = function(failed,response) {\n            if (complete) return;\n            complete = 1;\n\n            clearTimeout(timer);\n\n            if (xhr) {\n                xhr.onerror = xhr.onload = null;\n                xhr.abort && xhr.abort();\n                xhr = null;\n            }\n\n            failed && fail(response);\n        };\n\n    // Send\n    try {\n        xhr = FDomainRequest()      ||\n              window.XDomainRequest &&\n              new XDomainRequest()  ||\n              new XMLHttpRequest();\n\n        xhr.onerror = xhr.onabort   = function(){ done(\n            1, xhr.responseText || { \"error\" : \"Network Connection Error\"}\n        ) };\n        xhr.onload  = xhr.onloadend = finished;\n        xhr.onreadystatechange = function() {\n            if (xhr && xhr.readyState == 4) {\n                switch(xhr.status) {\n                    case 200:\n                        break;\n                    default:\n                        try {\n                            response = JSON['parse'](xhr.responseText);\n                            done(1,response);\n                        }\n                        catch (r) { return done(1, {status : xhr.status, payload : null, message : xhr.responseText}); }\n                        return;\n                }\n            }\n        }\n\n        var url = build_url(setup.url,data);\n\n        xhr.open( 'GET', url, async );\n        if (async) xhr.timeout = xhrtme;\n        xhr.send();\n    }\n    catch(eee) {\n        done(0);\n        XORIGN = 0;\n        return xdr(setup);\n    }\n\n    // Return 'done'\n    return done;\n}\n\n// Test Connection State\nfunction _is_online() {\n    if (!('onLine' in navigator)) return 1;\n    try       { return navigator['onLine'] }\n    catch (e) { return true }\n}\n\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     PUBNUB     ===========================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nvar PDIV          = $('pubnub') || 0\n,   CREATE_PUBNUB = function(setup) {\n\n    // Force JSONP if requested from user.\n    if (setup['jsonp'])  XORIGN = 0;\n    else                 XORIGN = UA.indexOf('MSIE 6') == -1;\n\n    var SUBSCRIBE_KEY = setup['subscribe_key'] || ''\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   UUID          = setup['uuid'] || db['get'](SUBSCRIBE_KEY+'uuid')||'';\n\n    var leave_on_unload = setup['leave_on_unload'] || 0;\n\n    setup['xdr']        = xdr;\n    setup['db']         = db;\n    setup['error']      = setup['error'] || error;\n    setup['_is_online'] = _is_online;\n    setup['jsonp_cb']   = jsonp_cb;\n    setup['hmac_SHA256']= get_hmac_SHA256;\n    setup['crypto_obj'] = crypto_obj();\n    setup['params']     = { 'pnsdk' : PNSDK }\n\n    var SELF = function(setup) {\n        return CREATE_PUBNUB(setup);\n    };\n\n    var PN = PN_API(setup);\n\n    for (var prop in PN) {\n        if (PN.hasOwnProperty(prop)) {\n            SELF[prop] = PN[prop];\n        }\n    }\n    SELF['css']         = css;\n    SELF['$']           = $;\n    SELF['create']      = create;\n    SELF['bind']        = bind;\n    SELF['head']        = head;\n    SELF['search']      = search;\n    SELF['attr']        = attr;\n    SELF['events']      = events;\n    SELF['init']        = SELF;\n    SELF['secure']      = SELF;\n\n    SELF['hmac_SHA256'] = get_hmac_SHA256;\n    SELF['crypto_obj'] = crypto_obj();\n\n\n    // Add Leave Functions\n    bind( 'beforeunload', window, function() {\n        if (leave_on_unload) SELF['each-channel'](function(ch){ SELF['LEAVE']( ch.name, 0 ) });\n        return true;\n    } );\n\n    // Return without Testing\n    if (setup['notest']) return SELF;\n\n    bind( 'offline', window,   SELF['offline'] );\n    bind( 'offline', document, SELF['offline'] );\n\n    // Return PUBNUB Socket Object\n    return SELF;\n};\nCREATE_PUBNUB['init']   = CREATE_PUBNUB;\nCREATE_PUBNUB['secure'] = CREATE_PUBNUB;\n\n// Bind for PUBNUB Readiness to Subscribe\nif (document.readyState === 'complete') {\n    timeout( ready, 0 );\n}\nelse {\n    bind( 'load', window, function(){ timeout( ready, 0 ) } );\n}\n\nvar pdiv = PDIV || {};\n\n// CREATE A PUBNUB GLOBAL OBJECT\nPUBNUB = CREATE_PUBNUB({\n    'notest'        : 1,\n    'publish_key'   : attr( pdiv, 'pub-key' ),\n    'subscribe_key' : attr( pdiv, 'sub-key' ),\n    'ssl'           : !document.location.href.indexOf('https') ||\n                      attr( pdiv, 'ssl' ) == 'on',\n    'origin'        : attr( pdiv, 'origin' ),\n    'uuid'          : attr( pdiv, 'uuid' )\n});\n\n// jQuery Interface\nwindow['jQuery'] && (window['jQuery']['PUBNUB'] = CREATE_PUBNUB);\n\n// For Modern JS + Testling.js - http://testling.com/\ntypeof(module) !== 'undefined' && (module['exports'] = PUBNUB) && ready();\n\nvar pubnubs = $('pubnubs') || 0;\n\n// LEAVE NOW IF NO PDIV.\nif (!PDIV) return;\n\n// PUBNUB Flash Socket\ncss( PDIV, { 'position' : 'absolute', 'top' : -SECOND } );\n\nif ('opera' in window || attr( PDIV, 'flash' )) PDIV['innerHTML'] =\n    '<object id=pubnubs data='  + SWF +\n    '><param name=movie value=' + SWF +\n    '><param name=allowscriptaccess value=always></object>';\n\n// Create Interface for Opera Flash\nPUBNUB['rdx'] = function( id, data ) {\n    if (!data) return FDomainRequest[id]['onerror']();\n    FDomainRequest[id]['responseText'] = unescape(data);\n    FDomainRequest[id]['onload']();\n};\n\nfunction FDomainRequest() {\n    if (!pubnubs || !pubnubs['get']) return 0;\n\n    var fdomainrequest = {\n        'id'    : FDomainRequest['id']++,\n        'send'  : function() {},\n        'abort' : function() { fdomainrequest['id'] = {} },\n        'open'  : function( method, url ) {\n            FDomainRequest[fdomainrequest['id']] = fdomainrequest;\n            pubnubs['get']( fdomainrequest['id'], url );\n        }\n    };\n\n    return fdomainrequest;\n}\nFDomainRequest['id'] = SECOND;\n\n})();\n(function(){\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET INTERFACE\n// ---------------------------------------------------------------------------\nvar WS = PUBNUB['ws'] = function( url, protocols ) {\n    if (!(this instanceof WS)) return new WS( url, protocols );\n\n    var self     = this\n    ,   url      = self.url      = url || ''\n    ,   protocol = self.protocol = protocols || 'Sec-WebSocket-Protocol'\n    ,   bits     = url.split('/')\n    ,   setup    = {\n         'ssl'           : bits[0] === 'wss:'\n        ,'origin'        : bits[2]\n        ,'publish_key'   : bits[3]\n        ,'subscribe_key' : bits[4]\n        ,'channel'       : bits[5]\n    };\n\n    // READY STATES\n    self['CONNECTING'] = 0; // The connection is not yet open.\n    self['OPEN']       = 1; // The connection is open and ready to communicate.\n    self['CLOSING']    = 2; // The connection is in the process of closing.\n    self['CLOSED']     = 3; // The connection is closed or couldn't be opened.\n\n    // CLOSE STATES\n    self['CLOSE_NORMAL']         = 1000; // Normal Intended Close; completed.\n    self['CLOSE_GOING_AWAY']     = 1001; // Closed Unexpecttedly.\n    self['CLOSE_PROTOCOL_ERROR'] = 1002; // Server: Not Supported.\n    self['CLOSE_UNSUPPORTED']    = 1003; // Server: Unsupported Protocol.\n    self['CLOSE_TOO_LARGE']      = 1004; // Server: Too Much Data.\n    self['CLOSE_NO_STATUS']      = 1005; // Server: No reason.\n    self['CLOSE_ABNORMAL']       = 1006; // Abnormal Disconnect.\n\n    // Events Default\n    self['onclose']   = self['onerror'] =\n    self['onmessage'] = self['onopen']  =\n    self['onsend']    =  function(){};\n\n    // Attributes\n    self['binaryType']     = '';\n    self['extensions']     = '';\n    self['bufferedAmount'] = 0;\n    self['trasnmitting']   = false;\n    self['buffer']         = [];\n    self['readyState']     = self['CONNECTING'];\n\n    // Close if no setup.\n    if (!url) {\n        self['readyState'] = self['CLOSED'];\n        self['onclose']({\n            'code'     : self['CLOSE_ABNORMAL'],\n            'reason'   : 'Missing URL',\n            'wasClean' : true\n        });\n        return self;\n    }\n\n    // PubNub WebSocket Emulation\n    self.pubnub       = PUBNUB['init'](setup);\n    self.pubnub.setup = setup;\n    self.setup        = setup;\n\n    self.pubnub['subscribe']({\n        'restore'    : false,\n        'channel'    : setup['channel'],\n        'disconnect' : self['onerror'],\n        'reconnect'  : self['onopen'],\n        'error'      : function() {\n            self['onclose']({\n                'code'     : self['CLOSE_ABNORMAL'],\n                'reason'   : 'Missing URL',\n                'wasClean' : false\n            });\n        },\n        'callback'   : function(message) {\n            self['onmessage']({ 'data' : message });\n        },\n        'connect'    : function() {\n            self['readyState'] = self['OPEN'];\n            self['onopen']();\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET SEND\n// ---------------------------------------------------------------------------\nWS.prototype.send = function(data) {\n    var self = this;\n    self.pubnub['publish']({\n        'channel'  : self.pubnub.setup['channel'],\n        'message'  : data,\n        'callback' : function(response) {\n            self['onsend']({ 'data' : response });\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET CLOSE\n// ---------------------------------------------------------------------------\nWS.prototype.close = function() {\n    var self = this;\n    self.pubnub['unsubscribe']({ 'channel' : self.pubnub.setup['channel'] });\n    self['readyState'] = self['CLOSED'];\n    self['onclose']({});\n};\n\n})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(h,s){var f={},g=f.lib={},q=function(){},m=g.Base={extend:function(a){q.prototype=this;var c=new q;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\nr=g.WordArray=m.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=s?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var c=this.words,d=a.words,b=this.sigBytes;a=a.sigBytes;this.clamp();if(b%4)for(var e=0;e<a;e++)c[b+e>>>2]|=(d[e>>>2]>>>24-8*(e%4)&255)<<24-8*((b+e)%4);else if(65535<d.length)for(e=0;e<a;e+=4)c[b+e>>>2]=d[e>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n32-8*(c%4);a.length=h.ceil(c/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*h.random()|0);return new r.init(c,a)}}),l=f.enc={},k=l.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++){var e=c[b>>>2]>>>24-8*(b%4)&255;d.push((e>>>4).toString(16));d.push((e&15).toString(16))}return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b+=2)d[b>>>3]|=parseInt(a.substr(b,\n2),16)<<24-4*(b%8);return new r.init(d,c/2)}},n=l.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++)d.push(String.fromCharCode(c[b>>>2]>>>24-8*(b%4)&255));return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b++)d[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return new r.init(d,c)}},j=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},\nu=g.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=j.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,b=c.sigBytes,e=this.blockSize,f=b/(4*e),f=a?h.ceil(f):h.max((f|0)-this._minBufferSize,0);a=f*e;b=h.min(4*a,b);if(a){for(var g=0;g<a;g+=e)this._doProcessBlock(d,g);g=d.splice(0,a);c.sigBytes-=b}return new r.init(g,b)},clone:function(){var a=m.clone.call(this);\na._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=u.extend({cfg:m.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new t.HMAC.init(a,\nd)).finalize(c)}}});var t=f.algo={};return f}(Math);\n(function(h){for(var s=CryptoJS,f=s.lib,g=f.WordArray,q=f.Hasher,f=s.algo,m=[],r=[],l=function(a){return 4294967296*(a-(a|0))|0},k=2,n=0;64>n;){var j;a:{j=k;for(var u=h.sqrt(j),t=2;t<=u;t++)if(!(j%t)){j=!1;break a}j=!0}j&&(8>n&&(m[n]=l(h.pow(k,0.5))),r[n]=l(h.pow(k,1/3)),n++);k++}var a=[],f=f.SHA256=q.extend({_doReset:function(){this._hash=new g.init(m.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],g=b[2],j=b[3],h=b[4],m=b[5],n=b[6],q=b[7],p=0;64>p;p++){if(16>p)a[p]=\nc[d+p]|0;else{var k=a[p-15],l=a[p-2];a[p]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+a[p-7]+((l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10)+a[p-16]}k=q+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&m^~h&n)+r[p]+a[p];l=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&g^f&g);q=n;n=m;m=h;h=j+k|0;j=g;g=f;f=e;e=k+l|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+g|0;b[3]=b[3]+j|0;b[4]=b[4]+h|0;b[5]=b[5]+m|0;b[6]=b[6]+n|0;b[7]=b[7]+q|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;\nd[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=q.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=q._createHelper(f);s.HmacSHA256=q._createHmacHelper(f)})(Math);\n(function(){var h=CryptoJS,s=h.enc.Utf8;h.algo.HMAC=h.lib.Base.extend({init:function(f,g){f=this._hasher=new f.init;\"string\"==typeof g&&(g=s.parse(g));var h=f.blockSize,m=4*h;g.sigBytes>m&&(g=f.finalize(g));g.clamp();for(var r=this._oKey=g.clone(),l=this._iKey=g.clone(),k=r.words,n=l.words,j=0;j<h;j++)k[j]^=1549556828,n[j]^=909522486;r.sigBytes=l.sigBytes=m;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var g=\nthis._hasher;f=g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f))}})})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var h=CryptoJS,j=h.lib.WordArray;h.enc.Base64={stringify:function(b){var e=b.words,f=b.sigBytes,c=this._map;b.clamp();b=[];for(var a=0;a<f;a+=3)for(var d=(e[a>>>2]>>>24-8*(a%4)&255)<<16|(e[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|e[a+2>>>2]>>>24-8*((a+2)%4)&255,g=0;4>g&&a+0.75*g<f;g++)b.push(c.charAt(d>>>6*(3-g)&63));if(e=c.charAt(64))for(;b.length%4;)b.push(e);return b.join(\"\")},parse:function(b){var e=b.length,f=this._map,c=f.charAt(64);c&&(c=b.indexOf(c),-1!=c&&(e=c));for(var c=[],a=0,d=0;d<\ne;d++)if(d%4){var g=f.indexOf(b.charAt(d-1))<<2*(d%4),h=f.indexOf(b.charAt(d))>>>6-2*(d%4);c[a>>>2]|=(g|h)<<24-8*(a%4);a++}return j.create(c,a)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+0.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join(\"\")},parse:function(d){var l=d.length,s=this._map,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<\nl;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},\n_doProcessBlock:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),\nf=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,\nm,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,\nE,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/\n4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this._process();b=this._hash;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});t.MD5=v._createHelper(r);t.HmacMD5=v._createHmacHelper(r)})(Math);\n(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,\nl)}})();\nCryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this._xformMode=e;this._key=a;this.reset()},reset:function(){t.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},\nfinalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return(\"string\"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return(\"string\"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d<b;d++)e[a+d]^=\nc[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e;this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this._prevBlock=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,\ne,a,c);this._prevBlock=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,\nthis,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,\n1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},\ndecrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return\"string\"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,\nb.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this._parse(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();\n(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,\n16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this._invKeySchedule=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>\n8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=\nd[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p._createHelper(d)})();\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(49)(module)))\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(process, global, module) {/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.0.1\n */\n\n(function() {\n    \"use strict\";\n\n    function $$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function $$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function $$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var $$utils$$_isArray;\n\n    if (!Array.isArray) {\n      $$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      $$utils$$_isArray = Array.isArray;\n    }\n\n    var $$utils$$isArray = $$utils$$_isArray;\n    var $$utils$$now = Date.now || function() { return new Date().getTime(); };\n    function $$utils$$F() { }\n\n    var $$utils$$o_create = (Object.create || function (o) {\n      if (arguments.length > 1) {\n        throw new Error('Second argument not supported');\n      }\n      if (typeof o !== 'object') {\n        throw new TypeError('Argument must be an object');\n      }\n      $$utils$$F.prototype = o;\n      return new $$utils$$F();\n    });\n\n    var $$asap$$len = 0;\n\n    var $$asap$$default = function asap(callback, arg) {\n      $$asap$$queue[$$asap$$len] = callback;\n      $$asap$$queue[$$asap$$len + 1] = arg;\n      $$asap$$len += 2;\n      if ($$asap$$len === 2) {\n        // If len is 1, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        $$asap$$scheduleFlush();\n      }\n    };\n\n    var $$asap$$browserGlobal = (typeof window !== 'undefined') ? window : {};\n    var $$asap$$BrowserMutationObserver = $$asap$$browserGlobal.MutationObserver || $$asap$$browserGlobal.WebKitMutationObserver;\n\n    // test for web worker but not in IE10\n    var $$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function $$asap$$useNextTick() {\n      return function() {\n        process.nextTick($$asap$$flush);\n      };\n    }\n\n    function $$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new $$asap$$BrowserMutationObserver($$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function $$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = $$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function $$asap$$useSetTimeout() {\n      return function() {\n        setTimeout($$asap$$flush, 1);\n      };\n    }\n\n    var $$asap$$queue = new Array(1000);\n\n    function $$asap$$flush() {\n      for (var i = 0; i < $$asap$$len; i+=2) {\n        var callback = $$asap$$queue[i];\n        var arg = $$asap$$queue[i+1];\n\n        callback(arg);\n\n        $$asap$$queue[i] = undefined;\n        $$asap$$queue[i+1] = undefined;\n      }\n\n      $$asap$$len = 0;\n    }\n\n    var $$asap$$scheduleFlush;\n\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\n      $$asap$$scheduleFlush = $$asap$$useNextTick();\n    } else if ($$asap$$BrowserMutationObserver) {\n      $$asap$$scheduleFlush = $$asap$$useMutationObserver();\n    } else if ($$asap$$isWorker) {\n      $$asap$$scheduleFlush = $$asap$$useMessageChannel();\n    } else {\n      $$asap$$scheduleFlush = $$asap$$useSetTimeout();\n    }\n\n    function $$$internal$$noop() {}\n    var $$$internal$$PENDING   = void 0;\n    var $$$internal$$FULFILLED = 1;\n    var $$$internal$$REJECTED  = 2;\n    var $$$internal$$GET_THEN_ERROR = new $$$internal$$ErrorObject();\n\n    function $$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function $$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.')\n    }\n\n    function $$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        $$$internal$$GET_THEN_ERROR.error = error;\n        return $$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function $$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function $$$internal$$handleForeignThenable(promise, thenable, then) {\n       $$asap$$default(function(promise) {\n        var sealed = false;\n        var error = $$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            $$$internal$$resolve(promise, value);\n          } else {\n            $$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          $$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          $$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function $$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === $$$internal$$FULFILLED) {\n        $$$internal$$fulfill(promise, thenable._result);\n      } else if (promise._state === $$$internal$$REJECTED) {\n        $$$internal$$reject(promise, thenable._result);\n      } else {\n        $$$internal$$subscribe(thenable, undefined, function(value) {\n          $$$internal$$resolve(promise, value);\n        }, function(reason) {\n          $$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function $$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        $$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = $$$internal$$getThen(maybeThenable);\n\n        if (then === $$$internal$$GET_THEN_ERROR) {\n          $$$internal$$reject(promise, $$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          $$$internal$$fulfill(promise, maybeThenable);\n        } else if ($$utils$$isFunction(then)) {\n          $$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          $$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function $$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        $$$internal$$reject(promise, $$$internal$$selfFullfillment());\n      } else if ($$utils$$objectOrFunction(value)) {\n        $$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        $$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function $$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      $$$internal$$publish(promise);\n    }\n\n    function $$$internal$$fulfill(promise, value) {\n      if (promise._state !== $$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = $$$internal$$FULFILLED;\n\n      if (promise._subscribers.length === 0) {\n      } else {\n        $$asap$$default($$$internal$$publish, promise);\n      }\n    }\n\n    function $$$internal$$reject(promise, reason) {\n      if (promise._state !== $$$internal$$PENDING) { return; }\n      promise._state = $$$internal$$REJECTED;\n      promise._result = reason;\n\n      $$asap$$default($$$internal$$publishRejection, promise);\n    }\n\n    function $$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + $$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + $$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        $$asap$$default($$$internal$$publish, parent);\n      }\n    }\n\n    function $$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          $$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function $$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var $$$internal$$TRY_CATCH_ERROR = new $$$internal$$ErrorObject();\n\n    function $$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        $$$internal$$TRY_CATCH_ERROR.error = e;\n        return $$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function $$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = $$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = $$$internal$$tryCatch(callback, detail);\n\n        if (value === $$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          $$$internal$$reject(promise, $$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== $$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        $$$internal$$resolve(promise, value);\n      } else if (failed) {\n        $$$internal$$reject(promise, error);\n      } else if (settled === $$$internal$$FULFILLED) {\n        $$$internal$$fulfill(promise, value);\n      } else if (settled === $$$internal$$REJECTED) {\n        $$$internal$$reject(promise, value);\n      }\n    }\n\n    function $$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          $$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          $$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        $$$internal$$reject(promise, e);\n      }\n    }\n\n    function $$$enumerator$$makeSettledResult(state, position, value) {\n      if (state === $$$internal$$FULFILLED) {\n        return {\n          state: 'fulfilled',\n          value: value\n        };\n      } else {\n        return {\n          state: 'rejected',\n          reason: value\n        };\n      }\n    }\n\n    function $$$enumerator$$Enumerator(Constructor, input, abortOnReject, label) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor($$$internal$$noop, label);\n      this._abortOnReject = abortOnReject;\n\n      if (this._validateInput(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._init();\n\n        if (this.length === 0) {\n          $$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            $$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        $$$internal$$reject(this.promise, this._validationError());\n      }\n    }\n\n    $$$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return $$utils$$isArray(input);\n    };\n\n    $$$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    $$$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var $$$enumerator$$default = $$$enumerator$$Enumerator;\n\n    $$$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var promise = this.promise;\n      var input   = this._input;\n\n      for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      if ($$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== $$$internal$$PENDING) {\n          entry._onerror = null;\n          this._settledAt(entry._state, i, entry._result);\n        } else {\n          this._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        this._remaining--;\n        this._result[i] = this._makeResult($$$internal$$FULFILLED, i, entry);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === $$$internal$$PENDING) {\n        this._remaining--;\n\n        if (this._abortOnReject && state === $$$internal$$REJECTED) {\n          $$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = this._makeResult(state, i, value);\n        }\n      }\n\n      if (this._remaining === 0) {\n        $$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._makeResult = function(state, i, value) {\n      return value;\n    };\n\n    $$$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      $$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt($$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt($$$internal$$REJECTED, i, reason);\n      });\n    };\n\n    var $$promise$all$$default = function all(entries, label) {\n      return new $$$enumerator$$default(this, entries, true /* abort on reject */, label).promise;\n    };\n\n    var $$promise$race$$default = function race(entries, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor($$$internal$$noop, label);\n\n      if (!$$utils$$isArray(entries)) {\n        $$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        $$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        $$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\n        $$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    };\n\n    var $$promise$resolve$$default = function resolve(object, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor($$$internal$$noop, label);\n      $$$internal$$resolve(promise, object);\n      return promise;\n    };\n\n    var $$promise$reject$$default = function reject(reason, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor($$$internal$$noop, label);\n      $$$internal$$reject(promise, reason);\n      return promise;\n    };\n\n    var $$es6$promise$promise$$counter = 0;\n\n    function $$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function $$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var $$es6$promise$promise$$default = $$es6$promise$promise$$Promise;\n\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise’s eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function $$es6$promise$promise$$Promise(resolver) {\n      this._id = $$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if ($$$internal$$noop !== resolver) {\n        if (!$$utils$$isFunction(resolver)) {\n          $$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof $$es6$promise$promise$$Promise)) {\n          $$es6$promise$promise$$needsNew();\n        }\n\n        $$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    $$es6$promise$promise$$Promise.all = $$promise$all$$default;\n    $$es6$promise$promise$$Promise.race = $$promise$race$$default;\n    $$es6$promise$promise$$Promise.resolve = $$promise$resolve$$default;\n    $$es6$promise$promise$$Promise.reject = $$promise$reject$$default;\n\n    $$es6$promise$promise$$Promise.prototype = {\n      constructor: $$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === $$$internal$$FULFILLED && !onFulfillment || state === $$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor($$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          $$asap$$default(function(){\n            $$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          $$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n\n    var $$es6$promise$polyfill$$default = function polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n        local = global;\n      } else if (typeof window !== 'undefined' && window.document) {\n        local = window;\n      } else {\n        local = self;\n      }\n\n      var es6PromiseSupport =\n        \"Promise\" in local &&\n        // Some of these methods are missing from\n        // Firefox/Chrome experimental implementations\n        \"resolve\" in local.Promise &&\n        \"reject\" in local.Promise &&\n        \"all\" in local.Promise &&\n        \"race\" in local.Promise &&\n        // Older version of the spec had a resolver object\n        // as the arg rather than a function\n        (function() {\n          var resolve;\n          new local.Promise(function(r) { resolve = r; });\n          return $$utils$$isFunction(resolve);\n        }());\n\n      if (!es6PromiseSupport) {\n        local.Promise = $$es6$promise$promise$$default;\n      }\n    };\n\n    var es6$promise$umd$$ES6Promise = {\n      'Promise': $$es6$promise$promise$$default,\n      'polyfill': $$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (\"function\" === 'function' && __webpack_require__(50)['amd']) {\n      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return es6$promise$umd$$ES6Promise; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = es6$promise$umd$$ES6Promise;\n    }\n}).call(this);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(53), (function() { return this; }()), __webpack_require__(49)(module)))\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(43),__webpack_require__(45),__webpack_require__(46),__webpack_require__(47),__webpack_require__(48)):\"function\"==typeof define&&define.amd?define([\"./core\",\"./enc-base64\",\"./md5\",\"./evpkdf\",\"./cipher-core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,i=t.BlockCipher,o=r.algo,n=[],c=[],s=[],a=[],f=[],u=[],h=[],p=[],d=[],l=[];(function(){for(var e=[],r=0;256>r;r++)e[r]=128>r?r<<1:283^r<<1;for(var t=0,i=0,r=0;256>r;r++){var o=i^i<<1^i<<2^i<<3^i<<4;o=99^(o>>>8^255&o),n[t]=o,c[o]=t;var y=e[t],v=e[y],m=e[v],x=257*e[o]^16843008*o;s[t]=x<<24|x>>>8,a[t]=x<<16|x>>>16,f[t]=x<<8|x>>>24,u[t]=x;var x=16843009*m^65537*v^257*y^16843008*t;h[o]=x<<24|x>>>8,p[o]=x<<16|x>>>16,d[o]=x<<8|x>>>24,l[o]=x,t?(t=y^e[e[e[m^y]]],i^=e[e[i]]):t=i=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=i.extend({_doReset:function(){for(var e=this._key,r=e.words,t=e.sigBytes/4,i=this._nRounds=t+6,o=4*(i+1),c=this._keySchedule=[],s=0;o>s;s++)if(t>s)c[s]=r[s];else{var a=c[s-1];s%t?t>6&&4==s%t&&(a=n[a>>>24]<<24|n[255&a>>>16]<<16|n[255&a>>>8]<<8|n[255&a]):(a=a<<8|a>>>24,a=n[a>>>24]<<24|n[255&a>>>16]<<16|n[255&a>>>8]<<8|n[255&a],a^=y[0|s/t]<<24),c[s]=c[s-t]^a}for(var f=this._invKeySchedule=[],u=0;o>u;u++){var s=o-u;if(u%4)var a=c[s];else var a=c[s-4];f[u]=4>u||4>=s?a:h[n[a>>>24]]^p[n[255&a>>>16]]^d[n[255&a>>>8]]^l[n[255&a]]}},encryptBlock:function(e,r){this._doCryptBlock(e,r,this._keySchedule,s,a,f,u,n)},decryptBlock:function(e,r){var t=e[r+1];e[r+1]=e[r+3],e[r+3]=t,this._doCryptBlock(e,r,this._invKeySchedule,h,p,d,l,c);var t=e[r+1];e[r+1]=e[r+3],e[r+3]=t},_doCryptBlock:function(e,r,t,i,o,n,c,s){for(var a=this._nRounds,f=e[r]^t[0],u=e[r+1]^t[1],h=e[r+2]^t[2],p=e[r+3]^t[3],d=4,l=1;a>l;l++){var y=i[f>>>24]^o[255&u>>>16]^n[255&h>>>8]^c[255&p]^t[d++],v=i[u>>>24]^o[255&h>>>16]^n[255&p>>>8]^c[255&f]^t[d++],m=i[h>>>24]^o[255&p>>>16]^n[255&f>>>8]^c[255&u]^t[d++],x=i[p>>>24]^o[255&f>>>16]^n[255&u>>>8]^c[255&h]^t[d++];f=y,u=v,h=m,p=x}var y=(s[f>>>24]<<24|s[255&u>>>16]<<16|s[255&h>>>8]<<8|s[255&p])^t[d++],v=(s[u>>>24]<<24|s[255&h>>>16]<<16|s[255&p>>>8]<<8|s[255&f])^t[d++],m=(s[h>>>24]<<24|s[255&p>>>16]<<16|s[255&f>>>8]<<8|s[255&u])^t[d++],x=(s[p>>>24]<<24|s[255&f>>>16]<<16|s[255&u>>>8]<<8|s[255&h])^t[d++];e[r]=y,e[r+1]=v,e[r+2]=m,e[r+3]=x},keySize:8});r.AES=i._createHelper(v)}(),e.AES});\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(43),__webpack_require__(48)):\"function\"==typeof define&&define.amd?define([\"./core\",\"./cipher-core\"],r):r(e.CryptoJS)})(this,function(e){return e.mode.ECB=function(){var r=e.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(e,r){this._cipher.encryptBlock(e,r)}}),r.Decryptor=r.extend({processBlock:function(e,r){this._cipher.decryptBlock(e,r)}}),r}(),e.mode.ECB});\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r():\"function\"==typeof define&&define.amd?define([],r):e.CryptoJS=r()})(this,function(){var e=e||function(e,r){var t={},i=t.lib={},n=i.Base=function(){function e(){}return{extend:function(r){e.prototype=this;var t=new e;return r&&t.mixIn(r),t.hasOwnProperty(\"init\")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);e.hasOwnProperty(\"toString\")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=r?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var r=this.words,t=e.words,i=this.sigBytes,n=e.sigBytes;if(this.clamp(),i%4)for(var o=0;n>o;o++){var c=255&t[o>>>2]>>>24-8*(o%4);r[i+o>>>2]|=c<<24-8*((i+o)%4)}else if(t.length>65535)for(var o=0;n>o;o+=4)r[i+o>>>2]=t[o>>>2];else r.push.apply(r,t);return this.sigBytes+=n,this},clamp:function(){var r=this.words,t=this.sigBytes;r[t>>>2]&=4294967295<<32-8*(t%4),r.length=e.ceil(t/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(r){for(var t=[],i=0;r>i;i+=4)t.push(0|4294967296*e.random());return new o.init(t,r)}}),c=t.enc={},s=c.Hex={stringify:function(e){for(var r=e.words,t=e.sigBytes,i=[],n=0;t>n;n++){var o=255&r[n>>>2]>>>24-8*(n%4);i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join(\"\")},parse:function(e){for(var r=e.length,t=[],i=0;r>i;i+=2)t[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8);return new o.init(t,r/2)}},u=c.Latin1={stringify:function(e){for(var r=e.words,t=e.sigBytes,i=[],n=0;t>n;n++){var o=255&r[n>>>2]>>>24-8*(n%4);i.push(String.fromCharCode(o))}return i.join(\"\")},parse:function(e){for(var r=e.length,t=[],i=0;r>i;i++)t[i>>>2]|=(255&e.charCodeAt(i))<<24-8*(i%4);return new o.init(t,r)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(r){throw Error(\"Malformed UTF-8 data\")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},a=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){\"string\"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(r){var t=this._data,i=t.words,n=t.sigBytes,c=this.blockSize,s=4*c,u=n/s;u=r?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var f=u*c,a=e.min(4*f,n);if(f){for(var p=0;f>p;p+=c)this._doProcessBlock(i,p);var d=i.splice(0,f);t.sigBytes-=a}return new o.init(d,a)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=a.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){a.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var r=this._doFinalize();return r},blockSize:16,_createHelper:function(e){return function(r,t){return new e.init(t).finalize(r)}},_createHmacHelper:function(e){return function(r,t){return new p.HMAC.init(e,t).finalize(r)}}});var p=t.algo={};return t}(Math);return e});\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar h = __webpack_require__(51);\nvar ajaxObserver = __webpack_require__(6);\nvar r = __webpack_require__(52);\n/**\n * TODO @see https://github.com/github/fetch/blob/master/fetch.js\n */\nvar Request = (function (_super) {\n    __extends(Request, _super);\n    function Request(context) {\n        _super.call(this, context);\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.query = null;\n        this.body = {};\n        this.context = context;\n        this.xhr = null;\n        this.observer = ajaxObserver.$get(context);\n    }\n    Request.prototype.isLoaded = function () {\n        return !!this.xhr;\n    };\n    Request.prototype.setOptions = function (options) {\n        options = options || {};\n        // backwards compatibility\n        if (!('body' in options) && options.post)\n            options.body = options.post;\n        if (!('query' in options) && options.get)\n            options.query = options.get;\n        if ('method' in options)\n            this.method = options.method;\n        if ('url' in options)\n            this.url = options.url;\n        if ('query' in options)\n            this.query = options.query;\n        if ('body' in options)\n            this.body = options.body;\n        if ('headers' in options)\n            this.setHeaders(options.headers);\n        if ('async' in options)\n            this.async = !!options.async;\n        return this;\n    };\n    /**\n     * Checks the send options, defaulting various of the options,\n     * and consuming / transforming some of the options (like get).\n     */\n    Request.prototype.checkOptions = function () {\n        if (!this.url)\n            throw new Error('Url is not defined');\n        if (!this.hasHeader('Accept'))\n            this.setHeader('Accept', h.Headers.jsonContentType);\n        if (!this.hasHeader('Content-Type'))\n            this.setHeader('Content-Type', h.Headers.jsonContentType);\n        this.method = this.method ? this.method.toUpperCase() : 'GET';\n        if (['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'].indexOf(this.method) < 0)\n            throw new Error('Method has wrong value');\n        return this;\n    };\n    Request.prototype.getEncodedBody = function () {\n        if (this.method === 'GET')\n            return null;\n        if (typeof this.body === 'string') {\n            return this.body;\n        }\n        else if (this.isJson()) {\n            return JSON.stringify(this.body);\n        }\n        else if (this.isUrlEncoded()) {\n            return this.utils.queryStringify(this.body);\n        }\n        else {\n            return this.body;\n        }\n    };\n    Request.prototype.send = function () {\n        var _this = this;\n        this.observer.emit(this.observer.events.beforeRequest, this);\n        var responsePromise = new (this.context.getPromise())(function (resolve, reject) {\n            _this.checkOptions();\n            var xhr = _this.getXHR(), url = _this.url + (!!_this.query ? ((_this.url.indexOf('?') > -1 ? '&' : '?') + _this.utils.queryStringify(_this.query)) : '');\n            xhr.open(_this.method, url, _this.async);\n            //@see http://stackoverflow.com/questions/19666809/cors-withcredentials-support-limited\n            xhr.withCredentials = true;\n            xhr.onload = function () {\n                //TODO http://jira.ringcentral.com/browse/PLA-10585\n                var response = r.$get(_this.context, xhr.status, xhr.statusText, xhr.responseText, xhr.getAllResponseHeaders());\n                if (response.error) {\n                    var e = response.error;\n                    e.ajax = response; // backwards compatibility\n                    e.response = response; //FIXME Circular\n                    e.request = _this;\n                    reject(e);\n                }\n                else {\n                    resolve(response);\n                }\n            };\n            xhr.onerror = function (event) {\n                var e = new Error('The request cannot be sent' + (event ? ' (' + event.toString() + ')' : ''));\n                e.request = _this;\n                e.response = null;\n                e.ajax = null; // backwards compatibility\n                reject(e);\n            };\n            _this.utils.forEach(_this.headers, function (value, header) {\n                if (!!value)\n                    xhr.setRequestHeader(header, value);\n            });\n            xhr.send(_this.getEncodedBody());\n            _this.xhr = xhr;\n        });\n        return responsePromise.then(function (response) {\n            _this.observer.emit(_this.observer.events.requestSuccess, response, _this);\n            return response;\n        }).catch(function (e) {\n            _this.observer.emit(_this.observer.events.requestError, e);\n            throw e;\n        });\n    };\n    Request.prototype.getXHR = function () {\n        return this.context.getXHR();\n    };\n    Request.prototype.destroy = function () {\n        if (this.xhr)\n            this.xhr.abort();\n    };\n    return Request;\n})(h.Headers);\nexports.Request = Request;\nfunction $get(context) {\n    return new Request(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(43)):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,n=t.WordArray,i=r.enc;i.Base64={stringify:function(e){var r=e.words,t=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;t>o;o+=3)for(var c=255&r[o>>>2]>>>24-8*(o%4),f=255&r[o+1>>>2]>>>24-8*((o+1)%4),s=255&r[o+2>>>2]>>>24-8*((o+2)%4),a=c<<16|f<<8|s,u=0;4>u&&t>o+.75*u;u++)i.push(n.charAt(63&a>>>6*(3-u)));var p=n.charAt(64);if(p)for(;i.length%4;)i.push(p);return i.join(\"\")},parse:function(e){var r=e.length,t=this._map,i=t.charAt(64);if(i){var o=e.indexOf(i);-1!=o&&(r=o)}for(var c=[],f=0,s=0;r>s;s++)if(s%4){var a=t.indexOf(e.charAt(s-1))<<2*(s%4),u=t.indexOf(e.charAt(s))>>>6-2*(s%4);c[f>>>2]|=(a|u)<<24-8*(f%4),f++}return n.create(c,f)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}}(),e.enc.Base64});\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(43)):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(r){function t(e,r,t,n,i,o,c){var s=e+(r&t|~r&n)+i+c;return(s<<o|s>>>32-o)+r}function n(e,r,t,n,i,o,c){var s=e+(r&n|t&~n)+i+c;return(s<<o|s>>>32-o)+r}function i(e,r,t,n,i,o,c){var s=e+(r^t^n)+i+c;return(s<<o|s>>>32-o)+r}function o(e,r,t,n,i,o,c){var s=e+(t^(r|~n))+i+c;return(s<<o|s>>>32-o)+r}var c=e,s=c.lib,f=s.WordArray,a=s.Hasher,u=c.algo,p=[];(function(){for(var e=0;64>e;e++)p[e]=0|4294967296*r.abs(r.sin(e+1))})();var d=u.MD5=a.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var c=0;16>c;c++){var s=r+c,f=e[s];e[s]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}var a=this._hash.words,u=e[r+0],d=e[r+1],h=e[r+2],y=e[r+3],m=e[r+4],l=e[r+5],x=e[r+6],q=e[r+7],g=e[r+8],v=e[r+9],b=e[r+10],S=e[r+11],A=e[r+12],w=e[r+13],_=e[r+14],C=e[r+15],B=a[0],H=a[1],j=a[2],J=a[3];B=t(B,H,j,J,u,7,p[0]),J=t(J,B,H,j,d,12,p[1]),j=t(j,J,B,H,h,17,p[2]),H=t(H,j,J,B,y,22,p[3]),B=t(B,H,j,J,m,7,p[4]),J=t(J,B,H,j,l,12,p[5]),j=t(j,J,B,H,x,17,p[6]),H=t(H,j,J,B,q,22,p[7]),B=t(B,H,j,J,g,7,p[8]),J=t(J,B,H,j,v,12,p[9]),j=t(j,J,B,H,b,17,p[10]),H=t(H,j,J,B,S,22,p[11]),B=t(B,H,j,J,A,7,p[12]),J=t(J,B,H,j,w,12,p[13]),j=t(j,J,B,H,_,17,p[14]),H=t(H,j,J,B,C,22,p[15]),B=n(B,H,j,J,d,5,p[16]),J=n(J,B,H,j,x,9,p[17]),j=n(j,J,B,H,S,14,p[18]),H=n(H,j,J,B,u,20,p[19]),B=n(B,H,j,J,l,5,p[20]),J=n(J,B,H,j,b,9,p[21]),j=n(j,J,B,H,C,14,p[22]),H=n(H,j,J,B,m,20,p[23]),B=n(B,H,j,J,v,5,p[24]),J=n(J,B,H,j,_,9,p[25]),j=n(j,J,B,H,y,14,p[26]),H=n(H,j,J,B,g,20,p[27]),B=n(B,H,j,J,w,5,p[28]),J=n(J,B,H,j,h,9,p[29]),j=n(j,J,B,H,q,14,p[30]),H=n(H,j,J,B,A,20,p[31]),B=i(B,H,j,J,l,4,p[32]),J=i(J,B,H,j,g,11,p[33]),j=i(j,J,B,H,S,16,p[34]),H=i(H,j,J,B,_,23,p[35]),B=i(B,H,j,J,d,4,p[36]),J=i(J,B,H,j,m,11,p[37]),j=i(j,J,B,H,q,16,p[38]),H=i(H,j,J,B,b,23,p[39]),B=i(B,H,j,J,w,4,p[40]),J=i(J,B,H,j,u,11,p[41]),j=i(j,J,B,H,y,16,p[42]),H=i(H,j,J,B,x,23,p[43]),B=i(B,H,j,J,v,4,p[44]),J=i(J,B,H,j,A,11,p[45]),j=i(j,J,B,H,C,16,p[46]),H=i(H,j,J,B,h,23,p[47]),B=o(B,H,j,J,u,6,p[48]),J=o(J,B,H,j,q,10,p[49]),j=o(j,J,B,H,_,15,p[50]),H=o(H,j,J,B,l,21,p[51]),B=o(B,H,j,J,A,6,p[52]),J=o(J,B,H,j,y,10,p[53]),j=o(j,J,B,H,b,15,p[54]),H=o(H,j,J,B,d,21,p[55]),B=o(B,H,j,J,g,6,p[56]),J=o(J,B,H,j,C,10,p[57]),j=o(j,J,B,H,x,15,p[58]),H=o(H,j,J,B,w,21,p[59]),B=o(B,H,j,J,m,6,p[60]),J=o(J,B,H,j,S,10,p[61]),j=o(j,J,B,H,h,15,p[62]),H=o(H,j,J,B,v,21,p[63]),a[0]=0|a[0]+B,a[1]=0|a[1]+H,a[2]=0|a[2]+j,a[3]=0|a[3]+J},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32;var o=r.floor(n/4294967296),c=n;t[(i+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t[(i+64>>>9<<4)+14]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),e.sigBytes=4*(t.length+1),this._process();for(var s=this._hash,f=s.words,a=0;4>a;a++){var u=f[a];f[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});c.MD5=a._createHelper(d),c.HmacMD5=a._createHmacHelper(d)}(Math),e.MD5});\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(43),__webpack_require__(54),__webpack_require__(55)):\"function\"==typeof define&&define.amd?define([\"./core\",\"./sha1\",\"./hmac\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,i=t.Base,n=t.WordArray,o=r.algo,a=o.MD5,s=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,r){for(var t=this.cfg,i=t.hasher.create(),o=n.create(),a=o.words,s=t.keySize,c=t.iterations;s>a.length;){f&&i.update(f);var f=i.update(e).finalize(r);i.reset();for(var u=1;c>u;u++)f=i.finalize(f),i.reset();o.concat(f)}return o.sigBytes=4*s,o}});r.EvpKDF=function(e,r,t){return s.create(t).compute(e,r)}}(),e.EvpKDF});\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(43)):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){e.lib.Cipher||function(r){var t=e,i=t.lib,n=i.Base,o=i.WordArray,c=i.BufferedBlockAlgorithm,s=t.enc;s.Utf8;var a=s.Base64,f=t.algo,u=f.EvpKDF,h=i.Cipher=c.extend({cfg:n.extend(),createEncryptor:function(e,r){return this.create(this._ENC_XFORM_MODE,e,r)},createDecryptor:function(e,r){return this.create(this._DEC_XFORM_MODE,e,r)},init:function(e,r,t){this.cfg=this.cfg.extend(t),this._xformMode=e,this._key=r,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var r=this._doFinalize();return r},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return\"string\"==typeof e?q:_}return function(r){return{encrypt:function(t,i,n){return e(i).encrypt(r,t,i,n)},decrypt:function(t,i,n){return e(i).decrypt(r,t,i,n)}}}}()});i.StreamCipher=h.extend({_doFinalize:function(){var e=this._process(true);return e},blockSize:1});var d=t.mode={},p=i.BlockCipherMode=n.extend({createEncryptor:function(e,r){return this.Encryptor.create(e,r)},createDecryptor:function(e,r){return this.Decryptor.create(e,r)},init:function(e,r){this._cipher=e,this._iv=r}}),l=d.CBC=function(){function e(e,t,i){var n=this._iv;if(n){var o=n;this._iv=r}else var o=this._prevBlock;for(var c=0;i>c;c++)e[t+c]^=o[c]}var t=p.extend();return t.Encryptor=t.extend({processBlock:function(r,t){var i=this._cipher,n=i.blockSize;e.call(this,r,t,n),i.encryptBlock(r,t),this._prevBlock=r.slice(t,t+n)}}),t.Decryptor=t.extend({processBlock:function(r,t){var i=this._cipher,n=i.blockSize,o=r.slice(t,t+n);i.decryptBlock(r,t),e.call(this,r,t,n),this._prevBlock=o}}),t}(),y=t.pad={},v=y.Pkcs7={pad:function(e,r){for(var t=4*r,i=t-e.sigBytes%t,n=i<<24|i<<16|i<<8|i,c=[],s=0;i>s;s+=4)c.push(n);var a=o.create(c,i);e.concat(a)},unpad:function(e){var r=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=r}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:l,padding:v}),reset:function(){h.reset.call(this);var e=this.cfg,r=e.iv,t=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=t.createEncryptor;else{var i=t.createDecryptor;this._minBufferSize=1}this._mode=i.call(t,this,r&&r.words)},_doProcessBlock:function(e,r){this._mode.processBlock(e,r)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var r=this._process(true)}else{var r=this._process(true);e.unpad(r)}return r},blockSize:4});var g=i.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=t.format={},x=m.OpenSSL={stringify:function(e){var r=e.ciphertext,t=e.salt;if(t)var i=o.create([1398893684,1701076831]).concat(t).concat(r);else var i=r;return i.toString(a)},parse:function(e){var r=a.parse(e),t=r.words;if(1398893684==t[0]&&1701076831==t[1]){var i=o.create(t.slice(2,4));t.splice(0,4),r.sigBytes-=16}return g.create({ciphertext:r,salt:i})}},_=i.SerializableCipher=n.extend({cfg:n.extend({format:x}),encrypt:function(e,r,t,i){i=this.cfg.extend(i);var n=e.createEncryptor(t,i),o=n.finalize(r),c=n.cfg;return g.create({ciphertext:o,key:t,iv:c.iv,algorithm:e,mode:c.mode,padding:c.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,r,t,i){i=this.cfg.extend(i),r=this._parse(r,i.format);var n=e.createDecryptor(t,i).finalize(r.ciphertext);return n},_parse:function(e,r){return\"string\"==typeof e?r.parse(e,this):e}}),w=t.kdf={},S=w.OpenSSL={execute:function(e,r,t,i){i||(i=o.random(8));var n=u.create({keySize:r+t}).compute(e,i),c=o.create(n.words.slice(r),4*t);return n.sigBytes=4*r,g.create({key:n,iv:c,salt:i})}},q=i.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:S}),encrypt:function(e,r,t,i){i=this.cfg.extend(i);var n=i.kdf.execute(t,e.keySize,e.ivSize);i.iv=n.iv;var o=_.encrypt.call(this,e,r,n.key,i);return o.mixIn(n),o},decrypt:function(e,r,t,i){i=this.cfg.extend(i),r=this._parse(r,i.format);var n=i.kdf.execute(t,e.keySize,e.ivSize,r.salt);i.iv=n.iv;var o=_.decrypt.call(this,e,r,n.key,i);return o}})}()});\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\n/**\n * @see https://github.com/Microsoft/TypeScript/issues/275\n */\nvar Headers = (function () {\n    function Headers(context) {\n        this.headers = {};\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Headers.prototype.setHeader = function (name, value) {\n        this.headers[name.toLowerCase()] = value;\n        return this;\n    };\n    Headers.prototype.getHeader = function (name) {\n        return this.headers[name.toLowerCase()];\n    };\n    Headers.prototype.hasHeader = function (name) {\n        return (name.toLowerCase() in this.headers);\n    };\n    Headers.prototype.setHeaders = function (headers) {\n        var _this = this;\n        this.utils.forEach(headers, function (value, name) {\n            _this.setHeader(name, value);\n        });\n        return this;\n    };\n    Headers.prototype.isContentType = function (contentType) {\n        return this.getContentType().indexOf(contentType) > -1;\n    };\n    Headers.prototype.setContentType = function (contentType) {\n        this.setHeader(Headers.contentType, contentType);\n        return this;\n    };\n    Headers.prototype.getContentType = function () {\n        return this.getHeader(Headers.contentType) || '';\n    };\n    Headers.prototype.isMultipart = function () {\n        return this.isContentType(Headers.multipartContentType);\n    };\n    Headers.prototype.isUrlEncoded = function () {\n        return this.isContentType(Headers.urlencodedContentType);\n    };\n    Headers.prototype.isJson = function () {\n        return this.isContentType(Headers.jsonContentType);\n    };\n    Headers.contentType = 'Content-Type';\n    Headers.jsonContentType = 'application/json';\n    Headers.multipartContentType = 'multipart/mixed';\n    Headers.urlencodedContentType = 'application/x-www-form-urlencoded';\n    return Headers;\n})();\nexports.Headers = Headers;\n\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar h = __webpack_require__(51);\nvar log = __webpack_require__(11);\nvar Response = (function (_super) {\n    __extends(Response, _super);\n    function Response(context, status, statusText, body, headers) {\n        var _this = this;\n        _super.call(this, context);\n        this.log = log.$get(context);\n        if (typeof (body) === 'string') {\n            body = body.replace(/\\r/g, '');\n            if (!headers) {\n                var tmp = body.split(Response.bodySeparator);\n                headers = (tmp.length > 1) ? tmp.shift() : {};\n                body = tmp.join(Response.bodySeparator);\n            }\n        }\n        /** @type {Response[]|object} */\n        this.data = null;\n        /** @type {object} */\n        this.json = null;\n        /** @type {Response[]} */\n        this.responses = [];\n        /** @type {Error} */\n        this.error = null;\n        //@see http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n        if (status == 1223)\n            status = 204;\n        this.status = status;\n        this.statusText = statusText;\n        this.body = body;\n        try {\n            // Step 1. Parse headers\n            if (typeof (headers) === 'string') {\n                (headers || '').split('\\n').forEach(function (header) {\n                    if (!header)\n                        return;\n                    /** @type {string[]} */\n                    var parts = header.split(Response.headerSeparator), name = parts.shift().trim();\n                    _this.setHeader(name, parts.join(Response.headerSeparator).trim());\n                });\n            }\n            else {\n                this.setHeaders(headers);\n            }\n            // Step 1.1. JEDI proxy sometimes may omit Content-Type header\n            if (!this.hasHeader(h.Headers.contentType))\n                this.setHeader(h.Headers.contentType, h.Headers.jsonContentType);\n            // Step 2. Parse body\n            if (this.isJson() && !!this.body && typeof (this.body) === 'string') {\n                this.json = JSON.parse(this.body);\n                this.data = this.json; // backwards compatibility\n                if (!this.checkStatus())\n                    this.error = new Error(this.getError());\n            }\n            else if (this.isMultipart()) {\n                // Step 2.1. Split multipart response\n                var boundary = this.getContentType().match(/boundary=([^;]+)/i)[1], parts = this.body.split(Response.boundarySeparator + boundary);\n                if (parts[0].trim() === '')\n                    parts.shift();\n                if (parts[parts.length - 1].trim() == Response.boundarySeparator)\n                    parts.pop();\n                // Step 2.2. Parse status info\n                var statusInfo = new Response(this.context, this.status, '', parts.shift());\n                // Step 2.3. Parse all other parts\n                this.responses = parts.map(function (part, i) {\n                    var status = statusInfo.data.response[i].status;\n                    return new Response(_this.context, status, '', part);\n                });\n                this.data = this.responses; // backwards compatibility\n            }\n            else {\n                this.data = this.body;\n            }\n        }\n        catch (e) {\n            this.log.error('Response.parseResponse(): Unable to parse data');\n            this.log.error(e.stack || e);\n            this.log.error(this.body);\n            this.error = e;\n        }\n    }\n    /**\n     * @returns {boolean}\n     */\n    Response.prototype.isUnauthorized = function () {\n        return (this.status == 401);\n    };\n    Response.prototype.checkStatus = function () {\n        return this.status >= 200 && this.status < 300;\n    };\n    Response.prototype.getError = function () {\n        return this.data.message || this.data.error_description || this.data.description || 'Unknown error';\n    };\n    Response.boundarySeparator = '--';\n    Response.headerSeparator = ':';\n    Response.bodySeparator = '\\n\\n';\n    return Response;\n})(h.Headers);\nexports.Response = Response;\nfunction $get(context, status, statusText, body, headers) {\n    return new Response(context, status, statusText, body, headers);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(43)):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,n=t.WordArray,i=t.Hasher,o=r.algo,s=[],c=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,r){for(var t=this._hash.words,n=t[0],i=t[1],o=t[2],c=t[3],a=t[4],f=0;80>f;f++){if(16>f)s[f]=0|e[r+f];else{var u=s[f-3]^s[f-8]^s[f-14]^s[f-16];s[f]=u<<1|u>>>31}var d=(n<<5|n>>>27)+a+s[f];d+=20>f?(i&o|~i&c)+1518500249:40>f?(i^o^c)+1859775393:60>f?(i&o|i&c|o&c)-1894007588:(i^o^c)-899497514,a=c,c=o,o=i<<30|i>>>2,i=n,n=d}t[0]=0|t[0]+n,t[1]=0|t[1]+i,t[2]=0|t[2]+o,t[3]=0|t[3]+c,t[4]=0|t[4]+a},_doFinalize:function(){var e=this._data,r=e.words,t=8*this._nDataBytes,n=8*e.sigBytes;return r[n>>>5]|=128<<24-n%32,r[(n+64>>>9<<4)+14]=Math.floor(t/4294967296),r[(n+64>>>9<<4)+15]=t,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA1=i._createHelper(c),r.HmacSHA1=i._createHmacHelper(c)}(),e.SHA1});\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(43)):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){(function(){var r=e,t=r.lib,n=t.Base,i=r.enc,o=i.Utf8,a=r.algo;a.HMAC=n.extend({init:function(e,r){e=this._hasher=new e.init,\"string\"==typeof r&&(r=o.parse(r));var t=e.blockSize,n=4*t;r.sigBytes>n&&(r=e.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),a=this._iKey=r.clone(),s=i.words,c=a.words,f=0;t>f;f++)s[f]^=1549556828,c[f]^=909522486;i.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var r=this._hasher,t=r.finalize(e);r.reset();var n=r.finalize(this._oKey.clone().concat(t));return n}})})()});\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=rc-sdk-bundle.js.map"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d932898611cbcbba5150\n **/","/// <reference path=\"../typings/externals.d.ts\" />\n\ndeclare\nvar require:(name:string)=>any;\n\nimport headers = require('./core/http/Headers');\nimport request = require('./core/http/Request');\nimport response = require('./core/http/Response');\nimport pubnubMock = require('./core/pubnub/PubnubMock');\nimport xhrMock = require('./core/xhr/XhrMock');\nimport xhrResponse = require('./core/xhr/XhrResponse');\nimport ajaxObserver = require('./core/AjaxObserver');\nimport cache = require('./core/Cache');\nimport context = require('./core/Context');\nimport helper = require('./core/Helper');\nimport list = require('./core/List');\nimport log = require('./core/Log');\nimport observable = require('./core/Observable');\nimport pageVisibility = require('./core/PageVisibility');\nimport platform = require('./core/Platform');\nimport subscription = require('./core/Subscription');\nimport utils = require('./core/Utils');\nimport validator = require('./core/Validator');\n\nimport accountHelper = require('./helpers/Account');\nimport blockedNumberHelper = require('./helpers/BlockedNumber');\nimport callHelper = require('./helpers/Call');\nimport contactHelper = require('./helpers/Contact');\nimport contactGroupHelper = require('./helpers/ContactGroup');\nimport conferencingHelper = require('./helpers/Conferencing');\nimport countryHelper = require('./helpers/Country');\nimport deviceHelper = require('./helpers/Device');\nimport deviceModelHelper = require('./helpers/DeviceModel');\nimport extensionHelper = require('./helpers/Extension');\nimport forwardingNumberHelper = require('./helpers/ForwardingNumber');\nimport languageHelper = require('./helpers/Language');\nimport locationHelper = require('./helpers/Location');\nimport messageHelper = require('./helpers/Message');\nimport phoneNumberHelper = require('./helpers/PhoneNumber');\nimport presenceHelper = require('./helpers/Presence');\nimport ringoutHelper = require('./helpers/Ringout');\nimport serviceHelper = require('./helpers/Service');\nimport shippingMethodHelper = require('./helpers/ShippingMethod');\nimport stateHelper = require('./helpers/State');\nimport timezoneHelper = require('./helpers/Timezone');\n\nimport promise = require('es6-promise');\nimport pubnub = require('pubnub');\n\nrequire('crypto-js/aes');\nrequire('crypto-js/mode-ecb');\n\nclass RCSDK {\n\n    public static version = '1.3.0';\n\n    public static url = {\n        sandbox: 'https://platform.devtest.ringcentral.com',\n        production: 'https://platform.ringcentral.com'\n    };\n\n    private static injections = <context.IInjections>{\n        CryptoJS: require('crypto-js/core'),\n        localStorage: (typeof(localStorage) !== 'undefined'\n            ? localStorage\n            : require('dom-' + 'storage')), // Node only\n        Promise: typeof(Promise) !== 'undefined' ? Promise : promise.Promise,\n        PUBNUB: pubnub,\n        XHR: () => {\n            try { return new XMLHttpRequest(); } catch (e) {}\n            try { return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\"); } catch (e1) {}\n            try { return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\"); } catch (e2) {}\n            try { return new ActiveXObject(\"Msxml2.XMLHTTP\"); } catch (e3) {}\n            try { return new (require('xhr' + '2'))(); } catch (e4) {} // Node only\n            throw new Error(\"This browser does not support XMLHttpRequest.\");\n        },\n        pubnubMock: pubnubMock,\n        xhrMock: xhrMock\n    };\n\n    private _context:context.Context;\n\n    constructor(options?:{\n        server:string;\n        appKey:string;\n        appSecret:string;\n        cachePrefix?:string;\n    }) {\n\n        options = options || <any>{};\n\n        this._context = context.$get(RCSDK.injections);\n\n        this.getCache()\n            .setPrefix(options.cachePrefix || '');\n\n        this.getPlatform()\n            .setServer(options.server || '')\n            .setCredentials(options.appKey || '', options.appSecret || '');\n\n        //TODO Link Platform events with Subscriptions and the rest\n\n    }\n\n    // Internals\n\n    getContext() { return this._context; }\n\n    // Core\n\n    getAjaxObserver() { return ajaxObserver.$get(this.getContext()); }\n\n    getXhrResponse() { return xhrResponse.$get(this.getContext()); }\n\n    getPlatform() { return platform.$get(this.getContext()); }\n\n    getCache() { return cache.$get(this.getContext()); }\n\n    getSubscription() { return subscription.$get(this.getContext()); }\n\n    getPageVisibility() { return pageVisibility.$get(this.getContext()); }\n\n    getHelper() { return helper.$get(this.getContext()); }\n\n    getObservable() { return observable.$get(this.getContext()); }\n\n    getValidator() { return validator.$get(this.getContext()); }\n\n    getLog() { return log.$get(this.getContext()); }\n\n    getUtils() { return utils.$get(this.getContext()); }\n\n    getList() { return list.$get(this.getContext()); }\n\n    // Helpers\n\n    getCountryHelper() { return countryHelper.$get(this.getContext()); }\n\n    getDeviceModelHelper() { return deviceModelHelper.$get(this.getContext()); }\n\n    getLanguageHelper() { return languageHelper.$get(this.getContext()); }\n\n    getLocationHelper() { return locationHelper.$get(this.getContext()); }\n\n    getShippingMethodHelper() { return shippingMethodHelper.$get(this.getContext()); }\n\n    getStateHelper() { return stateHelper.$get(this.getContext()); }\n\n    getTimezoneHelper() { return timezoneHelper.$get(this.getContext()); }\n\n    getAccountHelper() { return accountHelper.$get(this.getContext()); }\n\n    getBlockedNumberHelper() { return blockedNumberHelper.$get(this.getContext()); }\n\n    getCallHelper() { return callHelper.$get(this.getContext()); }\n\n    getConferencingHelper() { return conferencingHelper.$get(this.getContext()); }\n\n    getContactHelper() { return contactHelper.$get(this.getContext()); }\n\n    getContactGroupHelper() { return contactGroupHelper.$get(this.getContext()); }\n\n    getDeviceHelper() { return deviceHelper.$get(this.getContext()); }\n\n    getExtensionHelper() { return extensionHelper.$get(this.getContext()); }\n\n    getForwardingNumberHelper() { return forwardingNumberHelper.$get(this.getContext()); }\n\n    getMessageHelper() { return messageHelper.$get(this.getContext()); }\n\n    getPhoneNumberHelper() { return phoneNumberHelper.$get(this.getContext()); }\n\n    getPresenceHelper() { return presenceHelper.$get(this.getContext()); }\n\n    getRingoutHelper() { return ringoutHelper.$get(this.getContext()); }\n\n    getServiceHelper() { return serviceHelper.$get(this.getContext()); }\n\n}\n\nexport = RCSDK;\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/RCSDK.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"exports\",\"commonjs\":\"dom-storage\",\"commonjs2\":\"dom-storage\",\"root\":\"localStorage\"}\n ** module id = 1\n ** module chunks = 0\n **/","if(typeof __WEBPACK_EXTERNAL_MODULE_2__ === 'undefined') {var e = new Error(\"Cannot find module \\\"undefined\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"exports\",\"commonjs\":\"xhr2\",\"commonjs2\":\"xhr2\",\"root\":\"XMLHttpRequest\"}\n ** module id = 2\n ** module chunks = 0\n **/","/// <reference path=\"../../../typings/externals.d.ts\" />\n\nimport context = require('../Context');\nimport observable = require('../Observable')\n\nexport class PubnubMock extends observable.Observable<PubnubMock> implements PUBNUB.PubnubInstance {\n\n    private options:PUBNUB.InitOptions;\n\n    constructor(context, options:PUBNUB.InitOptions) {\n        this.options = options;\n        super(context);\n    }\n\n    ready() {}\n\n    subscribe(options:PUBNUB.SubscribeOptions) {\n        this.on('message-' + options.channel, options.message);\n    }\n\n    unsubscribe(options:PUBNUB.UnsubscribeOptions) {\n        this.off('message-' + options.channel);\n    }\n\n    receiveMessage(msg, channel) {\n        this.emit('message-' + channel, msg, 'env', channel);\n    }\n\n}\n\nexport class PubnubFactory implements PUBNUB.PUBNUB {\n\n    context:context.Context;\n\n    constructor(context:context.Context) {\n        this.context = context;\n    }\n\n    init(options:PUBNUB.InitOptions) {\n        return new PubnubMock(this.context, options);\n    }\n\n}\n\nexport function $get(context:context.Context):PubnubFactory {\n    return new PubnubFactory(context);\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/pubnub/PubnubMock.ts\n **/","import context = require('../Context');\nimport utils = require('../Utils');\nimport log = require('../Log');\nimport xhrResponse = require('./XhrResponse'); //FIXME Circular\n\nexport class XhrMock {\n\n    // Service\n    private context:context.Context;\n    private log:log.Log;\n    private utils:utils.Utils;\n    private responses:xhrResponse.XhrResponse;\n\n    // Request\n    public async:boolean;\n    public method:string;\n    public url:string;\n    public requestHeaders:any;\n    public withCredentials:boolean;\n    public onload:()=>any;\n    public onerror:(e:Error)=>any;\n\n    // Response\n    public data:any;\n    public readyState:number;\n    public responseHeaders:any;\n    public responseText:string;\n    public status:number;\n\n    constructor(context:context.Context) {\n\n        // Service\n        this.context = context;\n        this.responses = xhrResponse.$get(context);\n        this.log = log.$get(context);\n        this.utils = utils.$get(context);\n\n        // Request\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.requestHeaders = {};\n        this.withCredentials = false;\n\n        // Response\n        this.data = null;\n        this.readyState = 0;\n        this.responseHeaders = {};\n        this.status = 0;\n\n    }\n\n    getResponseHeader(header:string) {\n        return this.responseHeaders[header.toLowerCase()];\n    }\n\n    setRequestHeader(header:string, value:string) {\n        this.requestHeaders[header.toLowerCase()] = value;\n    }\n\n    getAllResponseHeaders() {\n        var res = [];\n        this.utils.forEach(this.responseHeaders, (value:string, name:string) => {\n            res.push(name + ':' + value);\n        });\n        return res.join('\\n');\n    }\n\n    open(method:string, url:string, async?:boolean) {\n        this.method = method;\n        this.url = url;\n        this.async = async;\n    }\n\n    send(data:any) {\n\n        var contentType = this.getRequestHeader('Content-Type');\n\n        this.data = data;\n\n        if (this.data && typeof this.data == 'string') {\n            // For convenience encoded post data will be decoded\n            if (contentType == 'application/json') this.data = JSON.parse(this.data);\n            if (contentType == 'application/x-www-form-urlencoded') this.data = this.utils.parseQueryString(this.data);\n        }\n\n        this.log.debug('API REQUEST', this.method, this.url);\n\n        var currentResponse = this.responses.find(this);\n\n        if (!currentResponse) {\n            setTimeout(() => {\n                if (this.onerror) this.onerror(new Error('Unknown request: ' + this.url));\n            }, 1);\n            return;\n        }\n\n        this.setStatus(200);\n        this.setResponseHeader('Content-Type', 'application/json');\n\n        var res = currentResponse.response(this),\n            Promise = this.context.getPromise(),\n            onLoad = (res) => {\n\n                if (this.getResponseHeader('Content-Type') == 'application/json') res = JSON.stringify(res);\n\n                this.responseText = res;\n\n                setTimeout(() => {\n                    if (this.onload) this.onload();\n                }, 1);\n\n            };\n\n        if (res instanceof Promise) {\n\n            res.then(onLoad.bind(this)).catch(this.onerror.bind(this));\n\n        } else onLoad(res);\n\n    }\n\n    abort() {\n        this.log.debug('XhrMock.destroy(): Aborted');\n    }\n\n    getRequestHeader(header:string) {\n        return this.requestHeaders[header.toLowerCase()];\n    }\n\n    setResponseHeader(header:string, value:string) {\n        this.responseHeaders[header.toLowerCase()] = value;\n    }\n\n    setStatus(status) {\n        this.status = status;\n        return this;\n    }\n\n}\n\nexport function $get(context:context.Context):XhrMock {\n    return new XhrMock(context);\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/xhr/XhrMock.ts\n **/","import context = require('../Context');\nimport r = require('../http/Response');\nimport xhrMock = require('./XhrMock'); //FIXME Circular\n\nexport class XhrResponse {\n\n    private responses:IXhrResponse[];\n\n    constructor(context:context.Context) {\n        this.responses = [];\n    }\n\n    add(response:any) {\n        this.responses.push(response);\n    }\n\n    clear() {\n        this.responses = [];\n    }\n\n    find(ajax:xhrMock.XhrMock):IXhrResponse {\n\n        var currentResponse:IXhrResponse = null;\n\n        this.responses.forEach((response:IXhrResponse) => {\n\n            if (ajax.url.indexOf(response.path) > -1 && (!response.test || response.test(ajax))) {\n                currentResponse = response;\n            }\n\n        });\n\n        return currentResponse;\n\n    }\n}\n\nexport interface IXhrResponse {\n    path?:string;\n    response?:(xhr?:xhrMock.XhrMock)=>Promise<r.Response>;\n    test?:(xhr:xhrMock.XhrMock)=>boolean;\n}\n\nexport function $get(context:context.Context):XhrResponse {\n    return context.createSingleton('XhrResponse', ()=> {\n        return new XhrResponse(context);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/xhr/XhrResponse.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport observable = require('./Observable');\nimport context = require('./Context');\n\nexport class AjaxObserver extends observable.Observable<AjaxObserver> {\n\n    public events = {\n        beforeRequest: 'beforeRequest', // parameters: ajax\n        requestSuccess: 'requestSuccess', // means that response was successfully fetched from server\n        requestError: 'requestError' // means that request failed completely\n    };\n\n}\n\nexport function $get(context:context.Context):AjaxObserver {\n\n    return context.createSingleton('AjaxObserver', ()=> {\n        return new AjaxObserver(context);\n    });\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/AjaxObserver.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('./Context');\n\nexport class Cache {\n\n    private context:context.Context;\n    private storage:Storage;\n    private prefix:string;\n\n    constructor(context:context.Context) {\n        this.setPrefix();\n        this.context = context;\n        this.storage = context.getLocalStorage(); // storage must be defined from outside\n    }\n\n    setPrefix(prefix?:string) {\n        this.prefix = prefix || 'rc-';\n        return this;\n    }\n\n    prefixKey(key) {\n        return this.prefix + key;\n    }\n\n    setItem(key, data) {\n        this.storage.setItem(this.prefixKey(key), JSON.stringify(data));\n        return this;\n    }\n\n    removeItem(key) {\n        this.storage.removeItem(this.prefixKey(key));\n        return this;\n    }\n\n    getItem(key) {\n        var item = this.storage.getItem(this.prefixKey(key));\n        if (!item) return null;\n        return JSON.parse(item);\n    }\n\n    clean() {\n\n        for (var key in this.storage) {\n            if (!this.storage.hasOwnProperty(key)) continue;\n            if (key.indexOf(this.prefix) === 0) {\n                this.storage.removeItem(key);\n                delete this.storage[key];\n            }\n        }\n\n        return this;\n\n    }\n    \n}\n\nexport function $get(context:context.Context):Cache {\n    return context.createSingleton('Cache', ()=> {\n        return new Cache(context);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Cache.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nexport class Context {\n\n    private singletons:ISingletons;\n    private injections:IInjections;\n    private stubPubnub:boolean;\n    private stubAjax:boolean;\n\n    constructor(injections:IInjections) {\n        this.singletons = {};\n        this.injections = injections;\n        this.stubPubnub = false;\n        this.stubAjax = false;\n    }\n\n    createSingleton(name:string, factory:()=>any) {\n\n        if (!this.singletons[name]) this.singletons[name] = factory();\n        return this.singletons[name];\n\n    }\n\n    usePubnubStub(flag:boolean) {\n        this.stubPubnub = !!flag;\n        return this;\n    }\n\n    useAjaxStub(flag:boolean) {\n        this.stubAjax = !!flag;\n        return this;\n    }\n\n    getCryptoJS():CryptoJS.CryptoJSStatic {\n        return this.injections.CryptoJS;\n    }\n\n    getPubnub():PUBNUB.PUBNUB {\n        return this.stubPubnub ? this.injections.pubnubMock.$get(this) : this.injections.PUBNUB;\n    }\n\n    getLocalStorage():Storage {\n\n        return this.createSingleton('localStorage', () => {\n\n            if (typeof this.injections.localStorage !== 'function') {\n                return this.injections.localStorage; // this is window.localStorage\n            }\n\n            return new (<any> this.injections.localStorage)(); // this is NPM dom-storage constructor\n\n        });\n\n    }\n\n    getPromise():typeof Promise {\n        return this.injections.Promise;\n    }\n\n    getXHR():XMLHttpRequest {\n        return <XMLHttpRequest>(this.stubAjax ? this.injections.xhrMock.$get(this) : (<any>this.injections.XHR)());\n    }\n\n}\n\nexport function $get(injections:IInjections) {\n    return new Context(injections);\n}\n\nexport interface ISingletons {\n    [name: string]: any;\n}\n\nexport interface IInjections {\n    pubnubMock:any;\n    xhrMock:any;\n    PUBNUB:any;\n    CryptoJS:any;\n    localStorage:any;\n    XHR:any;\n    Promise:any;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Context.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport utils = require('./Utils');\nimport context = require('./Context');\nimport request = require('./http/Request');\nimport response = require('./http/Response');\n\nexport class Helper {\n\n    protected defaultProperty:string = 'id';\n\n    protected context:context.Context;\n    protected utils:utils.Utils;\n\n    constructor(context:context.Context) {\n\n        this.context = context;\n        this.utils = utils.$get(context);\n\n    }\n\n    getContext() {\n        return this.context;\n    }\n\n    createUrl(options?:any, id?:string) {\n        return '';\n    }\n\n    getId(object:IHelperObject) {\n        return object && object[this.defaultProperty];\n    }\n\n    isNew(object:IHelperObject) {\n        return !this.getId(object) || !this.getUri(object);\n    }\n\n    resetAsNew(object:IHelperObject) {\n        if (object) {\n            delete object.id;\n            delete object.uri;\n        }\n        return object;\n    }\n\n    getUri(object:IHelperObject) {\n        return object && object.uri;\n    }\n\n    parseMultipartResponse(ajax:response.Response) {\n\n        if (ajax.isMultipart()) {\n\n            // ajax.data has full array, leave only successful\n            return ajax.data.filter((result) => {\n                return (!result.error);\n            }).map((result:response.Response) => {\n                return result.data;\n            });\n\n        } else { // Single ID\n\n            return [ajax.data];\n\n        }\n\n    }\n\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    loadRequest(object?, options?:request.IAjaxOptions):request.IAjaxOptions {\n\n        return this.utils.extend(options || {}, {\n            url: (options && options.url) || (object && this.getUri(object)) || this.createUrl(),\n            method: (options && options.method) || 'GET'\n        });\n\n    }\n\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    saveRequest(object?, options?:request.IAjaxOptions):request.IAjaxOptions {\n\n        if (!object && !(options && (options.post || options.body))) throw new Error('No Object');\n\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || (this.isNew(object) ? 'POST' : 'PUT'),\n            url: (options && options.url) || this.getUri(object) || this.createUrl(),\n            body: (options && (options.body || options.post)) || object\n        });\n\n    }\n\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided exception will be thrown\n     */\n    deleteRequest(object?, options?:request.IAjaxOptions):request.IAjaxOptions {\n\n        options = options || {};\n\n        if (!this.getUri(object) && !(options && options.url)) throw new Error('Object has to be not new or URL must be provided');\n\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || 'DELETE',\n            url: (options && options.url) || this.getUri(object)\n        });\n\n    }\n\n    /**\n     * If no url was provided, default SYNC url will be returned\n     */\n    syncRequest(options?:request.IAjaxOptions):request.IAjaxOptions {\n\n        options = options || {};\n\n        options.url = options.url || this.createUrl({sync: true});\n        options.query = options.query || options.get || {};\n\n        if (!!options.query.syncToken) {\n            options.query = {\n                syncType: 'ISync',\n                syncToken: options.get.syncToken\n            };\n        } else {\n            options.query.syncType = 'FSync';\n        }\n\n        return options;\n\n    }\n\n    nextPageExists(data):boolean {\n\n        return (data && data.navigation && ('nextPage' in data.navigation));\n\n    }\n\n    /**\n     * array - an array to be indexed\n     * getIdFn - must return an ID for each array item\n     * gather - if true, then each index will have an array of items, that has same ID, otherwise the first indexed\n     * item wins\n     */\n    index(array:IHelperObject[], getIdFn?:(obj:IHelperObject)=>string, gather?:boolean):any {\n\n        getIdFn = getIdFn || this.getId.bind(this);\n        array = array || [];\n\n        return array.reduce((index, item) => {\n\n            var id = getIdFn(item);\n\n            if (!id || (index[id] && !gather)) return index;\n\n            if (gather) {\n                if (!index[id]) index[id] = [];\n                index[id].push(item);\n            } else {\n                index[id] = item;\n            }\n\n            return index;\n\n        }, {});\n\n    }\n\n    /**\n     * Returns a shallow copy of merged _target_ array plus _supplement_ array\n     * mergeItems\n     * - if true, properties of _supplement_ item will be applied to _target_ item,\n     * - otherwise _target_ item will be replaced\n     */\n    merge(target:IHelperObject[],\n          supplement:IHelperObject[],\n          getIdFn?:(obj:IHelperObject)=>string, mergeItems?:boolean):any {\n\n        getIdFn = getIdFn || this.getId.bind(this);\n        target = target || [];\n        supplement = supplement || [];\n\n        var supplementIndex = this.index(supplement, getIdFn),\n            updatedIDs = [],\n            result = target.map((item) => {\n\n                var id = getIdFn(item),\n                    newItem = supplementIndex[id];\n\n                if (newItem) updatedIDs.push(id);\n\n                return newItem ? (mergeItems ? this.utils.extend(item, newItem) : newItem) : item;\n\n            });\n\n        supplement.forEach((item) => {\n\n            if (updatedIDs.indexOf(getIdFn(item)) == -1) result.push(item);\n\n        });\n\n        return result;\n\n    }\n\n\n}\n\nexport function $get(context:context.Context):Helper {\n    return new Helper(context);\n}\n\nexport interface IHelperObject {\n    id?:string;\n    uri?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Helper.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport utils = require('./Utils');\nimport context = require('./Context');\n\nexport class List {\n\n    protected context:context.Context;\n    protected utils:utils.Utils;\n\n    constructor(context:context.Context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.numberComparator = this.numberComparator.bind(this);\n        this.stringComparator = this.stringComparator.bind(this);\n    }\n\n    /**\n     * TODO Use utils getProperty\n     * @param {string} property\n     * @returns {function(object)}\n     */\n    propertyExtractor(property) {\n        return (item, options) => {\n            return property ? ((item && item[property]) || null) : item;\n        };\n    }\n\n    /**\n     * Non-string types are converted to string\n     * Non-string types are extracted as an empty string if they could be converted to false\n     * If no options.sortBy given the item itself is extracted\n     * Compares strings:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    stringComparator(a:string, b:string, options?:IListComparatorOptions):number {\n\n        return this.utils.parseString(a).localeCompare(this.utils.parseString(b));\n\n    }\n\n    /**\n     * Non-numeric types are extracted as 0 if they could be converted to false\n     * Objects that could not be converted to number are extracted as 0\n     * If no options.sortBy given the item itself is extracted\n     * See parseFloat for more info\n     * Compares numbers:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Function does not check types\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    numberComparator(a:any, b:any, options?:IListComparatorOptions):number {\n\n        return (this.utils.parseNumber(a) - this.utils.parseNumber(b));\n\n    }\n\n    /**\n     * Function extracts (using _extractFn_ option) values of a property (_sortBy_ option) and compares them using\n     * compare function (_compareFn_ option, by default Helper.stringComparator)\n     * Merged options are provided to _extractFn_ and _compareFn_\n     * TODO Check memory leaks for all that options links\n     */\n    comparator(options?:IListComparatorOptions):(item1:any, item2:any) => number {\n\n        options = this.utils.extend({\n            extractFn: this.propertyExtractor((options && options.sortBy) || null).bind(this),\n            compareFn: this.stringComparator.bind(this)\n        }, options);\n\n        return (item1:any, item2:any):number => {\n\n            return options.compareFn(options.extractFn(item1, options), options.extractFn(item2, options), options);\n\n        };\n\n    }\n\n    equalsFilter(obj:any, options?:IListFilterOptions):boolean {\n        return (options.condition === obj);\n    }\n\n    /**\n     * @param {string} obj\n     * @param {IListFilterOptions} options\n     * @returns {boolean}\n     */\n    containsFilter(obj:any, options?:IListFilterOptions):boolean {\n        return (obj && obj.toString().indexOf(options.condition) > -1);\n    }\n\n    regexpFilter(obj, options?:IListFilterOptions):boolean {\n        if (!(options.condition instanceof RegExp)) throw new Error('Condition must be an instance of RegExp');\n        return (options.condition.test(obj));\n    }\n\n    /**\n     * Function extracts (using `extractFn` option) values of a property (`filterBy` option) and filters them using\n     * compare function (`filterFn` option, by default Helper.equalsFilter)\n     * Merged options are provided to `extractFn` and `compareFn`\n     * Set `filterBy` to null to force `propertyExtractor` to return object itself\n     * TODO Check memory leaks for all that options links\n     */\n    filter(filterConfigs:IListFilterOptions[]):(item:any) => boolean {\n\n        var self = this;\n\n        filterConfigs = (filterConfigs || []).map((opt) => {\n\n            return this.utils.extend({\n                condition: '',\n                extractFn: self.propertyExtractor((opt && opt.filterBy) || null).bind(this),\n                filterFn: self.equalsFilter.bind(this)\n            }, opt);\n\n        });\n\n        return (item):boolean => {\n\n            return <boolean>filterConfigs.reduce((pass, opt) => {\n\n                if (!pass || !opt.condition) return pass;\n                return opt.filterFn(opt.extractFn(item, opt), opt);\n\n            }, true);\n\n        };\n\n    }\n\n}\n\nexport function $get(context:context.Context):List {\n    return context.createSingleton('List', ()=> {\n        return new List(context);\n    });\n}\n\nexport interface IListComparatorOptions {\n    sortBy?:string;\n    extractFn?:(object:any, options?:IListComparatorOptions|any)=>any;\n    compareFn?:(a:any, b:any, options?:IListComparatorOptions|any)=>number;\n}\n\nexport interface IListFilterOptions {\n    filterBy?:string;\n    condition?:any|string|RegExp;\n    extractFn?:(object:any, options?:IListFilterOptions|any)=>any;\n    filterFn?:(object:any, options?:IListFilterOptions|any)=>any;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/List.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport utils = require('./Utils');\nimport context = require('./Context');\n\nexport class Log {\n\n    private context:context.Context;\n    private utils:utils.Utils;\n\n    public console:Console;\n    public logDebug:boolean;\n    public logInfo:boolean;\n    public logWarnings:boolean;\n    public logErrors:boolean;\n    public addTimestamps:boolean;\n\n    constructor(context:context.Context, console?:Console) {\n\n        if (!console) {\n            console = <Console>{ // safety\n                log: () => {},\n                warn: () => {},\n                info: () => {},\n                error: () => {}\n            };\n        }\n\n        this.context = context;\n        this.console = console;\n        this.utils = utils.$get(context);\n\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n\n        this.addTimestamps = false;\n\n    }\n\n    disableAll() {\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n    }\n\n    enableAll() {\n        this.logDebug = true;\n        this.logInfo = true;\n        this.logWarnings = true;\n        this.logErrors = true;\n    }\n\n    parseArguments(args) {\n        args = this.utils.argumentsToArray(args);\n        if (this.addTimestamps) args.unshift(new Date().toLocaleString(), '-');\n        return args;\n    }\n\n    debug(...args) {\n        if (this.logDebug) this.console.log.apply(this.console, this.parseArguments(arguments));\n    }\n\n    info(...args) {\n        if (this.logInfo) this.console.info.apply(this.console, this.parseArguments(arguments));\n    }\n\n    warn(...args) {\n        if (this.logWarnings) this.console.warn.apply(this.console, this.parseArguments(arguments));\n    }\n\n    error(...args) {\n        if (this.logErrors) this.console.error.apply(this.console, this.parseArguments(arguments));\n    }\n\n}\n\nexport function $get(context:context.Context):Log {\n\n    return context.createSingleton('Log', ()=> {\n        return new Log(context, console);\n    });\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Log.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport utils = require('./Utils');\nimport log = require('./Log');\nimport context = require('./Context');\n\n/**\n * @see https://github.com/Microsoft/TypeScript/issues/275\n */\nexport class Observable<T extends Observable<any>> {\n\n    protected context:context.Context;\n    protected utils:utils.Utils;\n    protected log:log.Log;\n\n    private listeners:any;\n    private oneTimeEvents:any;\n    private oneTimeArguments:any;\n\n    constructor(context:context.Context) {\n        if (!(this instanceof Observable)) throw new Error('Observable(): New operator was omitted');\n        Object.defineProperty(this, 'listeners', {value: {}, enumerable: false, writable: true});\n        Object.defineProperty(this, 'oneTimeEvents', {value: {}, enumerable: false, writable: true});\n        Object.defineProperty(this, 'oneTimeArguments', {value: {}, enumerable: false, writable: true});\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.log = log.$get(context);\n    }\n\n    hasListeners(event) {\n        return (event in this.listeners);\n    }\n\n    /**\n     * @deprecated\n     * @param {string} event\n     */\n    registerOneTimeEvent(event:string) {\n        this.oneTimeEvents[event] = false;\n        this.oneTimeArguments[event] = [];\n    }\n\n    on(events:any, callback:(...args)=>any):T {\n\n        if (typeof events == 'string') events = [events];\n        if (!events) throw new Error('No events to subscribe to');\n        if (typeof callback !== 'function') throw new Error('Callback must be a function');\n\n        var self = this;\n\n        (<string[]>events).forEach((event) => {\n\n            if (!self.hasListeners(event)) self.listeners[event] = [];\n\n            self.listeners[event].push(callback);\n\n            if (self.isOneTimeEventFired(event)) { // Fire listener immediately if is inited already\n                this.log.debug('Observable.on(%s): One-time event has been fired already, executing callback', event);\n                callback.apply(self, self.getOneTimeEventArgumens(event));\n            }\n\n        });\n\n        return <any>this;\n\n    }\n\n    emit(event:string, ...args):any {\n\n        if (this.isOneTimeEventFired(event)) {\n            this.log.debug('Observable.emit(%s): One-time event has been fired already', event);\n            return null;\n        }\n\n        var result = null;\n\n        if (this.isOneTimeEvent(event)) {\n            this.setOneTimeEventFired(event);\n            this.setOneTimeEventArgumens(event, args);\n        }\n\n        if (!this.hasListeners(event)) return null;\n\n        this.listeners[event].some((callback:()=>any) => {\n\n            result = callback.apply(this, args);\n            return (result === false);\n\n        });\n\n        return result;\n\n    }\n\n    off(event?:string, callback?):T {\n        if (!event) {\n            this.listeners = {};\n            this.oneTimeEvents = {};\n            this.oneTimeArguments = {};\n        } else {\n            if (!callback) {\n                delete this.listeners[event];\n            } else {\n                if (!this.hasListeners(event)) return <any>this;\n                this.listeners[event].forEach((cb, i) => {\n\n                    if (cb === callback) delete this.listeners[event][i];\n\n                });\n            }\n        }\n        return <any>this;\n    }\n\n    /**\n     * @deprecated\n     * @param event\n     * @returns {boolean}\n     */\n    isOneTimeEvent(event:string) {\n        return (event in this.oneTimeEvents);\n    }\n\n    /**\n     * @deprecated\n     * @param {string} event\n     * @returns {boolean}\n     */\n    isOneTimeEventFired(event:string):boolean {\n        if (!this.isOneTimeEvent(event)) return false;\n        return (this.oneTimeEvents[event]);\n    }\n\n    /**\n     * @deprecated\n     * @param event\n     */\n    setOneTimeEventFired(event) {\n        this.oneTimeEvents[event] = true;\n    }\n\n    /**\n     * @deprecated\n     * @param {string} event\n     * @param args\n     */\n    setOneTimeEventArgumens(event:string, args) {\n        this.oneTimeArguments[event] = args;\n    }\n\n    /**\n     * @deprecated\n     * @param {string} event\n     * @returns {any}\n     */\n    getOneTimeEventArgumens(event:string) {\n        return this.oneTimeArguments[event];\n    }\n\n    /**\n     * @deprecated\n     * @returns {T}\n     */\n    offAll():T {\n        return this.off();\n    }\n\n    destroy():T {\n        this.off();\n        this.log.debug('Observable.destroy(): Listeners were destroyed');\n        return <T>this;\n    }\n\n    emitAndCallback(event, args?, callback?):T {\n        args = this.utils.argumentsToArray(args);\n        if (event) this.emit.apply(this, [event].concat(args));\n        if (callback) callback.apply(this, args);\n        return <any>this;\n    }\n\n}\n\nexport function $get(context:context.Context):Observable<any> {\n    return new Observable<any>(context);\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Observable.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('./Context');\nimport observable = require('./Observable');\n\nexport class PageVisibility extends observable.Observable<PageVisibility> {\n\n    public events = {\n        change: 'change'\n    };\n\n    public visible:boolean;\n\n    constructor(context:context.Context) {\n\n        super(context);\n\n        var hidden = \"hidden\",\n            onchange = (evt) => {\n\n                evt = evt || window.event;\n\n                var v = 'visible',\n                    h = 'hidden',\n                    evtMap = {\n                        focus: v, focusin: v, pageshow: v, blur: h, focusout: h, pagehide: h\n                    };\n\n                this.visible = (evt.type in evtMap) ? evtMap[evt.type] == v : !document[hidden];\n\n                this.emit(this.events.change, this.visible);\n\n            };\n\n        this.visible = true;\n\n        if (typeof document == 'undefined' || typeof window == 'undefined') return;\n\n        // Standards:\n\n        if (hidden in document)\n            document.addEventListener(\"visibilitychange\", onchange);\n        else if ((hidden = \"mozHidden\") in document)\n            document.addEventListener(\"mozvisibilitychange\", onchange);\n        else if ((hidden = \"webkitHidden\") in document)\n            document.addEventListener(\"webkitvisibilitychange\", onchange);\n        else if ((hidden = \"msHidden\") in document)\n            document.addEventListener(\"msvisibilitychange\", onchange);\n        // IE 9 and lower:\n        else if ('onfocusin' in document)\n            document.onfocusin = document.onfocusout = onchange;\n        // All others:\n        else\n            window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;\n\n    }\n\n    isVisible() {\n        return this.visible;\n    }\n\n}\n\nexport function $get(context:context.Context):PageVisibility {\n    return new PageVisibility(context);\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/PageVisibility.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\ndeclare class Buffer {\n    constructor(str:string);\n    toString(encoding:string):string;\n}\n\nimport context = require('./Context');\nimport utils = require('./Utils');\nimport observable = require('./Observable');\nimport cache = require('./Cache');\nimport log = require('./Log');\nimport request = require('./http/Request');\nimport r = require('./http/Response');\n\nexport class Platform extends observable.Observable<Platform> {\n\n    public server:string;\n    public apiKey:string;\n    public account:string;\n    public urlPrefix:string;\n    public apiVersion:string;\n    public accountPrefix:string;\n    public accessTokenTtl:number;\n    public refreshTokenTtl:number;\n    public refreshTokenTtlRemember:number;\n    public refreshHandicapMs:number;\n    public refreshDelayMs:number;\n    public clearCacheOnRefreshError:boolean;\n    public refreshPromise:Promise<any>;\n\n    public cacheId:string;\n    public pollInterval:number;\n    public releaseTimeout:number;\n\n    public events = {\n        accessViolation: 'accessViolation',\n        logoutSuccess: 'logoutSuccess',\n        logoutError: 'logoutError',\n        authorizeSuccess: 'authorizeSuccess',\n        authorizeError: 'authorizeError',\n        refreshSuccess: 'refreshSuccess',\n        refreshError: 'refreshError'\n    };\n\n    static forcedTokenType = 'forced';\n\n    constructor(context:context.Context) {\n\n        super(context);\n\n        this.server = '';\n        this.apiKey = '';\n        this.account = '~';\n        this.urlPrefix = '/restapi';\n        this.apiVersion = 'v1.0';\n        this.accountPrefix = '/account/';\n        this.accessTokenTtl = null; // Platform server by default sets it to 60 * 60 = 1 hour\n        this.refreshTokenTtl = 10 * 60 * 60; // 10 hours\n        this.refreshTokenTtlRemember = 7 * 24 * 60 * 60; // 1 week\n        this.refreshHandicapMs = 60 * 1000; // 1 minute\n        this.refreshDelayMs = 100;\n        this.clearCacheOnRefreshError = true;\n        this.refreshPromise = null;\n\n        this.cacheId = 'platform';\n        this.pollInterval = 250;\n        this.releaseTimeout = 5000; // If queue was not released then force it to do so after some timeout\n\n    }\n\n    getStorage():cache.Cache {\n\n        return cache.$get(this.context);\n\n    }\n\n    getRequest():request.Request {\n\n        return request.$get(this.context);\n\n    }\n\n    clearStorage() {\n\n        this.getStorage().clean();\n\n        return this;\n\n    }\n\n    setCredentials(appKey, appSecret) {\n\n        var apiKey = (appKey || '') + ':' + (appSecret || '');\n\n        if (apiKey == ':') return this;\n\n        this.apiKey = (typeof btoa == 'function') ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n\n        return this;\n\n    }\n\n    setServer(server) {\n\n        this.server = server || '';\n\n        return this;\n\n    }\n\n    remember(remember?:boolean):Platform {\n\n        var key = this.cacheId + '-remember';\n\n        if (remember !== undefined) {\n\n            this.getStorage().setItem(key, remember);\n            return this;\n\n        }\n\n        return this.getStorage().getItem(key) || false;\n\n    }\n\n    authorize(options?:{username:string; password: string; extension?:string; remember?:boolean}) {\n\n        options = options || <any>{};\n\n        options.remember = options.remember || false;\n\n        return this.authCall({\n            url: '/restapi/oauth/token',\n            post: {\n                \"grant_type\": \"password\",\n                \"username\": options.username,\n                \"extension\": options.extension || '',\n                \"password\": options.password,\n                \"access_token_ttl\": this.accessTokenTtl,\n                \"refresh_token_ttl\": options.remember ? this.refreshTokenTtlRemember : this.refreshTokenTtl\n            }\n        }).then((response) => {\n\n            this.setCache(response.data)\n                .remember(options.remember)\n                .emitAndCallback(this.events.authorizeSuccess, []);\n\n            return response;\n\n        }).catch((e:request.IAjaxError):any => {\n\n            this.clearStorage()\n                .emitAndCallback(this.events.authorizeError, [e]);\n\n            throw e;\n\n        });\n\n    }\n\n    isPaused() {\n        var storage = this.getStorage(),\n            cacheId = this.cacheId + '-refresh';\n        return !!storage.getItem(cacheId) && Date.now() - parseInt(storage.getItem(cacheId)) < this.releaseTimeout;\n    }\n\n    pause() {\n        this.getStorage().setItem(this.cacheId + '-refresh', Date.now());\n        return this;\n    }\n\n    /**\n     * If the queue is unpaused internally, polling will be cancelled\n     * @returns {Platform}\n     */\n    resume() {\n        this.getStorage().removeItem(this.cacheId + '-refresh');\n        return this;\n    }\n\n    refresh() {\n\n        var refresh = new (this.context.getPromise())((resolve, reject) => {\n\n            if (this.isPaused()) {\n                return resolve(this.refreshPolling(null));\n            } else {\n                this.pause();\n            }\n\n            // Make sure all existing AJAX calls had a chance to reach the server\n            setTimeout(() => {\n\n                var authData = this.getAuthData();\n\n                this.log.debug('Platform.refresh(): Performing token refresh (access token', authData.access_token, ', refresh token', authData.refresh_token, ')');\n\n                if (!authData || !authData.refresh_token) return reject(new Error('Refresh token is missing'));\n                if (Date.now() > authData.refreshExpireTime) return reject(new Error('Refresh token has expired'));\n                if (!this.isPaused()) return reject(new Error('Queue was resumed before refresh call'));\n\n                resolve(this.authCall({\n                    url: '/restapi/oauth/token',\n                    post: {\n                        \"grant_type\": \"refresh_token\",\n                        \"refresh_token\": authData.refresh_token,\n                        \"access_token_ttl\": this.accessTokenTtl,\n                        \"refresh_token_ttl\": this.remember() ? this.refreshTokenTtlRemember : this.refreshTokenTtl\n                    }\n                }));\n\n            }, this.refreshDelayMs);\n\n        });\n\n        return refresh.then((response:r.Response) => {\n\n            // This means refresh has happened elsewhere and we are here because of timeout\n            if (!response || !response.data) return response;\n\n            this.log.info('Platform.refresh(): Token was refreshed');\n\n            if (!response.data.refresh_token || !response.data.access_token) {\n                var e = <request.IAjaxError>new Error('Malformed OAuth response');\n                e.ajax = response;\n                throw e;\n            }\n\n            this.setCache(response.data)\n                .resume();\n\n            return response;\n\n        }).then((result) => {\n\n            this.emit(this.events.refreshSuccess, result);\n            return result;\n\n        }).catch((e:request.IAjaxError):any => {\n\n            if (this.clearCacheOnRefreshError) this.clearStorage();\n\n            this.emitAndCallback(this.events.accessViolation, [e])\n                .emitAndCallback(this.events.refreshError, [e]);\n\n            throw e;\n\n        });\n\n    }\n\n    /**\n     * @returns {Promise}\n     */\n    logout():Promise<r.Response> {\n\n        this.pause();\n\n        return this.authCall({\n            url: '/restapi/oauth/revoke',\n            post: {\n                token: this.getToken()\n            }\n        }).then((response)  => {\n\n            this.resume()\n                .clearStorage()\n                .emit(this.events.logoutSuccess, response);\n\n            return response;\n\n        }).catch((e:request.IAjaxError):any => {\n\n            this.resume()\n                .emitAndCallback(this.events.accessViolation, [e])\n                .emitAndCallback(this.events.logoutError, [e]);\n\n            throw e;\n\n        });\n\n    }\n\n    refreshPolling(result) {\n\n        if (this.refreshPromise) return this.refreshPromise;\n\n        this.refreshPromise = new (this.context.getPromise())((resolve, reject) => {\n\n            this.log.warn('Platform.refresh(): Refresh is already in progress polling started');\n\n            this.utils.poll((next) => {\n\n                if (this.isPaused()) return next();\n\n                this.refreshPromise = null;\n                this.resume();\n\n                if (this.isTokenValid()) {\n                    resolve(result);\n                } else {\n                    reject(new Error('Automatic authentification timeout'));\n                }\n\n            }, this.pollInterval);\n\n        });\n\n        return this.refreshPromise;\n\n    }\n\n    getToken() {\n\n        return this.getAuthData().access_token;\n\n    }\n\n    getTokenType() {\n\n        return this.getAuthData().token_type;\n\n    }\n\n    getAuthData():IPlatformAuthInfo {\n\n        return this.getStorage().getItem(this.cacheId) || {\n                token_type: '',\n                access_token: '',\n                expires_in: 0,\n                refresh_token: '',\n                refresh_token_expires_in: 0\n            };\n\n    }\n\n    /**\n     * Check if there is a valid (not expired) access token\n     */\n    isTokenValid():boolean {\n\n        var authData = this.getAuthData();\n        return (authData.token_type == Platform.forcedTokenType || (new Date(authData.expireTime).getTime() - this.refreshHandicapMs) > Date.now() && !this.isPaused());\n\n    }\n\n    /**\n     * Checks if user is authorized\n     * If there is no access token, refresh will be performed\n     */\n    isAuthorized():Promise<any> {\n\n        if (this.isTokenValid()) return this.context.getPromise().resolve(true);\n        return this.refresh();\n\n    }\n\n    cancelAccessToken() {\n\n        return this.setCache(this.utils.extend(this.getAuthData(), {\n            access_token: '',\n            expires_in: 0\n        }));\n\n    }\n\n    setCache(authData:IPlatformAuthInfo) {\n\n        var oldAuthData = this.getAuthData();\n\n        this.log.info('Platform.setCache(): Tokens were updated, new:', authData, ', old:', oldAuthData);\n\n        authData.expireTime = Date.now() + (authData.expires_in * 1000);\n        authData.refreshExpireTime = Date.now() + (authData.refresh_token_expires_in * 1000);\n\n        this.getStorage().setItem(this.cacheId, authData);\n\n        return this;\n\n    }\n\n    forceAuthentication() {\n\n        this.setCache(<IPlatformAuthInfo>{\n            token_type: Platform.forcedTokenType,\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        });\n\n        return this;\n\n    }\n\n    apiCall(options?:request.IAjaxOptions):Promise<r.Response> {\n\n        options = options || {};\n        options.url = this.apiUrl(options.url, {addServer: true});\n\n        return this.isAuthorized().then(() => { // Refresh will occur inside\n\n            var token = this.getToken();\n\n            return this.getRequest()\n                .setOptions(options)\n                .setHeader('Authorization', this.getTokenType() + (token ? ' ' + token : ''))\n                .send();\n\n        }).catch((e:request.IAjaxError) => {\n\n            if (!e.response || !e.response.isUnauthorized()) throw e;\n\n            this.cancelAccessToken();\n\n            return this\n                .refresh()\n                .then(() => {\n\n                          // Re-send with same options\n                          return this.apiCall(options);\n\n                      });\n\n        });\n\n    }\n\n    get(url:string, options?:request.IAjaxOptions) {\n        options = options || {};\n        options.url = url;\n        options.method = 'GET';\n        return this.apiCall(options);\n    }\n\n    post(url:string, options:request.IAjaxOptions) {\n        options = options || {};\n        options.url = url;\n        options.method = 'POST';\n        return this.apiCall(options);\n    }\n\n    put(url:string, options:request.IAjaxOptions) {\n        options = options || {};\n        options.url = url;\n        options.method = 'PUT';\n        return this.apiCall(options);\n    }\n\n    'delete'(url:string, options?:request.IAjaxOptions) {\n        options = options || {};\n        options.url = url;\n        options.method = 'DELETE';\n        return this.apiCall(options);\n    }\n\n    authCall(options?:request.IAjaxOptions):Promise<r.Response> {\n\n        options = options || {};\n        options.method = options.method || 'POST';\n        options.url = this.apiUrl(options.url, {addServer: true});\n\n        return this.getRequest()\n            .setOptions(options)\n            .setHeader('Content-Type', 'application/x-www-form-urlencoded')\n            .setHeader('Accept', 'application/json')\n            .setHeader('Authorization', 'Basic ' + this.apiKey)\n            .send();\n\n    }\n\n    apiUrl(url, options?:{addMethod?: string; addToken?: boolean; addServer?: boolean}):string {\n\n        url = url || '';\n        options = options || {};\n\n        var builtUrl = '',\n            hasHttp = url.indexOf('http://') != -1 || url.indexOf('https://') != -1;\n\n        if (options.addServer && !hasHttp) builtUrl += this.server;\n\n        if (url.indexOf(this.urlPrefix) == -1 && !hasHttp) builtUrl += this.urlPrefix + '/' + this.apiVersion;\n\n        if (url.indexOf(this.accountPrefix) > -1) builtUrl.replace(this.accountPrefix + '~', this.accountPrefix + this.account);\n\n        builtUrl += url;\n\n        if (options.addMethod || options.addToken) builtUrl += (url.indexOf('?') > -1 ? '&' : '?');\n\n        if (options.addMethod) builtUrl += '_method=' + options.addMethod;\n        if (options.addToken) builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this.getToken();\n\n        return builtUrl;\n\n    }\n\n}\n\nexport interface IPlatformAuthInfo {\n    token_type?:string;\n    access_token?:string;\n    expires_in?:number; // actually it's string\n    expireTime?:number;\n    refresh_token?:string;\n    refresh_token_expires_in?:number; // actually it's string\n    refreshExpireTime?:number;\n    scope?:string;\n}\n\nexport function $get(context:context.Context):Platform {\n    return context.createSingleton('Platform', ()=> {\n        return new Platform(context);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Platform.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport observable = require('./Observable');\nimport utils = require('./Utils');\nimport log = require('./Log');\nimport context = require('./Context');\nimport platform = require('./Platform');\nimport r = require('./http/Response');\n\nexport class Subscription extends observable.Observable<Subscription> {\n\n    static renewHandicapMs = 60 * 1000;\n\n    public subscription;\n    public timeout;\n    public eventFilters:string[];\n    public pubnub:PUBNUB.PubnubInstance;\n\n    public events = {\n        notification: 'notification',\n        removeSuccess: 'removeSuccess',\n        removeError: 'removeError',\n        renewSuccess: 'renewSuccess',\n        renewError: 'renewError',\n        subscribeSuccess: 'subscribeSuccess',\n        subscribeError: 'subscribeError'\n    };\n\n    constructor(context:context.Context) {\n\n        super(context);\n\n        this.pubnub = null;\n        this.eventFilters = [];\n        this.timeout = null;\n        this.subscription = {\n            eventFilters: [],\n            expirationTime: '', // 2014-03-12T19:54:35.613Z\n            expiresIn: 0,\n            deliveryMode: {\n                transportType: 'PubNub',\n                encryption: false,\n                address: '',\n                subscriberKey: '',\n                secretKey: ''\n            },\n            id: '',\n            creationTime: '', // 2014-03-12T19:54:35.613Z\n            status: '', // Active\n            uri: ''\n        };\n\n    }\n\n    getPubnub() {\n\n        return this.context.getPubnub();\n\n    }\n\n    getCrypto() {\n\n        return this.context.getCryptoJS();\n\n    }\n\n    getPlatform() {\n\n        return platform.$get(this.context);\n\n    }\n\n    /**\n     * Creates or updates subscription if there is an active one\n     * @param {{events?:string[]}} [options] New array of events\n     * @returns {Promise}\n     */\n    register(options?:{events?:string[]}):Promise<r.Response> {\n\n        if (this.isSubscribed()) {\n            return this.renew(options);\n        } else {\n            return this.subscribe(options);\n        }\n\n    }\n\n    addEvents(events:string[]) {\n        this.eventFilters = this.eventFilters.concat(events);\n        return this;\n    }\n\n    setEvents(events:string[]) {\n        this.eventFilters = events;\n        return this;\n    }\n\n    getFullEventFilters() {\n\n        return this.eventFilters.map((event) => {\n            return this.getPlatform().apiUrl(event);\n        });\n\n    }\n\n    subscribe(options?:{events?:string[]}):Promise<r.Response> {\n\n        options = options || {};\n        if (options.events) this.eventFilters = options.events;\n\n        this.clearTimeout();\n\n        return <any>new (this.context.getPromise())((resolve, reject) => {\n\n            if (!this.eventFilters || !this.eventFilters.length) throw new Error('Events are undefined');\n\n            resolve(this.getPlatform().apiCall({\n                method: 'POST',\n                url: '/restapi/v1.0/subscription',\n                post: {\n                    eventFilters: this.getFullEventFilters(),\n                    deliveryMode: {\n                        transportType: 'PubNub'\n                    }\n                }\n            }));\n\n        }).then((ajax:r.Response) => {\n\n                    this.updateSubscription(ajax.data)\n                        .subscribeAtPubnub()\n                        .emit(this.events.subscribeSuccess, ajax.data);\n\n                    return ajax;\n\n                }).catch((e) => {\n\n                             this.unsubscribe()\n                                 .emit(this.events.subscribeError, e);\n\n                             throw e;\n\n                         });\n\n    }\n\n    renew(options?:{events?:string[]}):Promise<r.Response> {\n\n        options = options || {};\n        if (options.events) this.eventFilters = options.events;\n\n        this.clearTimeout();\n\n        return <any>new (this.context.getPromise())((resolve, reject) => {\n\n            if (!this.subscription || !this.subscription.id) throw new Error('Subscription ID is required');\n            if (!this.eventFilters || !this.eventFilters.length) throw new Error('Events are undefined');\n\n            resolve();\n\n        }).then(():Promise<r.Response> => {\n\n                    return this.getPlatform().apiCall({\n                        method: 'PUT',\n                        url: '/restapi/v1.0/subscription/' + this.subscription.id,\n                        post: {\n                            eventFilters: this.getFullEventFilters()\n                        }\n                    });\n\n                })\n            .then((ajax:any) => {\n\n                      this.updateSubscription(ajax.data)\n                          .emit(this.events.renewSuccess, ajax.data);\n\n                      return ajax;\n\n                  })\n            .catch((e):any => {\n\n                       this.unsubscribe()\n                           .emit(this.events.renewError, e);\n\n                       throw e;\n\n                   });\n\n    }\n\n    remove(options?:{async?:boolean}):Promise<r.Response> {\n\n        options = this.utils.extend({\n            async: true\n        }, options);\n\n        return <any>new (this.context.getPromise())((resolve, reject)  => {\n\n            if (!this.subscription || !this.subscription.id) throw new Error('Subscription ID is required');\n\n            resolve(this.getPlatform().apiCall({\n                async: !!options.async, // Warning! This is necessary because this method is used in beforeunload\n                                        // hook and has to be synchronous\n                method: 'DELETE',\n                url: '/restapi/v1.0/subscription/' + this.subscription.id\n            }));\n\n        }).then((ajax:r.Response) => {\n\n                    this.unsubscribe()\n                        .emit(this.events.removeSuccess, ajax);\n\n                    return ajax;\n\n                }).catch((e) => {\n\n                             this.emit(this.events.removeError, e);\n\n                             throw e;\n\n                         });\n\n    }\n\n    destroy():any { //TODO Fix any\n\n        this.unsubscribe();\n\n        this.log.info('RC.core.Subscription: Destroyed');\n\n        return super.destroy();\n\n    }\n\n    isSubscribed() {\n\n        return this.subscription &&\n            this.subscription.deliveryMode &&\n            this.subscription.deliveryMode.subscriberKey &&\n            this.subscription.deliveryMode.address;\n\n    }\n\n    protected setTimeout() {\n\n        var timeToExpiration = (this.subscription.expiresIn * 1000) - Subscription.renewHandicapMs;\n\n        this.timeout = setTimeout(() => {\n\n            this.renew({});\n\n        }, timeToExpiration);\n\n    }\n\n    protected clearTimeout() {\n\n        clearTimeout(this.timeout);\n\n    }\n\n    protected updateSubscription(subscription) {\n\n        this.clearTimeout();\n        this.subscription = subscription;\n        this.setTimeout();\n        return this;\n\n    }\n\n    /**\n     * Remove subscription and disconnect from PUBNUB\n     */\n    protected unsubscribe() {\n        this.clearTimeout();\n        if (this.pubnub && this.isSubscribed()) this.pubnub.unsubscribe({channel: this.subscription.deliveryMode.address});\n        this.subscription = null;\n        return this;\n    }\n\n    /**\n     * Do not use this method! Internal use only\n     * @param message\n     * @returns {Subscription}\n     */\n    notify(message) {\n\n        if (this.isSubscribed() && this.subscription.deliveryMode.encryptionKey) {\n\n            var CryptoJS = this.getCrypto();\n\n            var key = CryptoJS.enc.Base64.parse(this.subscription.deliveryMode.encryptionKey);\n            var data = CryptoJS.enc.Base64.parse(message);\n            var decrypted = CryptoJS.AES.decrypt({ciphertext: data}, key, {\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            }).toString(CryptoJS.enc.Utf8);\n            message = JSON.parse(decrypted);\n\n        }\n\n        this.emit(this.events.notification, message);\n\n        return this;\n\n    }\n\n    /**\n     * Do not use this method! Internal use only\n     * @returns {Subscription}\n     */\n    subscribeAtPubnub() {\n\n        if (!this.isSubscribed()) return this;\n\n        var PUBNUB = this.getPubnub();\n\n        this.pubnub = PUBNUB.init({\n            ssl: true,\n            subscribe_key: this.subscription.deliveryMode.subscriberKey\n        });\n\n        this.pubnub.ready();\n\n        this.pubnub.subscribe({\n            channel: this.subscription.deliveryMode.address,\n            message: (message, env, channel) => {\n\n                this.log.info('RC.core.Subscription: Incoming message', message);\n                this.notify(message);\n\n            },\n            connect: () => {\n                this.log.info('RC.core.Subscription: PUBNUB connected');\n            }\n        });\n\n        return this;\n\n    }\n\n}\n\nexport function $get(context:context.Context):Subscription {\n    return new Subscription(context);\n}\n\nexport interface ISubscription {\n    eventFilters:string[];\n    expirationTime:string; // 2014-03-12T19:54:35.613Z\n    expiresIn:number;\n    deliveryMode: {\n        transportType:string;\n        encryption:boolean;\n        address:string;\n        subscriberKey:string;\n        secretKey:string;\n    };\n    id:string;\n    creationTime:string; // 2014-03-12T19:54:35.613Z\n    status:string; // Active\n    uri: string;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Subscription.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('./Context');\n\nvar hasOwn = Object.prototype.hasOwnProperty,\n    toString = Object.prototype.toString,\n    rdigit = /\\d/,\n    class2type = {};\n\n// Populate the class2type map\n'Boolean Number String Function Array Date RegExp Object'.split(' ').forEach((name) => {\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n});\n\nexport class Utils {\n\n    constructor() {}\n\n    /**\n     * Ported from jQuery.fn.extend\n     * Optional first parameter makes deep copy\n     */\n    extend(targetObject:any, sourceObject:any, ...args) {\n\n        var options, name, src, copy, copyIsArray, clone,\n            target = arguments[0] || {},\n            i = 1,\n            length = arguments.length,\n            deep = false;\n\n        // Handle a deep copy situation\n        if (typeof target === \"boolean\") {\n            deep = target;\n\n            // skip the boolean and the target\n            target = arguments[i] || {};\n            i++;\n        }\n\n        // Handle case when target is a string or something (possible in deep copy)\n        if (typeof target !== \"object\" && !this.isFunction(target)) {\n            target = {};\n        }\n\n        for (; i < length; i++) {\n\n            // Only deal with non-null/undefined values\n            if ((options = arguments[i]) !== null) {\n\n                // Extend the base object\n                for (name in options) {\n\n                    src = target[name];\n                    copy = options[name];\n\n                    // Prevent never-ending loop\n                    if (target === copy) {\n                        continue;\n                    }\n\n                    // Recurse if we're merging plain objects or arrays\n                    if (deep && copy && (this.isPlainObject(copy) || (copyIsArray = this.isArray(copy)))) {\n\n                        if (copyIsArray) {\n                            copyIsArray = false;\n                            clone = src && this.isArray(src) ? src : [];\n                        } else {\n                            clone = src && this.isPlainObject(src) ? src : {};\n                        }\n\n                        // Never move original objects, clone them\n                        target[name] = this.extend(deep, clone, copy);\n\n                        // Don't bring in undefined values\n                    } else if (copy !== undefined) {\n\n                        target[name] = copy;\n\n                    }\n                }\n            }\n        }\n\n        // Return the modified object\n        return target;\n\n    }\n\n    forEach(object, cb) {\n\n        for (var i in object) {\n\n            if (!object.hasOwnProperty(i)) continue;\n\n            var res = cb(object[i], i);\n\n            if (res === false) break;\n\n        }\n\n    }\n\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n     * @param {object} parameters\n     * @returns {string}\n     */\n    queryStringify(parameters) {\n\n        var array = [];\n\n        this.forEach(parameters, (v, i) => {\n\n            if (this.isArray(v)) {\n                v.forEach((vv) => {\n                    array.push(encodeURIComponent(i) + '=' + encodeURIComponent(vv));\n                });\n            } else {\n                array.push(encodeURIComponent(i) + '=' + encodeURIComponent(v));\n            }\n\n        });\n\n        return array.join('&');\n\n    }\n\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n     * @param {string} queryString\n     * @returns {object}\n     */\n    parseQueryString(queryString) {\n\n        var argsParsed = {},\n            self = this;\n\n        queryString.split('&').forEach((arg) => {\n\n            arg = decodeURIComponent(arg);\n\n            if (arg.indexOf('=') == -1) {\n\n                argsParsed[arg.trim()] = true;\n\n            } else {\n\n                var pair = arg.split('='),\n                    key = pair[0].trim(),\n                    value = pair[1].trim();\n\n                if (key in argsParsed) {\n                    if (key in argsParsed && !self.isArray(argsParsed[key])) argsParsed[key] = [argsParsed[key]];\n                    argsParsed[key].push(value);\n                } else {\n                    argsParsed[key] = value;\n                }\n\n            }\n\n        });\n\n        return argsParsed;\n\n    }\n\n    /**\n     * Returns true if the passed value is valid email address.\n     * Checks multiple comma separated emails according to RFC 2822 if parameter `multiple` is `true`\n     */\n    isEmail(v:string, multiple:boolean):boolean {\n        if (!!multiple) {\n            //this Regexp is also suitable for multiple emails (comma separated)\n            return /^(?:[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?[ ,;]*)+$/i.test(v);\n        } else {\n            return /^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(v);\n        }\n\n    }\n\n    isPhoneNumber(v:string):boolean {\n        return (/\\+?1[0-9]{3}[0-9a-z]{7}/im.test(v.toString().split(/[^0-9a-z\\+]/im).join('')));\n    }\n\n    /**\n     * @param args\n     * @returns {Array}\n     */\n    argumentsToArray(args:any) {\n        return Array.prototype.slice.call(args || [], 0);\n    }\n\n    isDate(obj:any):boolean {\n        return this.type(obj) === \"date\";\n    }\n\n    isFunction(obj:any):boolean {\n        return this.type(obj) === \"function\";\n    }\n\n    isArray(obj:any):boolean {\n        return Array.isArray ? Array.isArray(obj) : this.type(obj) === \"array\";\n    }\n\n    // A crude way of determining if an object is a window\n    isWindow(obj:any):boolean {\n        return obj && typeof obj === \"object\" && \"setInterval\" in obj;\n    }\n\n    isNaN(obj:any):boolean {\n        return obj === null || !rdigit.test(obj) || isNaN(obj);\n    }\n\n    type(obj:any):string {\n        return obj === null\n            ? String(obj)\n            : class2type[toString.call(obj)] || \"object\";\n    }\n\n    isPlainObject(obj:any):boolean {\n\n        // Must be an Object.\n        // Because of IE, we also have to check the presence of the constructor property.\n        // Make sure that DOM nodes and window objects don't pass through, as well\n        if (!obj || this.type(obj) !== \"object\" || obj.nodeType || this.isWindow(obj)) {\n            return false;\n        }\n\n        // Not own constructor property must be Object\n        if (obj.constructor && !hasOwn.call(obj, \"constructor\") && !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n            return false;\n        }\n\n        // Own properties are enumerated firstly, so to speed up,\n        // if last one is own, then all properties are own.\n\n        var key;\n        for (key in obj) {}\n\n        return key === undefined || hasOwn.call(obj, key);\n\n    }\n\n    getProperty(obj:any, property:string):any {\n\n        return property\n            .split(/[.[\\]]/)\n            .reduce((res, part) => {\n                        if (!res) return undefined;\n                        return part ? res[part] : res;\n                    }, obj);\n\n    }\n\n    poll(fn, interval?:number, timeout?:any):any { //NodeJS.Timer|number\n\n        this.stopPolling(timeout);\n\n        interval = interval || 1000;\n\n        var next = (delay?:number):any => {\n\n            delay = delay || interval;\n\n            interval = delay;\n\n            return setTimeout(() => {\n\n                fn(next, delay);\n\n            }, delay);\n\n        };\n\n        return next();\n\n    }\n\n    stopPolling(timeout) {\n        if (timeout) clearTimeout(timeout);\n    }\n\n    parseString(s:any):string {\n        return s ? s.toString() : '';\n    }\n\n    parseNumber(n:any):number {\n        if (!n) return 0;\n        n = parseFloat(n);\n        return isNaN(n) ? 0 : n;\n    }\n\n}\n\nexport function $get(context:context.Context):Utils {\n    return context.createSingleton('Utils', ()=> {\n        return new Utils();\n    })\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Utils.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('./Context');\nimport utils = require('./Utils');\n\nexport class Validator {\n\n    private utils:utils.Utils;\n    private context:context.Context;\n\n    constructor(context:context.Context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n\n    validate(validators:IValidator[]):IValidatorResult {\n\n        var result = <IValidatorResult>{\n            errors: {},\n            isValid: true\n        };\n\n        result.errors = <any>validators.reduce((errors, validator) => {\n\n            var res = validator.validator();\n\n            if (res.length > 0) {\n                result.isValid = false;\n                errors[validator.field] = errors[validator.field] || [];\n                errors[validator.field] = errors[validator.field].concat(res);\n            }\n\n            return errors;\n\n        }, {});\n\n        return result;\n\n    }\n\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * @deprecated\n     */\n    email(value:string, multiple?:boolean) {\n        return ():Error[] => {\n            if (!value) return [];\n            return this.utils.isEmail(value, multiple) ? [] : [new Error('Value has to be a valid email')];\n        };\n    }\n\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * TODO International phone numbers\n     * @deprecated\n     */\n    phone(value:string) {\n        return ():Error[] => {\n            if (!value) return [];\n            return this.utils.isPhoneNumber(value) ? [] : [new Error('Value has to be a valid US phone number')];\n        };\n    }\n\n    required(value:any) {\n        return ():Error[] => {\n            return !value ? [new Error('Field is required')] : [];\n        };\n    }\n\n    length(value:string, max?:number, min?:number) {\n        return ():Error[] => {\n\n            var errors = [];\n\n            if (!value) return errors;\n\n            value = value.toString();\n\n            if (min && value.length < min) errors.push(new Error('Minimum length of ' + min + ' characters is required'));\n            if (max && value.length > max) errors.push(new Error('Maximum length of ' + max + ' characters is required'));\n\n            return errors;\n\n        };\n    }\n\n\n}\n\nexport function $get(context:context.Context):Validator {\n    return context.createSingleton('Validator', ()=> {\n        return new Validator(context);\n    });\n}\n\nexport interface IValidator {\n    field:string;\n    validator:(...args)=>Error[];\n}\n\nexport interface IValidatorErrors {\n    [id:string]: Error[];\n}\n\nexport interface IValidatorResult {\n    isValid:boolean;\n    errors:IValidatorErrors;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Validator.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Account extends helper.Helper {\n\n    createUrl() {\n        return '/account/~';\n    }\n\n}\n\nexport function $get(context:context.Context):Account {\n    return context.createSingleton('Account', ()=> {\n        return new Account(context);\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Account.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\n\nexport class BlockedNumber extends helper.Helper {\n\n    private validator:validator.Validator;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.validator = validator.$get(context);\n    }\n\n    createUrl(options?:IBlockedNumberOptions, id?:string) {\n\n        options = options || {};\n\n        return '/account/~/extension/' +\n            (options.extensionId ? options.extensionId : '~') +\n            '/blocked-number' +\n            (id ? '/' + id : '');\n\n    }\n\n    validate(item:IBlockedNumber) {\n\n        return this.validator.validate([\n            {field: 'phoneNumber', validator: this.validator.phone(item.phoneNumber)},\n            {field: 'phoneNumber', validator: this.validator.required(item.phoneNumber)},\n            {field: 'name', validator: this.validator.required(item.name)}\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):BlockedNumber {\n    return context.createSingleton('BlockedNumber', ()=> {\n        return new BlockedNumber(context);\n    });\n}\n\nexport interface IBlockedNumber extends helper.IHelperObject {\n    name:string;\n    phoneNumber:string;\n}\n\nexport interface IBlockedNumberOptions {\n    extensionId?:string;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/BlockedNumber.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\nimport list = require('../core/List');\nimport presence = require('./Presence');\nimport contact = require('./Contact');\n\nexport class Call extends helper.Helper {\n\n    private list:list.List;\n    private presence:presence.Presence;\n    private contact:contact.Contact;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.list = list.$get(context);\n        this.contact = contact.$get(context);\n        this.presence = presence.$get(context);\n    }\n\n    createUrl(options?:ICallOptions, id?:string) {\n\n        options = options || {};\n\n        if (!('personal' in options) && !('extensionId' in options)) options.personal = true;\n\n        return '/account/~/' +\n            (options.personal || options.extensionId ? ('extension/' + (options.extensionId || '~') + '/') : '') +\n            (options.active ? 'active-calls' : 'call-log') +\n            (id ? '/' + id : '');\n\n    }\n\n    getSessionId(call:ICall) {\n        return (call && call.sessionId);\n    }\n\n    isInProgress(call:ICall) {\n        return (call && call.result == 'In Progress');\n    }\n\n    isAlive(call:ICall) {\n        return (call && call.availability == 'Alive');\n    }\n\n    isInbound(call:ICall) {\n        return (call && call.direction == 'Inbound');\n    }\n\n    isOutbound(call:ICall) {\n        return !this.isInbound(call);\n    }\n\n    isMissed(call:ICall) {\n        return (call && call.result == 'Missed');\n    }\n\n    isFindMe(call:ICall) {\n        return (call && call.action == 'FindMe');\n    }\n\n    getCallerInfo(call:ICall):ICallerInfo {\n        return this.isInbound(call) ? call.from : call.to;\n    }\n\n    getAllCallerInfos(call:ICall):ICallerInfo[] {\n        return [this.getCallerInfo(call)].concat(this.isInbound(call) ? call.to : call.from);\n    }\n\n    formatDuration(call:ICall) {\n\n        function addZero(v) {\n            return (v < 10) ? '0' + v : v;\n        }\n\n        var duration = parseInt(<any>call.duration),\n            hours = Math.floor(duration / (60 * 60)),\n            mins = Math.floor((duration % (60 * 60)) / 60),\n            secs = Math.floor(duration % 60);\n\n        return (hours ? hours + ':' : '') + addZero(mins) + ':' + addZero(secs);\n\n    }\n\n    filter(options?:ICallFilterOptions):(call:ICall)=>boolean {\n\n        options = this.utils.extend({\n            alive: true,\n            direction: '',\n            type: ''\n        }, options);\n\n        return this.list.filter([\n            //{condition: options.alive, filterFn: this.isAlive},\n            {filterBy: 'direction', condition: options.direction},\n            {filterBy: 'type', condition: options.type}\n        ]);\n\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'startTime'\n        }, options));\n\n    }\n\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in\n     * all calls Warning, this function may be performance-consuming, reduce the amount of items passed to contacts\n     * and calls\n     */\n    attachContacts(contacts:contact.IContact[], calls:ICall[], options?:contact.IContactMatchOptions) {\n\n        // Flatten all caller infos from all messages\n        var callerInfos = calls.reduce((callerInfos, call) => {\n\n            return callerInfos.concat(this.getAllCallerInfos(call));\n\n        }, []);\n\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n\n    }\n\n    /**\n     * Check whether pair of calls are two legs of RingOut\n     */\n    checkMergeability(outboundRingOutCall:ICall, inboundCall:ICall, options?:ICallProcessingOptions):boolean {\n\n        var getTime = (dateString) => {\n            return (new Date(dateString)).getTime();\n        };\n\n        return (\n        (!options.strict || outboundRingOutCall.action && outboundRingOutCall.action.toLowerCase().indexOf('ringout') != -1) &&\n            // Check directions\n        outboundRingOutCall.direction == 'Outbound' &&\n        inboundCall.direction == 'Inbound' &&\n            // Check that start times are equal or close enough\n        ((!inboundCall.startTime && !outboundRingOutCall.startTime) || Math.abs(getTime(inboundCall.startTime) - getTime(outboundRingOutCall.startTime)) < (options.maxStartTimeDiscrepancy || 5000)) &&\n            // Check that numbers match\n        inboundCall.from.phoneNumber == outboundRingOutCall.to.phoneNumber &&\n        (inboundCall.to.phoneNumber == outboundRingOutCall.from.phoneNumber || inboundCall.to.name == outboundRingOutCall.from.name) //TODO Maybe name check is not required\n        );\n\n    }\n\n    combineCalls(outboundRingOutCall:ICall, inboundCall:ICall, options?:ICallProcessingOptions):ICall[] {\n\n        options = options || <any>{};\n\n        var result = [];\n\n        outboundRingOutCall.hasSubsequent = true;\n\n        if (options.merge) {\n\n            outboundRingOutCall.duration = (outboundRingOutCall.duration > inboundCall.duration) ? outboundRingOutCall.duration : inboundCall.duration;\n\n            // TODO Usually information from inbound call is more accurate for unknown reason\n            outboundRingOutCall.from = inboundCall.to;\n            outboundRingOutCall.to = inboundCall.from;\n\n            // Push only one \"merged\" outbound call\n            result.push(outboundRingOutCall);\n\n        } else {\n\n            // Mark next call as subsequent\n            inboundCall.subsequent = true;\n\n            inboundCall.startTime = outboundRingOutCall.startTime; // Needed for sort\n\n            // Push both calls, first outbound then inbound\n            result.push(outboundRingOutCall);\n            result.push(inboundCall);\n\n        }\n\n        return result;\n\n    }\n\n    /**\n     * (!) Experimental (!)\n     *\n     * Calls in Recent Calls (Call Log) or Active Calls arrays can be combined if they are, for example, two legs of\n     * one RingOut. The logic that stands behind this process is simple:\n     *\n     * - Calls must have opposite directions\n     * - Must have been started within a certain limited time frame\n     * - Must have same phone numbers in their Caller Info sections (from/to)\n     *\n     * ```js\n     * var processedCalls = Call.processCalls(callsArray, {strict: false, merge: true});\n     * ```\n     *\n     * Flags:\n     *\n     * - if `strict` is `true` then only calls with RingOut in `action` property will be affected\n     * - `merge` &mdash; controls whether to merge calls (reducing the length of array) or give them `subsequent`\n     *     and `hasSubsequent` properties\n     */\n    processCalls(calls:ICall[], options?:ICallProcessingOptions):ICall[] {\n\n        var processedCalls = [],\n            callsToMerge = [],\n            self = this;\n\n        // Iterate through calls\n        calls.forEach((call:ICall) => {\n\n            var merged = false;\n\n            call.subsequent = false;\n            call.hasSubsequent = false;\n\n            // Second cycle to find other leg\n            // It is assumed that call is the outbound, secondCall is inbound\n            calls.some((secondCall:ICall) => {\n\n                if (call === secondCall) return false;\n\n                if (self.checkMergeability(call, secondCall, options)) {\n\n                    // Push to result array merged call\n                    processedCalls = processedCalls.concat(self.combineCalls(call, secondCall, options));\n\n                    // Push to array calls that are merged\n                    callsToMerge.push(call);\n                    callsToMerge.push(secondCall);\n\n                    merged = true;\n\n                }\n\n                return merged;\n\n            });\n\n        });\n\n        // After all calls are merged, add non-merged calls\n        calls.forEach((call:ICall) => {\n\n            if (callsToMerge.indexOf(call) == -1) processedCalls.push(call);\n\n        });\n\n        return processedCalls;\n\n    }\n\n    /**\n     * Converts Presence's ActiveCall array into regular Calls array\n     */\n    parsePresenceCalls(activeCalls:presence.IPresenceCall[]):ICall[] {\n\n        return activeCalls.map((activeCall:presence.IPresenceCall):ICall => {\n\n            return {\n                id: activeCall.id,\n                uri: '',\n                sessionId: activeCall.sessionId,\n                from: {phoneNumber: activeCall.from},\n                to: {phoneNumber: activeCall.to},\n                direction: activeCall.direction,\n                startTime: '',\n                duration: 0,\n                type: '',\n                action: '',\n                result: this.presence.isCallInProgress(activeCall) ? 'In Progress' : activeCall.telephonyStatus,\n                telephonyStatus: activeCall.telephonyStatus // non-standard property for compatibility\n            };\n\n        });\n\n    }\n\n    getSignature(call:ICall) {\n\n        var cleanup = (phoneNumber) => {\n            return (phoneNumber || '').toString().replace(/[^0-9]/ig, '');\n        };\n\n        return call.direction + '|' + (call.from && cleanup(call.from.phoneNumber)) + '|' + (call.to && cleanup(call.to.phoneNumber));\n\n    }\n\n    mergePresenceCalls(presenceCalls:ICall[], presence:presence.IPresence):ICall[] {\n\n        var currentDate = new Date(),\n\n            activeCalls = this\n                .parsePresenceCalls(presence && presence.activeCalls || [])\n                .map((call:ICall) => {\n                         // delete property to make sure it is skipped during merge\n                         delete call.startTime;\n                         return call;\n                     });\n\n        presenceCalls = this.merge(presenceCalls || [], activeCalls, this.getSessionId, true);\n\n        presenceCalls.forEach((call:ICall) => {\n            if (!call.startTime) call.startTime = currentDate.toISOString();\n        });\n\n        return presenceCalls;\n\n    }\n\n    mergeAll(presenceCalls:ICall[], calls:ICall[], activeCalls:ICall[]):ICall[] {\n\n        // First, merge calls into presence calls\n        var presenceAndCalls = this.merge(presenceCalls || [], calls || [], this.getSessionId, true);\n\n        // Second, merge activeCalls into previous result\n        return this.merge(presenceAndCalls, activeCalls || [], this.getSessionId, true);\n\n    }\n\n}\n\nexport function $get(context:context.Context):Call {\n    return context.createSingleton('Call', ()=> {\n        return new Call(context);\n    });\n}\n\nexport interface ICall extends helper.IHelperObject {\n    sessionId?:string;\n    availability?:string;\n    startTime?:string;\n    duration?:number;\n    type?:string;\n    direction?:string;\n    action?:string;\n    result?:string;\n    to?:ICallerInfo;\n    from?:ICallerInfo;\n    subsequent?:boolean; // added during processing\n    hasSubsequent?:boolean; // added during processing\n    telephonyStatus?:string; // added during processing\n}\n\nexport interface ICallOptions {\n    extensionId?:string;\n    active?:boolean;\n    personal?:boolean;\n}\n\nexport interface ICallProcessingOptions {\n    maxStartTimeDiscrepancy?:number;\n    strict?:boolean;\n    merge?:boolean;\n}\n\nexport interface ICallFilterOptions {\n    extensionId?:string;\n    direction?:string;\n    type?:string;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/CallerInfo.html\n */\nexport interface ICallerInfo {\n    phoneNumber?:string;\n    extensionNumber?:string;\n    name?:string;\n    location?:string;\n    contact?:contact.IContact; // corresponding contact (added by attachContacts methods)\n    contactPhone?:string; // contact's phone as written in contact (added by attachContacts methods)\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Call.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\nimport list = require('../core/List');\nimport call = require('./Call');\n\nexport class Contact extends helper.Helper {\n    \n    private list:list.List;\n    private validator:validator.Validator;\n    \n    constructor(context:context.Context) {\n        super(context);\n        this.list = list.$get(context);\n        this.validator = validator.$get(context);\n    }\n    \n    createUrl(options?:IContactOptions, id?:string) {\n\n        options = options || {};\n\n        var root = '/account/~/extension/' +\n                   (options.extensionId ? options.extensionId : '~') +\n                   '/address-book';\n\n        if (options.sync) return root + '-sync';\n\n        return root +\n               (options.groupId ? '/group/' + options.groupId + '/contact' : '/contact') +\n               (id ? '/' + id : '');\n\n    }\n\n    /**\n     * Returns all values of the given fields if value exists\n     */\n    protected getFieldValues(where:IContact, fields?:string[], asHash?:boolean):any {\n\n        return fields.reduce((result:string[], field:string) => {\n\n            if (where && where[field]) {\n                if (asHash) {\n                    result[field] = where[field];\n                } else {\n                    result.push(where[field]);\n                }\n            }\n\n            return result;\n\n        }, asHash ? {} : []);\n\n    }\n\n    getFullName(contact:IContact) {\n        return this.getFieldValues(contact, this.nameFields).join(' ');\n    }\n\n    getEmails(contact:IContact, asHash?:boolean):string[] {\n        return this.getFieldValues(contact, this.emailFields, asHash);\n    }\n\n    getPhones(contact:IContact, asHash?:boolean):string[] {\n        return this.getFieldValues(contact, this.phoneFields, asHash);\n    }\n\n    getFaxes(contact:IContact, asHash?:boolean):string[] {\n        return this.getFieldValues(contact, this.faxFields, asHash);\n    }\n\n    getAddresses(contact:IContact, asHash?:boolean):IContactAddress[] {\n        return this.getFieldValues(contact, this.addressFields, asHash);\n    }\n\n    isAlive(contact:IContact) {\n        return (contact.availability == 'Alive');\n    }\n\n    /**\n     * Matches a contact against a given string, returns null if nothing found\n     */\n    match(contact:IContact, string:string, options?:IContactMatchOptions):any {\n\n        options = this.utils.extend({\n            fields: [].concat(this.nameFields, this.emailFields, this.phoneFields, this.faxFields, this.otherFields),\n            inAddresses: true,\n            transformFn: (value, options) => {\n                return value ? value.toString().toLocaleLowerCase() : '';\n            },\n            strict: false\n        }, options);\n\n        string = options.transformFn(string, options);\n\n        var found = null;\n\n        if (!string) return found;\n\n        var matchWith = (value) => {\n\n            // skip unnecessary cycles if match has been found\n            if (found) return;\n\n            var transformed = options.transformFn(value, options);\n\n            if (!transformed) return;\n\n            var match = (options.strict ? transformed == string : transformed.indexOf(string) > -1);\n\n            if (match) found = value;\n\n        };\n\n        // Search in fields\n        options.fields.forEach((field) => {\n            matchWith(contact[field]);\n        });\n\n        // Search in addresses, skip unnecessary cycles if match has been found\n        if (options.inAddresses && !found) this.addressFields.forEach((field) => {\n\n            // skip unnecessary cycles if match has been found or no field value\n            if (!contact[field] || found) return;\n\n            this.addressSubFields.forEach((subField) => {\n                matchWith(contact[field][subField]);\n            });\n\n        });\n\n        return found;\n\n    }\n\n    /**\n     * Matches a contact against a given phone number, returns null if nothing found\n     */\n    matchAsPhone(contact:IContact, phone:string, options?:IContactMatchOptions) {\n\n        return this.match(contact, phone, this.utils.extend({\n            fields: [].concat(this.phoneFields, this.faxFields),\n            inAddresses: false,\n            transformFn: (value, options) => {\n                return value ? value.toString().replace(/[^\\d\\w]/ig, '') : ''; //TODO Trickier removal reqired;\n            },\n            strict: false\n        }, options));\n\n    }\n\n\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all given {ICallerInfo}\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and callerInfos\n     */\n    attachToCallerInfos(callerInfos:call.ICallerInfo[], contacts:IContact[], options?:IContactMatchOptions) {\n\n        var self = this,\n            callerInfoIndex = this.index(callerInfos, (callerInfo:call.ICallerInfo) => {\n                return callerInfo.phoneNumber;\n            }, true);\n\n        this.utils.forEach(callerInfoIndex, (indexedCallerInfos, phoneNumber) => {\n\n            var foundContact:IContact = null,\n                foundPhone = null;\n\n            contacts.some((contact:IContact) => {\n\n                foundPhone = self.matchAsPhone(contact, phoneNumber, options);\n\n                if (foundPhone) foundContact = contact;\n\n                return foundPhone;\n\n            });\n\n            if (foundContact) {\n\n                indexedCallerInfos.forEach((callerInfo:call.ICallerInfo) => {\n                    callerInfo.contact = foundContact;\n                    callerInfo.contactPhone = foundPhone;\n                });\n\n            }\n\n        });\n\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            extractFn: (contact:IContact, options) => {\n                return this.getFullName(contact);\n            }\n        }, options));\n\n    }\n\n    /**\n     * TODO Add filtering by group http://jira.ringcentral.com/browse/SDK-4\n     */\n    filter(options?:IContactFilterOptions) {\n\n        options = this.utils.extend({\n            alive: true,\n            startsWith: '',\n            phonesOnly: false,\n            faxesOnly: false\n        }, options);\n\n        return this.list.filter([\n            {condition: options.alive, filterFn: this.isAlive},\n            {condition: options.startsWith, filterFn: (item, opts) => { return this.match(item, opts.condition); }},\n            {condition: options.phonesOnly, filterFn: (item, opts) => { return (this.getPhones(item).length > 0); }},\n            {condition: options.faxesOnly, filterFn: (item, opts) => { return (this.getFaxes(item).length > 0); }}\n        ]);\n\n    }\n\n    validate(item:IContact) {\n\n        return this.validator.validate([\n            {field: 'firstName', validator: this.validator.required(item.firstName)},\n            {field: 'lastName', validator: this.validator.required(item.lastName)},\n            {field: 'email', validator: this.validator.email(item.email)},\n            {field: 'email2', validator: this.validator.email(item.email2)},\n            {field: 'email3', validator: this.validator.email(item.email3)}\n        ]);\n\n    }\n\n    phoneFields = [\n        'homePhone',\n        'homePhone2',\n        'businessPhone',\n        'businessPhone2',\n        'mobilePhone',\n        'companyPhone',\n        'assistantPhone',\n        'carPhone',\n        'otherPhone',\n        'callbackPhone'\n    ];\n\n    faxFields = [\n        'businessFax',\n        'otherFax'\n    ];\n\n    addressFields = [\n        'homeAddress',\n        'businessAddress',\n        'otherAddress'\n    ];\n\n    addressSubFields = [\n        'street',\n        'city',\n        'state',\n        'zip'\n    ];\n\n    nameFields = [\n        'firstName',\n        'middleName',\n        'lastName',\n        'nickName'\n    ];\n\n    otherFields = [\n        'company',\n        'jobTitle',\n        'webPage',\n        'notes'\n    ];\n\n    emailFields = [\n        'email',\n        'email2',\n        'email3'\n    ];\n    \n    \n}\n\nexport function $get(context:context.Context):Contact {\n    return context.createSingleton('Contact', ()=> {\n        return new Contact(context);\n    });\n}\n\nexport interface IContactOptions {\n    extensionId?:string;\n    groupId?:string;\n    sync?:boolean;\n}\n\nexport interface IContactFilterOptions {\n    startsWith?:string;\n    alive?:boolean;\n    phonesOnly?:boolean;\n    faxesOnly?:boolean;\n}\n\nexport interface IContactMatchOptions {\n    transformFn?:(object:IContact, options?:IContactMatchOptions)=>any;\n    strict?:boolean;\n    inAddresses?:boolean;\n    fields?:string[];\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch16s04.html#ContactAddressInfo\n */\nexport interface IContactAddress {\n    country?:string;\n    street?:string;\n    city?:string;\n    state?:string;\n    zip?:string;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/ch18s04.html#ContactInfo\n */\nexport interface IContactBrief {\n    firstName?:string;\n    lastName?:string;\n    company?:string;\n    email?:string;\n    businessAddress?:IContactAddress;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch16s04.html#ContactInfo\n */\nexport interface IContact extends helper.IHelperObject {\n    availability?:string;\n\n    // Names:\n    firstName?:string;\n    lastName?:string;\n    company?:string;\n    nickName?:string;\n    middleName?:string;\n\n    // Emails:\n    email?:string;\n    email2?:string;\n    email3?:string;\n\n    // Addresses:\n    businessAddress?:IContactAddress;\n    homeAddress?:IContactAddress;\n    otherAddress?:IContactAddress;\n\n    // Phones:\n    homePhone?:string;\n    homePhone2?:string;\n    businessPhone?:string;\n    businessPhone2?:string;\n    mobilePhone?:string;\n    companyPhone?:string;\n    assistantPhone?:string;\n    carPhone?:string;\n    otherPhone?:string;\n    callbackPhone?:string;\n\n    // Faxes:\n    businessFax?:string;\n    otherFax?:string;\n    \n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Contact.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\n\nexport class ContactGroup extends helper.Helper {\n    \n    private validator:validator.Validator;\n    \n    constructor(context:context.Context){\n        super(context);\n        this.validator = validator.$get(context);\n    }\n    \n    createUrl(options?:any, id?:string) {\n        return '/account/~/extension/~/address-book/group' + (id ? '/' + id : '');\n    }\n\n    validate(item:IContactGroup) {\n\n        return this.validator.validate([\n            {field: 'groupName', validator: this.validator.required(item && item.groupName)}\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):ContactGroup {\n    return context.createSingleton('ContactGroup', ()=> {\n        return new ContactGroup(context);\n    });\n}\n\nexport interface IContactGroup extends helper.IHelperObject {\n    notes?:string;\n    groupName?:string;\n    contactsCount?:number;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/ContactGroup.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Conferencing extends helper.Helper {\n\n    createUrl() {\n        return '/account/~/extension/~/conferencing';\n    }\n\n}\n\nexport function $get(context:context.Context):Conferencing {\n    return context.createSingleton('Conferencing', ()=> {\n        return new Conferencing(context);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Conferencing.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Country extends helper.Helper {\n\n    createUrl(options?:any, id?:string) {\n        return '/dictionary/country';\n    }\n\n}\n\nexport function $get(context:context.Context):Country {\n    return context.createSingleton('Country', ()=> {\n        return new Country(context);\n    });\n}\n\nexport interface ICountry extends helper.IHelperObject {\n    name?:string;\n    isoCode?:string;\n    callingCode?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Country.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\nimport extension = require('./Extension');\nimport deviceModel = require('./DeviceModel');\nimport shippingMethod = require('./ShippingMethod');\nimport phoneNumber = require('./PhoneNumber');\n\nexport class Device extends helper.Helper {\n\n    private validator:validator.Validator;\n    private extension:extension.Extension;\n    private deviceModel:deviceModel.DeviceModel;\n\n    constructor(context:context.Context){\n        super(context);\n        this.validator = validator.$get(context);\n        this.extension = extension.$get(context);\n        this.deviceModel = deviceModel.$get(context);\n    }\n\n    createUrl(options?:IDeviceOptions, id?:string) {\n\n        options = options || {};\n\n        if (options.order) return '/account/~/order';\n\n        return '/account/~' +\n               (options.extensionId ? '/extension/' + options.extensionId : '') +\n               '/device' +\n               (id ? '/' + id : '');\n\n    }\n\n    /**\n     * @param {IDevice} item\n     */\n    validate(item:IDevice) {\n\n        return this.validator.validate([\n            {field: 'emergencyServiceAddress-street', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.street)},\n            {field: 'emergencyServiceAddress-city', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.city)},\n            {field: 'emergencyServiceAddress-state', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.state)},\n            {field: 'emergencyServiceAddress-country', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.country)},\n            {field: 'emergencyServiceAddress-zip', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.zip)},\n            {field: 'emergencyServiceAddress-customerName', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.customerName)},\n            {field: 'extension', validator: this.validator.required(this.extension.getId(item && item.extension))},\n            {field: 'model', validator: this.validator.required(this.deviceModel.getId(item && item.model))}\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):Device {\n    return context.createSingleton('Device', ()=> {\n        return new Device(context);\n    });\n}\n\nexport interface IContactGroup extends helper.IHelperObject {\n    notes?:string;\n    groupName?:string;\n    contactsCount?:number;\n}\n\nexport interface IDevice extends helper.IHelperObject {\n    type?:string;\n    name?:string;\n    serial?:string;\n    model?:deviceModel.IDeviceModel;\n    extension?:extension.IExtensionShort; //TODO IExtension?\n    emergencyServiceAddress?:IDeviceAddress;\n    shipping?:IDeviceShipping;\n    phoneLines?:IDevicePhoneLine[];\n}\n\nexport interface IDeviceOrder {\n    devices?:IDevice[];\n}\n\nexport interface IDeviceAddress {\n    street?:string;\n    street2?:string;\n    city?:string;\n    state?:string;\n    country?:string;\n    zip?:string;\n    customerName?:string;\n}\n\nexport interface IDeviceShipping {\n    address?:IDeviceAddress;\n    method?:shippingMethod.IShippingMethod;\n    status?:string;\n}\n\nexport interface IDevicePhoneLine {\n    lineType?:string;\n    phoneInfo?:phoneNumber.IPhoneNumber;\n}\n\nexport interface IDeviceOptions {\n    extensionId?:string;\n    order?:boolean;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Device.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class DeviceModel extends helper.Helper {\n    \n    getId(device:IDeviceModel) {\n\n        if (!device) return null;\n\n        return device.id + (\n                device.addons && device.addons[0]\n                    ? '-' + device.addons[0].id + '-' + device.addons[0].count\n                    : ''\n            );\n\n    }\n\n    /**\n     * Remove extra textual information from device\n     * @exceptionalCase Platform does not understand full device info\n     */\n    cleanForSaving(device?:IDeviceModel):IDeviceModel {\n\n        if (!device) return null;\n\n        delete device.name;\n        delete device.deviceClass;\n\n        if (device.addons && device.addons.length > 0) {\n\n            device.addons.forEach((addon, i) => {\n                delete device.addons[i].name;\n            });\n\n        } else {\n\n            delete device.addons;\n\n        }\n\n        return device;\n\n    }\n\n    /**\n     * TODO Remove when http://jira.ringcentral.com/browse/SDK-1 is done\n     */\n    devices:IDeviceModel[] = [\n        {\n            id: '-1',\n            name: 'Softphone'\n        },\n        {\n            id: '0',\n            name: 'Existing device'\n        },\n        {\n            id: '19',\n            name: 'Cisco SPA-525G2 Desk Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '23',\n            name: 'Polycom IP 321 Basic IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '30',\n            name: 'Polycom IP 550 HD Manager IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '37',\n            name: 'Polycom IP 6000 Conference Phone',\n            deviceClass: 'Conference Phone'\n        },\n        {\n            id: '40',\n            name: 'Polycom IP 335 HD IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '51',\n            name: 'Cisco SPA-303 Desk Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '16',\n            name: 'Cisco SPA-508G Desk Phone with 1 Expansion Module',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '1'\n                }\n            ]\n        },\n        {\n            id: '16',\n            name: 'Cisco SPA-508G Desk Phone with 2 Expansion Modules',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '2'\n                }\n            ]\n        },\n        {\n            id: '16',\n            name: 'Cisco SPA-508G Desk Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '19',\n            name: 'Cisco SPA-525G2 Desk Phone with 1 Expansion Module',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '1'\n                }\n            ]\n        },\n        {\n            id: '19',\n            name: 'Cisco SPA-525G2 Desk Phone with 2 Expansion Modules\tDesk Phone',\n            addons: [\n                {\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '2'\n                }\n            ]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone with 1 Expansion Module',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '1',\n                    name: 'Plolycom Expansion',\n                    count: '1'\n                }\n            ]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone with 2 Expansion Modules',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '1',\n                    name: 'Plolycom Expansion',\n                    count: '2'\n                }\n            ]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone with 3 Expansion Modules',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '1',\n                    name: 'Plolycom Expansion',\n                    count: '3'\n                }\n            ]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '52',\n            name: 'Cisco SPA-122 ATA',\n            deviceClass: 'Analog Adapter'\n        },\n        {\n            id: '53',\n            name: 'Polycom VVX-500 Color Touchscreen',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '54',\n            name: 'Polycom VVX-310 Gigabit Ethernet Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '55',\n            name: 'Polycom VVX-410 Color Gigabit Ethernet Phone',\n            deviceClass: 'Desk Phone'\n        }\n    ];\n    \n}\n\nexport function $get(context:context.Context):DeviceModel {\n    return context.createSingleton('DeviceModel', ()=> {\n        return new DeviceModel(context);\n    });\n}\n\nexport interface IDeviceModel extends helper.IHelperObject {\n    name?:string;\n    deviceClass?:string;\n    addons?:IDeviceModelAddon[];\n}\n\nexport interface IDeviceModelAddon extends helper.IHelperObject {\n    name?:string;\n    count?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/DeviceModel.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\nimport contact = require('./Contact');\nimport service = require('./Service');\nimport country = require('./Country');\nimport timezone = require('./Timezone');\nimport language = require('./Language');\nimport presence = require('./Presence');\n\nexport class Extension extends helper.Helper {\n\n    private list:list.List;\n\n    type = {\n        department: 'Department',\n        user: 'User',\n        announcement: 'Announcement',\n        voicemail: 'Voicemail'\n    };\n\n    constructor(context:context.Context) {\n        super(context);\n        this.list = list.$get(context);\n    }\n\n    createUrl(options?:IExtensionOptions, id?:string) {\n\n        options = options || {};\n\n        return '/account/~' +\n            (options.departmentId ? '/department/' + options.departmentId + '/members' : '/extension') +\n            (id ? '/' + id : '');\n\n    }\n\n    isUser(extension?:IExtension) {\n        return extension && extension.type == this.type.user;\n    }\n\n    isDepartment(extension?:IExtension) {\n        return extension && extension.type == this.type.department;\n    }\n\n    isAnnouncement(extension?:IExtension) {\n        return extension && extension.type == this.type.announcement;\n    }\n\n    isVoicemail(extension?:IExtension) {\n        return extension && extension.type == this.type.voicemail;\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'extensionNumber',\n            compareFn: this.list.numberComparator\n        }, options));\n\n    }\n\n    filter(options?:IExtensionFilterOptions) {\n\n        options = this.utils.extend({\n            search: '',\n            type: ''\n        }, options);\n\n        return this.list.filter([\n            {filterBy: 'type', condition: options.type},\n            {\n                condition: options.search.toLocaleLowerCase(),\n                filterFn: this.list.containsFilter,\n                extractFn: (item) => {\n                    return (item.name && (item.name.toLocaleLowerCase() + ' ')) +\n                        (item.extensionNumber && item.extensionNumber.toString().toLocaleLowerCase());\n                }\n            }\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):Extension {\n    return context.createSingleton('Extension', ()=> {\n        return new Extension(context);\n    });\n}\n\nexport interface IExtensionOptions {\n    departmentId?:string;\n}\n\nexport interface IExtensionFilterOptions {\n    search?:string;\n    type?:string;\n}\n\nexport interface IExtensionRegionalSettings {\n    timezone?:timezone.ITimezone;\n    language?:language.ILanguage;\n    homeCountry?:country.ICountry;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/ch18s04.html#ShortExtensionInfo\n */\nexport interface IExtensionShort extends helper.IHelperObject {\n    extensionNumber?:string;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/ch18s04.html#ExtensionInfo\n */\nexport interface IExtension extends helper.IHelperObject {\n    extensionNumber?:string;\n    name?:string;\n    type?:string;\n    status?:string;\n    setupWizardState?:string;\n    contact?:contact.IContactBrief;\n    regionalSettings?:IExtensionRegionalSettings;\n    serviceFeatures?:service.IServiceFeature[];\n    presence?:presence.IPresence; // added by helper\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Extension.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\n\nexport class ForwardingNumber extends helper.Helper {\n\n    private list:list.List;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.list = list.$get(context);\n    }\n\n    createUrl(options?:{extensionId?:string}, id?:string) {\n\n        options = options || {};\n\n        return '/account/~/extension/' + (options.extensionId || '~') + '/forwarding-number' + (id ? '/' + id : '');\n\n    }\n\n    getId(forwardingNumber) {\n        return forwardingNumber && (forwardingNumber.id || (forwardingNumber.phoneNumber)); //TODO @exceptionalCase\n    }\n\n    hasFeature(phoneNumber:IForwardingNumber, feature) {\n        return (!!phoneNumber && !!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'label'\n        }, options));\n\n    }\n\n    filter(options?:{features:string[]}) {\n\n        options = this.utils.extend({\n            features: []\n        }, options);\n\n        return this.list.filter([{\n            condition: options.features.length,\n            filterFn: (item) => {\n\n                return options.features.some((feature) => {\n                    return this.hasFeature(item, feature);\n                });\n\n            }\n        }]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):ForwardingNumber {\n    return context.createSingleton('ForwardingNumber', ()=> {\n        return new ForwardingNumber(context);\n    });\n}\n\nexport interface IForwardingNumber extends helper.IHelperObject {\n    label?:string;\n    phoneNumber?:string;\n    flipNumber?:string;\n    features?:string[];\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/ForwardingNumber.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Language extends helper.Helper {\n\n    languages:ILanguage[] = [\n        {\n            id: '1033',\n            name: 'English (US)'\n        },\n        {\n            id: '3084',\n            name: 'French (Canada)'\n        }\n    ];\n\n}\n\nexport function $get(context:context.Context):Language {\n    return context.createSingleton('Language', ()=> {\n        return new Language(context);\n    });\n}\n\nexport interface ILanguage extends helper.IHelperObject {\n    name?:string;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Language.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\nimport state = require('./State');\n\nexport class Location extends helper.Helper {\n\n    private list:list.List;\n    private state:state.State;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.list = list.$get(context);\n        this.state = state.$get(context);\n    }\n\n    createUrl() {\n        return '/dictionary/location';\n    }\n\n    filter(options?:ILocationFilterOptions) {\n\n        var uniqueNPAs = [];\n\n        options = this.utils.extend({\n            stateId: '',\n            onlyUniqueNPA: false\n        }, options);\n\n        return this.list.filter([\n            {\n                condition: options.stateId,\n                filterFn: (item:ILocation, opts) => {\n                    return (this.state.getId(item.state) == opts.condition);\n                }\n            },\n            {\n                condition: options.onlyUniqueNPA,\n                filterFn: (item:ILocation, opts) => {\n                    if (uniqueNPAs.indexOf(item.npa) == -1) {\n                        uniqueNPAs.push(item.npa);\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n            }\n        ]);\n\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        options = this.utils.extend({\n            sortBy: 'npa'\n        }, options);\n\n        if (options.sortBy == 'nxx') {\n\n            options.extractFn = (item:ILocation) => {\n                return (parseInt(item.npa) * 1000000) + parseInt(item.nxx);\n            };\n\n            options.compareFn = this.list.numberComparator;\n\n        }\n\n        return this.list.comparator(options);\n\n    }\n    \n}\n\nexport function $get(context:context.Context):Location {\n    return context.createSingleton('Location', ()=> {\n        return new Location(context);\n    });\n}\n\nexport interface ILocation extends helper.IHelperObject {\n    name?:string;\n    isoCode?:string;\n    npa?:string;\n    nxx?:string;\n    state?:state.IState;\n}\n\nexport interface ILocationFilterOptions {\n    stateId?:string;\n    onlyUniqueNPA?:boolean;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Location.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\nimport validator = require('../core/Validator');\nimport subscription = require('../core/Subscription');\nimport platform = require('../core/Platform');\nimport contact = require('./Contact');\nimport call = require('./Call');\n\nexport class Message extends helper.Helper {\n\n    private list:list.List;\n    private contact:contact.Contact;\n    private platform:platform.Platform;\n    private validator:validator.Validator;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.contact = contact.$get(context);\n        this.list = list.$get(context);\n        this.platform = platform.$get(context);\n        this.validator = validator.$get(context);\n    }\n    \n    /**\n     *\n     * @exceptionalCase Different endpoint when creating SMS/Pager\n     */\n    createUrl(options?:IMessageOptions, id?:string|number) {\n\n        options = options || {};\n\n        var root = '/account/~/extension/' + (options.extensionId || '~');\n\n        if (options.fax) return root + '/fax';\n        if (options.sms) return root + '/sms';\n        if (options.pager) return root + '/company-pager';\n        if (options.sync) return root + '/message-sync';\n\n        return root + '/message-store' + (id ? '/' + id : '');\n\n    }\n\n    isInbound(message):IMessage {\n        return (message && message.direction == 'Inbound');\n    }\n\n    isOutbound(message):IMessage {\n        return !this.isInbound(message);\n    }\n\n    isSMS(message:IMessage) {\n        return (message && message.type == 'SMS');\n    }\n\n    isPager(message:IMessage):IMessage {\n        return (message && message.type == 'Pager');\n    }\n\n    isVoiceMail(message:IMessage) {\n        return (message && message.type == 'VoiceMail');\n    }\n\n    isFax(message:IMessage) {\n        return (message && message.type == 'Fax');\n    }\n\n    isAlive(message:IMessage) {\n        //return (this.availability != 'Deleted' && this.availability != 'Purged');\n        return (message && message.availability == 'Alive');\n    }\n\n    isRead(message:IMessage) {\n        return (message.readStatus == 'Read');\n    }\n\n    setIsRead(message:IMessage, isRead:boolean):IMessage {\n        message.readStatus = (!!isRead) ? 'Read' : 'Unread';\n        return message;\n    }\n\n    getAttachmentUrl(message:IMessage, i:number) {\n        return message.attachments[i] ? this.platform.apiUrl(message.attachments[i].uri, {addMethod: 'GET', addServer: true, addToken: true}) : '';\n    }\n\n    getAttachmentContentType(message:IMessage, i:number) {\n        return message.attachments[i] ? message.attachments[i].contentType : '';\n    }\n\n    getSubscription(options?:IMessageOptions):subscription.Subscription {\n\n        return subscription.$get(this.context).setEvents([this.createUrl(options)]);\n\n    }\n\n    /**\n     * Returns from-phones if inbound (oterwise to-phones)\n     */\n    getCallerInfos(message:IMessage):call.ICallerInfo[] {\n        return this.isInbound(message) ? [message.from] : message.to;\n    }\n\n    /**\n     * Returns first from-phones if inbound (oterwise to-phones), then vice-versa\n     */\n    getAllCallerInfos(message:IMessage):call.ICallerInfo[] {\n        return this.getCallerInfos(message).concat(this.isInbound(message) ? message.to : [message.from]);\n    }\n\n    /**\n     * TODO Compare as dates\n     */\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'creationTime'\n        }, options));\n\n    }\n\n    filter(options?:IMessageFilterOptions) {\n\n        options = this.utils.extend({\n            search: '',\n            alive: true,\n            direction: '',\n            conversationId: '',\n            readStatus: ''\n        }, options);\n\n        return this.list.filter([\n            {condition: options.alive, filterFn: this.isAlive},\n            {filterBy: 'type', condition: options.type},\n            {filterBy: 'direction', condition: options.direction},\n            {filterBy: 'conversationId', condition: options.conversationId},\n            {filterBy: 'readStatus', condition: options.readStatus},\n            {filterBy: 'subject', condition: options.search, filterFn: this.list.containsFilter}\n        ]);\n\n    }\n\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in all messages\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and messages\n     */\n    attachContacts(contacts:contact.IContact[], messages:IMessage[], options?:contact.IContactMatchOptions) {\n\n        var self = this;\n\n        // Flatten all caller infos from all messages\n        var callerInfos = messages.reduce((callerInfos, message) => {\n\n            return callerInfos.concat(self.getAllCallerInfos(message));\n\n        }, []);\n\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n\n    }\n\n    shorten(message:IMessage):IMessageShort {\n\n        return {\n            from: message.from,\n            to: message.to,\n            text: message.subject\n        };\n\n    }\n\n    validateSMS(item:IMessage) {\n\n        return this.validator.validate([\n            {field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to[0].phoneNumber'))},\n            {field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.phoneNumber'))},\n            {field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject'))},\n            {field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160)}\n        ]);\n\n    }\n\n    validatePager(item:IMessage) {\n\n        return this.validator.validate([\n            {field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to.extensionNumber'))},\n            {field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.extensionNumber'))},\n            {field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject'))},\n            {field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160)}\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):Message {\n    return context.createSingleton('Message', ()=> {\n        return new Message(context);\n    });\n}\n\nexport interface IMessage extends helper.IHelperObject{\n    to?:call.ICallerInfo[];\n    from?:call.ICallerInfo;\n    type?:string;\n    creationTime?:string;\n    readStatus?:string;\n    priority?:string;\n    attachments?:IMessageAttachment[];\n    direction?:string;\n    availability?:string;\n    subject?:string;\n    messageStatus?:string;\n    conversationId?:string;\n    lastModifiedTime?:string;\n}\n\nexport interface IMessageShort {\n    to?:call.ICallerInfo[];\n    from?:call.ICallerInfo;\n    text?:string;\n}\n\nexport interface IMessageOptions {\n    fax?:boolean;\n    sync?:boolean;\n    sms?:boolean;\n    pager?:boolean;\n    extensionId?:string;\n}\n\nexport interface IMessageFilterOptions {\n    alive?:boolean;\n    conversationId?:string;\n    direction?:string;\n    readStatus?:string;\n    type?:string;\n    search?:string;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch18s01.html#MessageAttachmentInfo\n */\nexport interface IMessageFaxAttachment extends helper.IHelperObject {\n    contentType?:string;\n    content?:string;\n    fileName?:string;\n}\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch18s01.html#MessageAttachmentInfo\n */\nexport interface IMessageAttachment extends helper.IHelperObject {\n    contentType?:string;\n    vmDuration?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Message.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\nimport extension = require('./Extension');\n\nexport class PhoneNumber extends helper.Helper {\n\n    private extension:extension.Extension;\n    private list:list.List;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.extension = extension.$get(context);\n        this.list = list.$get(context);\n    }\n\n    createUrl(options?:IPhoneNumberOptions, id?:string) {\n\n        options = options || {};\n\n        if (options.lookup) return '/number-pool/lookup';\n\n        return '/account/~' +\n            (options.extensionId ? '/extension/' + options.extensionId : '') +\n            '/phone-number' +\n            (id ? '/' + id : '');\n\n    }\n\n    isSMS(phoneNumber:IPhoneNumber) {\n        return this.hasFeature(phoneNumber, 'SmsSender');\n    }\n\n    hasFeature(phoneNumber:IPhoneNumber, feature:string) {\n        return (!!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    }\n\n    reserve(phoneNumber:IPhoneNumber, date:any) {\n        phoneNumber.reservedTill = new Date(date).toISOString();\n    }\n\n    unreserve(phoneNumber:IPhoneNumber) {\n        phoneNumber.reservedTill = null;\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            extractFn: (item:IPhoneNumber) => {\n                return item.usageType + '-' +\n                    item.paymentType + '-' +\n                    item.type;\n            }\n        }, options));\n\n    }\n\n    /**\n     * TODO Add other filtering methods http://jira.ringcentral.com/browse/SDK-5\n     */\n    filter(options?:IPhoneNumberFilterOptions) {\n\n        options = this.utils.extend({\n            usageType: '',\n            paymentType: '',\n            type: '',\n            features: []\n        }, options);\n\n        return this.list.filter([\n            {filterBy: 'usageType', condition: options.usageType},\n            {filterBy: 'paymentType', condition: options.paymentType},\n            {filterBy: 'type', condition: options.type},\n            {\n                condition: options.features.length,\n                filterFn: (item:IPhoneNumber) => {\n\n                    return options.features.some((feature:string) => {\n                        return this.hasFeature(item, feature);\n                    });\n\n                }\n            }\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):PhoneNumber {\n    return context.createSingleton('PhoneNumber', ()=> {\n        return new PhoneNumber(context);\n    });\n}\n\nexport interface IPhoneNumber extends helper.IHelperObject {\n    phoneNumber?:string;\n    paymentType?:string; // External, TollFree, Local\n    location?:string;\n    type?:string; // VoiceFax, FaxOnly, VoiceOnly\n    usageType?:string; // CompanyNumber, DirectNumber, CompanyFaxNumber, ForwardedNumber\n    features?:string[]; // CallerId, SmsSender\n    reservedTill?:string;\n    error?:string;\n}\n\nexport interface IPhoneNumberOptions {\n    extensionId?:string;\n    lookup?:boolean;\n    countryId?:string;\n    paymentType?:string;\n    npa?:string;\n    nxx?:string;\n    line?:string;\n    exclude?:string;\n}\n\nexport interface IPhoneNumberFilterOptions {\n    paymentType?:string;\n    usageType?:string;\n    type?:string;\n    features?:string[];\n}\n\nexport interface IPhoneNumberOrder {\n    records?:IPhoneNumber[];\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/PhoneNumber.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport subscription = require('../core/Subscription');\nimport extension = require('./Extension');\n\nexport class Presence extends helper.Helper {\n\n    private extension:extension.Extension;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.extension = extension.$get(context);\n    }\n\n    createUrl(options?:IPresenceOptions, id?:string) {\n\n        options = options || {};\n\n        return '/account/~/extension/' + (id || '~') + '/presence' + (options.detailed ? '?detailedTelephonyState=true' : '');\n\n    }\n\n    getId(presence:IPresence) {\n        return presence && (this.extension.getId(presence.extension) || presence.extensionId);\n    }\n\n    isAvailable(presence:IPresence) {\n        return presence && presence.presenceStatus == 'Available';\n    }\n\n    getSubscription(options?:IPresenceOptions, id?:string):subscription.Subscription {\n\n        return subscription.$get(this.context).setEvents([this.createUrl(options, id)]);\n\n    }\n\n    updateSubscription(subscription:subscription.Subscription,\n                       presences:IPresence[],\n                       options?:IPresenceOptions):subscription.Subscription {\n\n        var events = presences.map(this.getId, this).map((id) => {\n            return this.createUrl(options, id);\n        }, this);\n\n        subscription.addEvents(events);\n\n        return subscription;\n\n    }\n\n    attachToExtensions(extensions:extension.IExtension[], presences:IPresence[], merge?:boolean) {\n\n        var index = this.index(presences);\n\n        extensions.forEach((ex:extension.IExtension) => {\n\n            var presence = index[this.extension.getId(ex)];\n\n            if (presence) {\n                if ('presence' in ex && merge) {\n                    this.utils.extend(ex.presence, presence);\n                } else {\n                    ex.presence = presence;\n                }\n            }\n\n        }, this);\n\n        return this;\n\n    }\n\n    isCallInProgress(presenceCall:IPresenceCall) {\n        return (presenceCall && presenceCall.telephonyStatus != 'NoCall');\n    }\n\n\n}\n\nexport function $get(context:context.Context):Presence {\n    return context.createSingleton('Presence', ()=> {\n        return new Presence(context);\n    });\n}\n\nexport interface IPresence extends helper.IHelperObject {\n    extension?:extension.IExtension;\n    activeCalls?:IPresenceCall[];\n    presenceStatus?:string; // Offline, Busy, Available\n    telephonyStatus?:string; // NoCall, CallConnected, Ringing, OnHold\n    userStatus?:string; // Offline, Busy, Available\n    dndStatus?:string; // TakeAllCalls, DoNotAcceptAnyCalls, DoNotAcceptDepartmentCalls, TakeDepartmentCallsOnly\n    allowSeeMyPresence?:boolean;\n    ringOnMonitoredCall?:boolean;\n    pickUpCallsOnHold?:boolean;\n    extensionId?:string;\n    sequence?:number;\n}\n\nexport interface IPresenceCall {\n    direction?:string;\n    from?:string;\n    to?:string;\n    sessionId?:string;\n    id?:string;\n    telephonyStatus?:string;\n}\n\nexport interface IPresenceOptions {\n    detailed?:boolean;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Presence.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\nimport call = require('./Call');\n\nexport class Ringout extends helper.Helper {\n\n    private validator:validator.Validator;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.validator = validator.$get(context);\n    }\n\n    createUrl(options?:{extensionId?:string}, id?:string) {\n\n        options = options || {};\n\n        return '/account/~/extension/' + (options.extensionId || '~') + '/ringout' + (id ? '/' + id : '');\n\n    }\n\n    resetAsNew(object:IRingout) {\n        object = super.resetAsNew(object);\n        if (object) {\n            delete object.status;\n        }\n        return object;\n    }\n\n    isInProgress(ringout:IRingout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'InProgress';\n    }\n\n    isSuccess(ringout:IRingout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'Success';\n    }\n\n    isError(ringout:IRingout) {\n        return !this.isNew(ringout) && !this.isInProgress(ringout) && !this.isSuccess(ringout);\n    }\n\n    validate(item:IRingout) {\n\n        return this.validator.validate([\n            {field: 'to', validator: this.validator.required(item && item.to && item.to.phoneNumber)},\n            {field: 'from', validator: this.validator.required(item && item.from && item.from.phoneNumber)}\n        ]);\n\n    }\n    \n}\n\nexport function $get(context:context.Context):Ringout {\n    return context.createSingleton('Ringout', ()=> {\n        return new Ringout(context);\n    });\n}\n\nexport interface IRingout extends helper.IHelperObject {\n    from?:call.ICallerInfo; // (!) ONLY PHONE NUMBER\n    to?:call.ICallerInfo; // (!) ONLY PHONE NUMBER\n    callerId?:call.ICallerInfo; // (!) ONLY PHONE NUMBER\n    playPrompt?:boolean;\n    status?:{\n        callStatus?:string;\n        callerStatus?:string;\n        calleeStatus?:string\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Ringout.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Service extends helper.Helper {\n    \n    createUrl() {\n        return '/account/~/service-info';\n    }\n\n    isEnabled(feature:string, serviceFeatures:IServiceFeature[]) {\n\n        return serviceFeatures.reduce((value, f) => {\n\n            if (f.featureName == feature) value = f.enabled;\n            return value;\n\n        }, false);\n\n    }\n\n    isServiceFeatureEnabledMethod(feature) {\n        return (serviceFeatures) => {\n            return this.isEnabled(feature, serviceFeatures);\n        };\n    }\n\n    isSmsEnabled = this.isServiceFeatureEnabledMethod('SMS');\n    isSmsReceivingEnabled = this.isServiceFeatureEnabledMethod('SMSReceiving');\n    isPresenceEnabled = this.isServiceFeatureEnabledMethod('Presence');\n    isRingOutEnabled = this.isServiceFeatureEnabledMethod('RingOut');\n    isInternationalCallingEnabled = this.isServiceFeatureEnabledMethod('InternationalCalling');\n    isDndEnabled = this.isServiceFeatureEnabledMethod('DND');\n    isFaxEnabled = this.isServiceFeatureEnabledMethod('Fax');\n    isFaxReceivingEnabled = this.isServiceFeatureEnabledMethod('FaxReceiving');\n    isVoicemailEnabled = this.isServiceFeatureEnabledMethod('Voicemail');\n    isPagerEnabled = this.isServiceFeatureEnabledMethod('Pager');\n    isPagerReceivingEnabled = this.isServiceFeatureEnabledMethod('PagerReceiving');\n    isVoipCallingEnabled = this.isServiceFeatureEnabledMethod('VoipCalling');\n    isVideoConferencingEnabled = this.isServiceFeatureEnabledMethod('VideoConferencing');\n    isSalesForceEnabled = this.isServiceFeatureEnabledMethod('SalesForce');\n    isIntercomEnabled = this.isServiceFeatureEnabledMethod('Intercom');\n    isPagingEnabled = this.isServiceFeatureEnabledMethod('Paging');\n    isConferencingEnabled = this.isServiceFeatureEnabledMethod('Conferencing');\n    isFreeSoftPhoneLinesEnabled = this.isServiceFeatureEnabledMethod('FreeSoftPhoneLines');\n    isHipaaComplianceEnabled = this.isServiceFeatureEnabledMethod('HipaaCompliance');\n    isCallParkEnabled = this.isServiceFeatureEnabledMethod('CallPark');\n    isOnDemandCallRecordingEnabled = this.isServiceFeatureEnabledMethod('OnDemandCallRecording');\n    \n}\n\nexport function $get(context:context.Context):Service {\n    return context.createSingleton('Service', ()=> {\n        return new Service(context);\n    });\n}\n\nexport interface IService extends helper.IHelperObject {\n    serviceFeatures?:IServiceFeature[];\n    servicePlanName?:string;\n}\n\nexport interface IServiceFeature {\n    featureName?:string;\n    enabled?:boolean;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Service.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class ShippingMethod extends helper.Helper {\n\n    /**\n     * TODO Remove when http://jira.ringcentral.com/browse/SDK-3 id done\n     */\n    shippingMethods:IShippingMethod[] = [\n        {\n            id: '1',\n            name: 'Ground Shipping (5-7 business days)'\n        },\n        {\n            id: '2',\n            name: '2-days Shipping'\n        },\n        {\n            id: '3',\n            name: 'Overnight Shipping'\n        }\n    ];\n\n}\n\nexport function $get(context:context.Context):ShippingMethod {\n    return context.createSingleton('ShippingMethod', ()=> {\n        return new ShippingMethod(context);\n    });\n}\n\nexport interface IShippingMethod extends helper.IHelperObject {\n    name?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/ShippingMethod.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\nimport country = require('./Country');\n\nexport class State extends helper.Helper {\n    \n    private countryHelper:country.Country;\n    private list:list.List;\n\n    constructor(context:context.Context){\n        super(context);\n        this.countryHelper = country.$get(context);\n        this.list = list.$get(context);\n    }\n    \n    createUrl() {\n        return '/dictionary/state';\n    }\n\n    filter(options?:IStateOptions) {\n\n        options = this.utils.extend({\n            countryId: ''\n        }, options);\n\n        return this.list.filter([\n            {\n                condition: options.countryId,\n                filterFn: (item:IState, opts) => {\n                    return (this.countryHelper.getId(item.country) == opts.condition);\n                }\n            }\n        ]);\n\n    }\n    \n}\n\nexport function $get(context:context.Context):State {\n    return context.createSingleton('State', ()=> {\n        return new State(context);\n    });\n}\n\nexport interface IState extends helper.IHelperObject {\n    name?:string;\n    isoCode?:string;\n    country?:country.ICountry;\n}\n\nexport interface IStateOptions {\n    countryId?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/State.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Timezone extends helper.Helper {\n\n    createUrl() {\n        return '/dictionary/timezone';\n    }\n\n}\n\nexport function $get(context:context.Context):Timezone {\n    return context.createSingleton('Timezone', ()=> {\n        return new Timezone(context);\n    });\n}\n\nexport interface ITimezone extends helper.IHelperObject {\n    name?:string;\n    description?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Timezone.ts\n **/","// Version: 3.7.10\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     JSON     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\n(window['JSON'] && window['JSON']['stringify']) || (function () {\n    window['JSON'] || (window['JSON'] = {});\n\n    function toJSON(key) {\n        try      { return this.valueOf() }\n        catch(e) { return null }\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ?\n            '\"' + string.replace(escapable, function (a) {\n                var c = meta[a];\n                return typeof c === 'string' ? c :\n                    '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + '\"' :\n            '\"' + string + '\"';\n    }\n\n    function str(key, holder) {\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            partial,\n            mind  = gap,\n            value = holder[key];\n\n        if (value && typeof value === 'object') {\n            value = toJSON.call( value, key );\n        }\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n            return String(value);\n\n        case 'object':\n\n            if (!value) {\n                return 'null';\n            }\n\n            gap += indent;\n            partial = [];\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n                v = partial.length === 0 ? '[]' :\n                    gap ? '[\\n' + gap +\n                            partial.join(',\\n' + gap) + '\\n' +\n                                mind + ']' :\n                          '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? '{}' :\n                gap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' +\n                        mind + '}' : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON['stringify'] !== 'function') {\n        JSON['stringify'] = function (value, replacer, space) {\n            var i;\n            gap = '';\n            indent = '';\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                     typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n            return str('', {'': value});\n        };\n    }\n\n    if (typeof JSON['parse'] !== 'function') {\n        // JSON is parsed on the server for security.\n        JSON['parse'] = function (text) {return eval('('+text+')')};\n    }\n}());\nvar NOW             = 1\n,   READY           = false\n,   READY_BUFFER    = []\n,   PRESENCE_SUFFIX = '-pnpres'\n,   DEF_WINDOWING   = 10     // MILLISECONDS.\n,   DEF_TIMEOUT     = 10000  // MILLISECONDS.\n,   DEF_SUB_TIMEOUT = 310    // SECONDS.\n,   DEF_KEEPALIVE   = 60     // SECONDS (FOR TIMESYNC).\n,   SECOND          = 1000   // A THOUSAND MILLISECONDS.\n,   URLBIT          = '/'\n,   PARAMSBIT       = '&'\n,   PRESENCE_HB_THRESHOLD = 5\n,   PRESENCE_HB_DEFAULT  = 30\n,   SDK_VER         = '3.7.10'\n,   REPL            = /{([\\w\\-]+)}/g;\n\n/**\n * UTILITIES\n */\nfunction unique() { return'x'+ ++NOW+''+(+new Date) }\nfunction rnow()   { return+new Date }\n\n/**\n * NEXTORIGIN\n * ==========\n * var next_origin = nextorigin();\n */\nvar nextorigin = (function() {\n    var max = 20\n    ,   ori = Math.floor(Math.random() * max);\n    return function( origin, failover ) {\n        return origin.indexOf('pubsub.') > 0\n            && origin.replace(\n             'pubsub', 'ps' + (\n                failover ? generate_uuid().split('-')[0] :\n                (++ori < max? ori : ori=1)\n            ) ) || origin;\n    }\n})();\n\n\n/**\n * Build Url\n * =======\n *\n */\nfunction build_url( url_components, url_params ) {\n    var url    = url_components.join(URLBIT)\n    ,   params = [];\n\n    if (!url_params) return url;\n\n    each( url_params, function( key, value ) {\n        var value_str = (typeof value == 'object')?JSON['stringify'](value):value;\n        (typeof value != 'undefined' &&\n            value != null && encode(value_str).length > 0\n        ) && params.push(key + \"=\" + encode(value_str));\n    } );\n\n    url += \"?\" + params.join(PARAMSBIT);\n    return url;\n}\n\n/**\n * UPDATER\n * =======\n * var timestamp = unique();\n */\nfunction updater( fun, rate ) {\n    var timeout\n    ,   last   = 0\n    ,   runnit = function() {\n        if (last + rate > rnow()) {\n            clearTimeout(timeout);\n            timeout = setTimeout( runnit, rate );\n        }\n        else {\n            last = rnow();\n            fun();\n        }\n    };\n\n    return runnit;\n}\n\n/**\n * GREP\n * ====\n * var list = grep( [1,2,3], function(item) { return item % 2 } )\n */\nfunction grep( list, fun ) {\n    var fin = [];\n    each( list || [], function(l) { fun(l) && fin.push(l) } );\n    return fin\n}\n\n/**\n * SUPPLANT\n * ========\n * var text = supplant( 'Hello {name}!', { name : 'John' } )\n */\nfunction supplant( str, values ) {\n    return str.replace( REPL, function( _, match ) {\n        return values[match] || _\n    } );\n}\n\n/**\n * timeout\n * =======\n * timeout( function(){}, 100 );\n */\nfunction timeout( fun, wait ) {\n    return setTimeout( fun, wait );\n}\n\n/**\n * uuid\n * ====\n * var my_uuid = generate_uuid();\n */\nfunction generate_uuid(callback) {\n    var u = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,\n    function(c) {\n        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n    if (callback) callback(u);\n    return u;\n}\n\nfunction isArray(arg) {\n  return !!arg && typeof arg !== 'string' && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n  //return !!arg && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n}\n\n/**\n * EACH\n * ====\n * each( [1,2,3], function(item) { } )\n */\nfunction each( o, f) {\n    if ( !o || !f ) return;\n\n    if ( isArray(o) )\n        for ( var i = 0, l = o.length; i < l; )\n            f.call( o[i], o[i], i++ );\n    else\n        for ( var i in o )\n            o.hasOwnProperty    &&\n            o.hasOwnProperty(i) &&\n            f.call( o[i], i, o[i] );\n}\n\n/**\n * MAP\n * ===\n * var list = map( [1,2,3], function(item) { return item + 1 } )\n */\nfunction map( list, fun ) {\n    var fin = [];\n    each( list || [], function( k, v ) { fin.push(fun( k, v )) } );\n    return fin;\n}\n\n/**\n * ENCODE\n * ======\n * var encoded_data = encode('path');\n */\nfunction encode(path) { return encodeURIComponent(path) }\n\n/**\n * Generate Subscription Channel List\n * ==================================\n * generate_channel_list(channels_object);\n */\nfunction generate_channel_list(channels, nopresence) {\n    var list = [];\n    each( channels, function( channel, status ) {\n        if (nopresence) {\n            if(channel.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel);\n            }\n        } else {\n            if (status.subscribed) list.push(channel);\n        }\n    });\n    return list.sort();\n}\n\n/**\n * Generate Subscription Channel Groups List\n * ==================================\n * generate_channel_group_list(channels_groups object);\n */\nfunction generate_channel_group_list(channel_groups, nopresence) {\n    var list = [];\n    each(channel_groups, function( channel_group, status ) {\n        if (nopresence) {\n            if(channel_group.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel_group);\n            }\n        } else {\n            if (status.subscribed) list.push(channel_group);\n        }\n    });\n    return list.sort();\n}\n\n// PUBNUB READY TO CONNECT\nfunction ready() { timeout( function() {\n    if (READY) return;\n    READY = 1;\n    each( READY_BUFFER, function(connect) { connect() } );\n}, SECOND ); }\n\nfunction PNmessage(args) {\n    msg = args || {'apns' : {}},\n    msg['getPubnubMessage'] = function() {\n        var m = {};\n\n        if (Object.keys(msg['apns']).length) {\n            m['pn_apns'] = {\n                    'aps' : {\n                        'alert' : msg['apns']['alert'] ,\n                        'badge' : msg['apns']['badge']\n                    }\n            }\n            for (var k in msg['apns']) {\n                m['pn_apns'][k] = msg['apns'][k];\n            }\n            var exclude1 = ['badge','alert'];\n            for (var k in exclude1) {\n                delete m['pn_apns'][exclude1[k]];\n            }\n        }\n\n\n\n        if (msg['gcm']) {\n            m['pn_gcm'] = {\n                'data' : msg['gcm']\n            }\n        }\n\n        for (var k in msg) {\n            m[k] = msg[k];\n        }\n        var exclude = ['apns','gcm','publish', 'channel','callback','error'];\n        for (var k in exclude) {\n            delete m[exclude[k]];\n        }\n\n        return m;\n    };\n    msg['publish'] = function() {\n\n        var m = msg.getPubnubMessage();\n\n        if (msg['pubnub'] && msg['channel']) {\n            msg['pubnub'].publish({\n                'message' : m,\n                'channel' : msg['channel'],\n                'callback' : msg['callback'],\n                'error' : msg['error']\n            })\n        }\n    };\n    return msg;\n}\n\nfunction PN_API(setup) {\n    var SUB_WINDOWING =  +setup['windowing']   || DEF_WINDOWING\n    ,   SUB_TIMEOUT   = (+setup['timeout']     || DEF_SUB_TIMEOUT) * SECOND\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   TIME_CHECK    = setup['timecheck']     || 0\n    ,   NOLEAVE       = setup['noleave']       || 0\n    ,   PUBLISH_KEY   = setup['publish_key']   || 'demo'\n    ,   SUBSCRIBE_KEY = setup['subscribe_key'] || 'demo'\n    ,   AUTH_KEY      = setup['auth_key']      || ''\n    ,   SECRET_KEY    = setup['secret_key']    || ''\n    ,   hmac_SHA256   = setup['hmac_SHA256']\n    ,   SSL           = setup['ssl']            ? 's' : ''\n    ,   ORIGIN        = 'http'+SSL+'://'+(setup['origin']||'pubsub.pubnub.com')\n    ,   STD_ORIGIN    = nextorigin(ORIGIN)\n    ,   SUB_ORIGIN    = nextorigin(ORIGIN)\n    ,   CONNECT       = function(){}\n    ,   PUB_QUEUE     = []\n    ,   CLOAK         = true\n    ,   TIME_DRIFT    = 0\n    ,   SUB_CALLBACK  = 0\n    ,   SUB_CHANNEL   = 0\n    ,   SUB_RECEIVER  = 0\n    ,   SUB_RESTORE   = setup['restore'] || 0\n    ,   SUB_BUFF_WAIT = 0\n    ,   TIMETOKEN     = 0\n    ,   RESUMED       = false\n    ,   CHANNELS      = {}\n    ,   CHANNEL_GROUPS       = {}\n    ,   SUB_ERROR     = function(){}\n    ,   STATE         = {}\n    ,   PRESENCE_HB_TIMEOUT  = null\n    ,   PRESENCE_HB          = validate_presence_heartbeat(\n        setup['heartbeat'] || setup['pnexpires'] || 0, setup['error']\n    )\n    ,   PRESENCE_HB_INTERVAL = setup['heartbeat_interval'] || (PRESENCE_HB / 2) -1\n    ,   PRESENCE_HB_RUNNING  = false\n    ,   NO_WAIT_FOR_PENDING  = setup['no_wait_for_pending']\n    ,   COMPATIBLE_35 = setup['compatible_3.5']  || false\n    ,   xdr           = setup['xdr']\n    ,   params        = setup['params'] || {}\n    ,   error         = setup['error']      || function() {}\n    ,   _is_online    = setup['_is_online'] || function() { return 1 }\n    ,   jsonp_cb      = setup['jsonp_cb']   || function() { return 0 }\n    ,   db            = setup['db']         || {'get': function(){}, 'set': function(){}}\n    ,   CIPHER_KEY    = setup['cipher_key']\n    ,   UUID          = setup['uuid'] || ( !setup['unique_uuid'] && db && db['get'](SUBSCRIBE_KEY+'uuid') || '')\n    ,   USE_INSTANCEID = setup['instance_id'] || false\n    ,   INSTANCEID     = ''\n    ,   _poll_timer\n    ,   _poll_timer2;\n\n    if (PRESENCE_HB === 2) PRESENCE_HB_INTERVAL = 1;\n\n    var crypto_obj    = setup['crypto_obj'] ||\n        {\n            'encrypt' : function(a,key){ return a},\n            'decrypt' : function(b,key){return b}\n        };\n\n    function _get_url_params(data) {\n        if (!data) data = {};\n        each( params , function( key, value ) {\n            if (!(key in data)) data[key] = value;\n        });\n        return data;\n    }\n\n    function _object_to_key_list(o) {\n        var l = []\n        each( o , function( key, value ) {\n            l.push(key);\n        });\n        return l;\n    }\n    function _object_to_key_list_sorted(o) {\n        return _object_to_key_list(o).sort();\n    }\n\n    function _get_pam_sign_input_from_params(params) {\n        var si = \"\";\n        var l = _object_to_key_list_sorted(params);\n\n        for (var i in l) {\n            var k = l[i]\n            si += k + \"=\" + encode(params[k]) ;\n            if (i != l.length - 1) si += \"&\"\n        }\n        return si;\n    }\n\n    function validate_presence_heartbeat(heartbeat, cur_heartbeat, error) {\n        var err = false;\n\n        if (typeof heartbeat === 'undefined') {\n            return cur_heartbeat;\n        }\n\n        if (typeof heartbeat === 'number') {\n            if (heartbeat > PRESENCE_HB_THRESHOLD || heartbeat == 0)\n                err = false;\n            else\n                err = true;\n        } else if(typeof heartbeat === 'boolean'){\n            if (!heartbeat) {\n                return 0;\n            } else {\n                return PRESENCE_HB_DEFAULT;\n            }\n        } else {\n            err = true;\n        }\n\n        if (err) {\n            error && error(\"Presence Heartbeat value invalid. Valid range ( x > \" + PRESENCE_HB_THRESHOLD + \" or x = 0). Current Value : \" + (cur_heartbeat || PRESENCE_HB_THRESHOLD));\n            return cur_heartbeat || PRESENCE_HB_THRESHOLD;\n        } else return heartbeat;\n    }\n\n    function encrypt(input, key) {\n        return crypto_obj['encrypt'](input, key || CIPHER_KEY) || input;\n    }\n    function decrypt(input, key) {\n        return crypto_obj['decrypt'](input, key || CIPHER_KEY) ||\n               crypto_obj['decrypt'](input, CIPHER_KEY) ||\n               input;\n    }\n\n    function error_common(message, callback) {\n        callback && callback({ 'error' : message || \"error occurred\"});\n        error && error(message);\n    }\n    function _presence_heartbeat() {\n\n        clearTimeout(PRESENCE_HB_TIMEOUT);\n\n        if (!PRESENCE_HB_INTERVAL || PRESENCE_HB_INTERVAL >= 500 ||\n            PRESENCE_HB_INTERVAL < 1 ||\n            (!generate_channel_list(CHANNELS,true).length  && !generate_channel_group_list(CHANNEL_GROUPS, true).length ) )\n        {\n            PRESENCE_HB_RUNNING = false;\n            return;\n        }\n\n        PRESENCE_HB_RUNNING = true;\n        SELF['presence_heartbeat']({\n            'callback' : function(r) {\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            },\n            'error' : function(e) {\n                error && error(\"Presence Heartbeat unable to reach Pubnub servers.\" + JSON.stringify(e));\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            }\n        });\n    }\n\n    function start_presence_heartbeat() {\n        !PRESENCE_HB_RUNNING && _presence_heartbeat();\n    }\n\n    function publish(next) {\n\n        if (NO_WAIT_FOR_PENDING) {\n            if (!PUB_QUEUE.length) return;\n        } else {\n            if (next) PUB_QUEUE.sending = 0;\n            if ( PUB_QUEUE.sending || !PUB_QUEUE.length ) return;\n            PUB_QUEUE.sending = 1;\n        }\n\n        xdr(PUB_QUEUE.shift());\n    }\n    function each_channel_group(callback) {\n        var count = 0;\n\n        each( generate_channel_group_list(CHANNEL_GROUPS), function(channel_group) {\n            var chang = CHANNEL_GROUPS[channel_group];\n\n            if (!chang) return;\n\n            count++;\n            (callback||function(){})(chang);\n        } );\n\n        return count;\n    }\n\n    function each_channel(callback) {\n        var count = 0;\n\n        each( generate_channel_list(CHANNELS), function(channel) {\n            var chan = CHANNELS[channel];\n\n            if (!chan) return;\n\n            count++;\n            (callback||function(){})(chan);\n        } );\n\n        return count;\n    }\n    function _invoke_callback(response, callback, err) {\n        if (typeof response == 'object') {\n            if (response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n\n                err && err(callback_data);\n                return;\n\n            }\n            if (response['payload']) {\n                if (response['next_page'])\n                    callback && callback(response['payload'], response['next_page']);\n                else\n                    callback && callback(response['payload']);\n                return;\n            }\n        }\n        callback && callback(response);\n    }\n\n    function _invoke_error(response,err) {\n\n        if (typeof response == 'object' && response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n                \n                err && err(callback_data);\n                return;\n        } else {\n            err && err(response);\n        }\n    }\n    function CR(args, callback, url1, data) {\n            var callback        = args['callback']      || callback\n            ,   err             = args['error']         || error\n            ,   jsonp           = jsonp_cb();\n\n            data = data || {};\n            \n            if (!data['auth']) {\n                data['auth'] = args['auth_key'] || AUTH_KEY;\n            }\n            \n            var url = [\n                    STD_ORIGIN, 'v1', 'channel-registration',\n                    'sub-key', SUBSCRIBE_KEY\n                ];\n\n            url.push.apply(url,url1);\n            \n            if (jsonp) data['callback']              = jsonp;\n            \n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n    }\n\n    // Announce Leave Event\n    var SELF = {\n        'LEAVE' : function( channel, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel\n            if (channel.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 2000,\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel), 'leave'\n                ]\n            });\n            return true;\n        },\n        'LEAVE_GROUP' : function( channel_group, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel Group\n            if (channel_group.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (channel_group && channel_group.length > 0) data['channel-group'] = channel_group;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 5000,\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(','), 'leave'\n                ]\n            });\n            return true;\n        },\n        'set_resumed' : function(resumed) {\n                RESUMED = resumed;\n        },\n        'get_cipher_key' : function() {\n            return CIPHER_KEY;\n        },\n        'set_cipher_key' : function(key) {\n            CIPHER_KEY = key;\n        },\n        'raw_encrypt' : function(input, key) {\n            return encrypt(input, key);\n        },\n        'raw_decrypt' : function(input, key) {\n            return decrypt(input, key);\n        },\n        'get_heartbeat' : function() {\n            return PRESENCE_HB;\n        },\n        \n        'set_heartbeat' : function(heartbeat, heartbeat_interval) {\n            PRESENCE_HB = validate_presence_heartbeat(heartbeat, PRESENCE_HB, error);\n            PRESENCE_HB_INTERVAL = heartbeat_interval || (PRESENCE_HB / 2) - 1;\n            if (PRESENCE_HB == 2) {\n                PRESENCE_HB_INTERVAL = 1;\n            }\n            CONNECT();\n            _presence_heartbeat();\n        },\n        \n        'get_heartbeat_interval' : function() {\n            return PRESENCE_HB_INTERVAL;\n        },\n        \n        'set_heartbeat_interval' : function(heartbeat_interval) {\n            PRESENCE_HB_INTERVAL = heartbeat_interval;\n            _presence_heartbeat();\n        },\n        \n        'get_version' : function() {\n            return SDK_VER;\n        },\n        'getGcmMessageObject' : function(obj) {\n            return {\n                'data' : obj\n            }\n        },\n        'getApnsMessageObject' : function(obj) {\n            var x =  {\n                'aps' : { 'badge' : 1, 'alert' : ''}\n            }\n            for (k in obj) {\n                k[x] = obj[k];\n            }\n            return x;\n        },\n        'newPnMessage' : function() {\n            var x = {};\n            if (gcm) x['pn_gcm'] = gcm;\n            if (apns) x['pn_apns'] = apns;\n            for ( k in n ) {\n                x[k] = n[k];\n            }\n            return x;\n        },\n\n        '_add_param' : function(key,val) {\n            params[key] = val;\n        },\n\n        'channel_group' : function(args, callback) {\n            var ns_ch       = args['channel_group']\n            ,   callback    = callback         || args['callback']\n            ,   channels    = args['channels'] || args['channel']\n            ,   cloak       = args['cloak']\n            ,   namespace\n            ,   channel_group\n            ,   url = []\n            ,   data = {}\n            ,   mode = args['mode'] || 'add';\n\n\n            if (ns_ch) {\n                var ns_ch_a = ns_ch.split(':');\n\n                if (ns_ch_a.length > 1) {\n                    namespace = (ns_ch_a[0] === '*')?null:ns_ch_a[0];\n\n                    channel_group = ns_ch_a[1];\n                } else {\n                    channel_group = ns_ch_a[0];\n                }\n            }\n\n            namespace && url.push('namespace') && url.push(encode(namespace));\n\n            url.push('channel-group');\n\n            if (channel_group && channel_group !== '*') {\n                url.push(channel_group);\n            }\n\n            if (channels ) {\n                if (isArray(channels)) {\n                    channels = channels.join(',');\n                }\n                data[mode] = channels;\n                data['cloak'] = (CLOAK)?'true':'false';\n            } else {\n                if (mode === 'remove') url.push('remove');\n            }\n\n            if (typeof cloak != 'undefined') data['cloak'] = (cloak)?'true':'false';\n\n            CR(args, callback, url, data);\n        },\n\n        'channel_group_list_groups' : function(args, callback) {\n            var namespace;\n\n            namespace = args['namespace'] || args['ns'] || args['channel_group'] || null;\n            if (namespace) {\n                args[\"channel_group\"] = namespace + \":*\";\n            }\n\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_list_channels' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_remove_channel' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_remove_group' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (args['channel']) return error('Use channel_group_remove_channel if you want to remove a channel from a group.');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_add_channel' : function(args, callback) {\n           if (!args['channel_group']) return error('Missing Channel Group');\n           if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_cloak' : function(args, callback) {\n            if (typeof args['cloak'] == 'undefined') {\n                callback(CLOAK);\n                return;\n            }\n            CLOAK = args['cloak'];\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_list_namespaces' : function(args, callback) {\n            var url = ['namespace'];\n            CR(args, callback, url);\n        },\n        'channel_group_remove_namespace' : function(args, callback) {\n            var url = ['namespace',args['namespace'],'remove'];\n            CR(args, callback, url);\n        },\n\n        /*\n            PUBNUB.history({\n                channel  : 'my_chat_channel',\n                limit    : 100,\n                callback : function(history) { }\n            });\n        */\n        'history' : function( args, callback ) {\n            var callback         = args['callback'] || callback\n            ,   count            = args['count']    || args['limit'] || 100\n            ,   reverse          = args['reverse']  || \"false\"\n            ,   err              = args['error']    || function(){}\n            ,   auth_key         = args['auth_key'] || AUTH_KEY\n            ,   cipher_key       = args['cipher_key']\n            ,   channel          = args['channel']\n            ,   channel_group    = args['channel_group']\n            ,   start            = args['start']\n            ,   end              = args['end']\n            ,   include_token    = args['include_token']\n            ,   params           = {}\n            ,   jsonp            = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) return error('Missing Channel');\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            params['stringtoken'] = 'true';\n            params['count']       = count;\n            params['reverse']     = reverse;\n            params['auth']        = auth_key;\n\n            if (channel_group) {\n                params['channel-group'] = channel_group;\n                if (!channel) {\n                    channel = ','; \n                }\n            }\n            if (jsonp) params['callback']              = jsonp;\n            if (start) params['start']                 = start;\n            if (end)   params['end']                   = end;\n            if (include_token) params['include_token'] = 'true';\n\n            // Send Message\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(params),\n                success  : function(response) {\n                    if (typeof response == 'object' && response['error']) {\n                        err({'message' : response['message'], 'payload' : response['payload']});\n                        return;\n                    }\n                    var messages = response[0];\n                    var decrypted_messages = [];\n                    for (var a = 0; a < messages.length; a++) {\n                        var new_message = decrypt(messages[a],cipher_key);\n                        try {\n                            decrypted_messages['push'](JSON['parse'](new_message));\n                        } catch (e) {\n                            decrypted_messages['push']((new_message));\n                        }\n                    }\n                    callback([decrypted_messages, response[1], response[2]]);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'history', 'sub-key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel)\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.replay({\n                source      : 'my_channel',\n                destination : 'new_channel'\n            });\n        */\n        'replay' : function(args, callback) {\n            var callback    = callback || args['callback'] || function(){}\n            ,   auth_key    = args['auth_key'] || AUTH_KEY\n            ,   source      = args['source']\n            ,   destination = args['destination']\n            ,   stop        = args['stop']\n            ,   start       = args['start']\n            ,   end         = args['end']\n            ,   reverse     = args['reverse']\n            ,   limit       = args['limit']\n            ,   jsonp       = jsonp_cb()\n            ,   data        = {}\n            ,   url;\n\n            // Check User Input\n            if (!source)        return error('Missing Source Channel');\n            if (!destination)   return error('Missing Destination Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Setup URL Params\n            if (jsonp != '0') data['callback'] = jsonp;\n            if (stop)         data['stop']     = 'all';\n            if (reverse)      data['reverse']  = 'true';\n            if (start)        data['start']    = start;\n            if (end)          data['end']      = end;\n            if (limit)        data['count']    = limit;\n\n            data['auth'] = auth_key;\n\n            // Compose URL Parts\n            url = [\n                STD_ORIGIN, 'v1', 'replay',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                source, destination\n            ];\n\n            // Start (or Stop) Replay!\n            xdr({\n                callback : jsonp,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function() { callback([ 0, 'Disconnected' ]) },\n                url      : url,\n                data     : _get_url_params(data)\n            });\n        },\n\n        /*\n            PUBNUB.auth('AJFLKAJSDKLA');\n        */\n        'auth' : function(auth) {\n            AUTH_KEY = auth;\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.time(function(time){ });\n        */\n        'time' : function(callback) {\n            var jsonp = jsonp_cb();\n\n            var data = { 'uuid' : UUID, 'auth' : AUTH_KEY }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [STD_ORIGIN, 'time', jsonp],\n                success  : function(response) { callback(response[0]) },\n                fail     : function() { callback(0) }\n            });\n        },\n\n        /*\n            PUBNUB.publish({\n                channel : 'my_chat_channel',\n                message : 'hello!'\n            });\n        */\n        'publish' : function( args, callback ) {\n            var msg      = args['message'];\n            if (!msg) return error('Missing Message');\n\n            var callback = callback || args['callback'] || msg['callback'] || function(){}\n            ,   channel  = args['channel'] || msg['channel']\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   cipher_key = args['cipher_key']\n            ,   err      = args['error'] || msg['error'] || function() {}\n            ,   post     = args['post'] || false\n            ,   store    = ('store_in_history' in args) ? args['store_in_history']: true\n            ,   jsonp    = jsonp_cb()\n            ,   add_msg  = 'push'\n            ,   url;\n\n            if (args['prepend']) add_msg = 'unshift'\n\n            if (!channel)       return error('Missing Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (msg['getPubnubMessage']) {\n                msg = msg['getPubnubMessage']();\n            }\n\n            // If trying to send Object\n            msg = JSON['stringify'](encrypt(msg, cipher_key));\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'publish',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                0, encode(channel),\n                jsonp, encode(msg)\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key }\n\n            if (!store) params['store'] =\"0\"\n\n            if (USE_INSTANCEID) params['instanceid'] = INSTANCEID;\n\n            // Queue Message Send\n            PUB_QUEUE[add_msg]({\n                callback : jsonp,\n                timeout  : SECOND * 5,\n                url      : url,\n                data     : _get_url_params(params),\n                fail     : function(response){\n                    _invoke_error(response, err);\n                    publish(1);\n                },\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                    publish(1);\n                },\n                mode     : (post)?'POST':'GET'\n            });\n\n            // Send Message\n            publish();\n        },\n\n        /*\n            PUBNUB.unsubscribe({ channel : 'my_chat' });\n        */\n        'unsubscribe' : function(args, callback) {\n            var channel       = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   auth_key      = args['auth_key']    || AUTH_KEY\n            ,   callback      = callback            || args['callback'] || function(){}\n            ,   err           = args['error']       || function(){};\n\n            TIMETOKEN   = 0;\n            //SUB_RESTORE = 1;    REVISIT !!!!\n\n            if (channel) {\n                // Prepare Channel(s)\n                channel = map( (\n                    channel.join ? channel.join(',') : ''+channel\n                ).split(','), function(channel) {\n                    if (!CHANNELS[channel]) return;\n                    return channel + ',' + channel + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over Channels\n                each( channel.split(','), function(ch) {\n                    var CB_CALLED = true;\n                    if (!ch) return;\n                    CHANNELS[ch] = 0;\n                    if (ch in STATE) delete STATE[ch];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE']( ch, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                    \n                } );\n            }\n\n            if (channel_group) {\n                // Prepare channel group(s)\n                channel_group = map( (\n                    channel_group.join ? channel_group.join(',') : ''+channel_group\n                ).split(','), function(channel_group) {\n                    if (!CHANNEL_GROUPS[channel_group]) return;\n                    return channel_group + ',' + channel_group + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over channel groups\n                each( channel_group.split(','), function(chg) {\n                    var CB_CALLED = true;\n                    if (!chg) return;\n                    CHANNEL_GROUPS[chg] = 0;\n                    if (chg in STATE) delete STATE[chg];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE_GROUP']( chg, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                } );\n            }\n\n            // Reset Connection if Count Less\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.subscribe({\n                channel  : 'my_chat'\n                callback : function(message) { }\n            });\n        */\n        'subscribe' : function( args, callback ) {\n            var channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   callback        = callback            || args['callback']\n            ,   callback        = callback            || args['message']\n            ,   auth_key        = args['auth_key']    || AUTH_KEY\n            ,   connect         = args['connect']     || function(){}\n            ,   reconnect       = args['reconnect']   || function(){}\n            ,   disconnect      = args['disconnect']  || function(){}\n            ,   SUB_ERROR       = args['error']       || SUB_ERROR || function(){}\n            ,   idlecb          = args['idle']        || function(){}\n            ,   presence        = args['presence']    || 0\n            ,   noheresync      = args['noheresync']  || 0\n            ,   backfill        = args['backfill']    || 0\n            ,   timetoken       = args['timetoken']   || 0\n            ,   sub_timeout     = args['timeout']     || SUB_TIMEOUT\n            ,   windowing       = args['windowing']   || SUB_WINDOWING\n            ,   state           = args['state']\n            ,   heartbeat       = args['heartbeat'] || args['pnexpires']\n            ,   heartbeat_interval = args['heartbeat_interval']\n            ,   restore         = args['restore'] || SUB_RESTORE;\n\n            // Restore Enabled?\n            SUB_RESTORE = restore;\n\n            // Always Reset the TT\n            TIMETOKEN = timetoken;\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) {\n                return error('Missing Channel');\n            }\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (heartbeat || heartbeat === 0 || heartbeat_interval || heartbeat_interval === 0) {\n                SELF['set_heartbeat'](heartbeat, heartbeat_interval);\n            }\n\n            // Setup Channel(s)\n            if (channel) {\n                each( (channel.join ? channel.join(',') : ''+channel).split(','),\n                function(channel) {\n                    var settings = CHANNELS[channel] || {};\n\n                    // Store Channel State\n                    CHANNELS[SUB_CHANNEL = channel] = {\n                        name         : channel,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    if (state) {\n                        if (channel in state) {\n                            STATE[channel] = state[channel];\n                        } else {\n                            STATE[channel] = state;\n                        }\n                    }\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel'  : channel + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel'  : channel,\n                        'data'     : _get_url_params({ 'uuid' : UUID, 'auth' : auth_key }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel ); } );\n                        }\n                    });\n                } );\n            }\n\n            // Setup Channel Groups\n            if (channel_group) {\n                each( (channel_group.join ? channel_group.join(',') : ''+channel_group).split(','),\n                function(channel_group) {\n                    var settings = CHANNEL_GROUPS[channel_group] || {};\n\n                    CHANNEL_GROUPS[channel_group] = {\n                        name         : channel_group,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel_group'  : channel_group + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore,\n                        'auth_key' : auth_key\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel_group'  : channel_group,\n                        'data'           : _get_url_params({ 'uuid' : UUID, 'auth' : auth_key }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel_group ); } );\n                        }\n                    });\n                } );\n            }\n\n\n            // Test Network Connection\n            function _test_connection(success) {\n                if (success) {\n                    // Begin Next Socket Connection\n                    timeout( CONNECT, SECOND );\n                }\n                else {\n                    // New Origin on Failed Connection\n                    STD_ORIGIN = nextorigin( ORIGIN, 1 );\n                    SUB_ORIGIN = nextorigin( ORIGIN, 1 );\n\n                    // Re-test Connection\n                    timeout( function() {\n                        SELF['time'](_test_connection);\n                    }, SECOND );\n                }\n\n                // Disconnect & Reconnect\n                each_channel(function(channel){\n                    // Reconnect\n                    if (success && channel.disconnected) {\n                        channel.disconnected = 0;\n                        return channel.reconnect(channel.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel.disconnected) {\n                        channel.disconnected = 1;\n                        channel.disconnect(channel.name);\n                    }\n                });\n                \n                // Disconnect & Reconnect for channel groups\n                each_channel_group(function(channel_group){\n                    // Reconnect\n                    if (success && channel_group.disconnected) {\n                        channel_group.disconnected = 0;\n                        return channel_group.reconnect(channel_group.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel_group.disconnected) {\n                        channel_group.disconnected = 1;\n                        channel_group.disconnect(channel_group.name);\n                    }\n                });\n            }\n\n            // Evented Subscribe\n            function _connect() {\n                var jsonp           = jsonp_cb()\n                ,   channels        = generate_channel_list(CHANNELS).join(',')\n                ,   channel_groups  = generate_channel_group_list(CHANNEL_GROUPS).join(',');\n\n                // Stop Connection\n                if (!channels && !channel_groups) return;\n\n                if (!channels) channels = ',';\n\n                // Connect to PubNub Subscribe Servers\n                _reset_offline();\n\n                var data = _get_url_params({ 'uuid' : UUID, 'auth' : auth_key });\n\n                if (channel_groups) {\n                    data['channel-group'] = channel_groups;\n                }\n\n\n                var st = JSON.stringify(STATE);\n                if (st.length > 2) data['state'] = JSON.stringify(STATE);\n\n                if (PRESENCE_HB) data['heartbeat'] = PRESENCE_HB;\n\n                if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n                start_presence_heartbeat();\n                SUB_RECEIVER = xdr({\n                    timeout  : sub_timeout,\n                    callback : jsonp,\n                    fail     : function(response) {\n                        if (response && response['error'] && response['service']) {\n                            _invoke_error(response, SUB_ERROR);\n                            _test_connection(1);\n                        } else {\n                            SELF['time'](function(success){\n                                !success && ( _invoke_error(response, SUB_ERROR));\n                                _test_connection(success);\n                            });\n                        }\n                    },\n                    data     : _get_url_params(data),\n                    url      : [\n                        SUB_ORIGIN, 'subscribe',\n                        SUBSCRIBE_KEY, encode(channels),\n                        jsonp, TIMETOKEN\n                    ],\n                    success : function(messages) {\n\n                        // Check for Errors\n                        if (!messages || (\n                            typeof messages == 'object' &&\n                            'error' in messages         &&\n                            messages['error']\n                        )) {\n                            SUB_ERROR(messages['error']);\n                            return timeout( CONNECT, SECOND );\n                        }\n\n                        // User Idle Callback\n                        idlecb(messages[1]);\n\n                        // Restore Previous Connection Point if Needed\n                        TIMETOKEN = !TIMETOKEN               &&\n                                    SUB_RESTORE              &&\n                                    db['get'](SUBSCRIBE_KEY) || messages[1];\n\n                        /*\n                        // Connect\n                        each_channel_registry(function(registry){\n                            if (registry.connected) return;\n                            registry.connected = 1;\n                            registry.connect(channel.name);\n                        });\n                        */\n\n                        // Connect\n                        each_channel(function(channel){\n                            if (channel.connected) return;\n                            channel.connected = 1;\n                            channel.connect(channel.name);\n                        });\n\n                        // Connect for channel groups\n                        each_channel_group(function(channel_group){\n                            if (channel_group.connected) return;\n                            channel_group.connected = 1;\n                            channel_group.connect(channel_group.name);\n                        });\n\n                        if (RESUMED && !SUB_RESTORE) {\n                                TIMETOKEN = 0;\n                                RESUMED = false;\n                                // Update Saved Timetoken\n                                db['set']( SUBSCRIBE_KEY, 0 );\n                                timeout( _connect, windowing );\n                                return;\n                        }\n\n                        // Invoke Memory Catchup and Receive Up to 100\n                        // Previous Messages from the Queue.\n                        if (backfill) {\n                            TIMETOKEN = 10000;\n                            backfill  = 0;\n                        }\n\n                        // Update Saved Timetoken\n                        db['set']( SUBSCRIBE_KEY, messages[1] );\n\n                        // Route Channel <---> Callback for Message\n                        var next_callback = (function() {\n                            var channels = '';\n                            var channels2 = '';\n\n                            if (messages.length > 3) {\n                                channels  = messages[3];\n                                channels2 = messages[2];\n                            } else if (messages.length > 2) {\n                                channels = messages[2];\n                            } else {\n                                channels =  map(\n                                    generate_channel_list(CHANNELS), function(chan) { return map(\n                                        Array(messages[0].length)\n                                        .join(',').split(','),\n                                        function() { return chan; }\n                                    ) }).join(',')\n                            }\n\n                            var list  = channels.split(',');\n                            var list2 = (channels2)?channels2.split(','):[];\n\n                            return function() {\n                                var channel  = list.shift()||SUB_CHANNEL;\n                                var channel2 = list2.shift();\n\n                                var chobj = {};\n\n                                if (channel2) {\n                                    if (channel && channel.indexOf('-pnpres') >= 0 \n                                        && channel2.indexOf('-pnpres') < 0) {\n                                        channel2 += '-pnpres';\n                                    }\n                                    chobj = CHANNEL_GROUPS[channel2] || CHANNELS[channel2] || {'callback' : function(){}};\n                                } else {\n                                    chobj = CHANNELS[channel];\n                                }\n\n                                var r = [\n                                    chobj\n                                    .callback||SUB_CALLBACK,\n                                    channel.split(PRESENCE_SUFFIX)[0]\n                                ];\n                                channel2 && r.push(channel2.split(PRESENCE_SUFFIX)[0]);\n                                return r;\n                            };\n                        })();\n\n                        var latency = detect_latency(+messages[1]);\n                        each( messages[0], function(msg) {\n                            var next = next_callback();\n                            var decrypted_msg = decrypt(msg,\n                                (CHANNELS[next[1]])?CHANNELS[next[1]]['cipher_key']:null);\n                            next[0] && next[0]( decrypted_msg, messages, next[2] || next[1], latency, next[1]);\n                        });\n\n                        timeout( _connect, windowing );\n                    }\n                });\n            }\n\n            CONNECT = function() {\n                _reset_offline();\n                timeout( _connect, windowing );\n            };\n\n            // Reduce Status Flicker\n            if (!READY) return READY_BUFFER.push(CONNECT);\n\n            // Connect Now\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.here_now({ channel : 'my_chat', callback : fun });\n        */\n        'here_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   jsonp    = jsonp_cb()\n            ,   uuids    = ('uuids' in args) ? args['uuids'] : true\n            ,   state    = args['state']\n            ,   data     = { 'uuid' : UUID, 'auth' : auth_key };\n\n            if (!uuids) data['disable_uuids'] = 1;\n            if (state) data['state'] = 1;\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            var url = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY\n                ];\n\n            channel && url.push('channel') && url.push(encode(channel));\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (channel_group) {\n                data['channel-group'] = channel_group;\n                !channel && url.push('channel') && url.push(','); \n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n        },\n\n        /*\n            PUBNUB.current_channels_by_uuid({ channel : 'my_chat', callback : fun });\n        */\n        'where_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   uuid     = args['uuid']     || UUID\n            ,   data     = { 'auth' : auth_key };\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY,\n                    'uuid', encode(uuid)\n                ]\n            });\n        },\n\n        'state' : function(args, callback) {\n            var callback = args['callback'] || callback || function(r) {}\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   state    = args['state']\n            ,   uuid     = args['uuid'] || UUID\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   url\n            ,   data     = _get_url_params({ 'auth' : auth_key });\n\n            // Make sure we have a Channel\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!uuid) return error('Missing UUID');\n            if (!channel && !channel_group) return error('Missing Channel');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (typeof channel != 'undefined'\n                && CHANNELS[channel] && CHANNELS[channel].subscribed ) {\n                if (state) STATE[channel] = state;\n            }\n\n            if (typeof channel_group != 'undefined'\n                && CHANNEL_GROUPS[channel_group]\n                && CHANNEL_GROUPS[channel_group].subscribed\n                ) {\n                if (state) STATE[channel_group] = state;\n                data['channel-group'] = channel_group;\n\n                if (!channel) {\n                    channel = ',';\n                }\n            }\n\n            data['state'] = JSON.stringify(state);\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            if (state) {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', uuid, 'data'\n                ]\n            } else {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', encode(uuid)\n                ]\n            }\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n\n            });\n\n        },\n\n        /*\n            PUBNUB.grant({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                ttl      : 24 * 60, // Minutes\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'grant' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   jsonp           = jsonp_cb()\n            ,   ttl             = args['ttl']\n            ,   r               = (args['read'] )?\"1\":\"0\"\n            ,   w               = (args['write'])?\"1\":\"0\"\n            ,   m               = (args['manage'])?\"1\":\"0\"\n            ,   auth_key        = args['auth_key'];\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\" + PUBLISH_KEY + \"\\n\"\n                    + \"grant\" + \"\\n\";\n\n            var data = {\n                'w'         : w,\n                'r'         : r,\n                'timestamp' : timestamp\n            };\n            if (args['manage']) {\n                data['m'] = m;\n            }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (ttl || ttl === 0) data['ttl'] = ttl;\n\n            if (auth_key) data['auth'] = auth_key;\n\n            data = _get_url_params(data)\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'grant' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n         PUBNUB.mobile_gw_provision ({\n         device_id: 'A655FBA9931AB',\n         op       : 'add' | 'remove',\n         gw_type  : 'apns' | 'gcm',\n         channel  : 'my_chat',\n         callback : fun,\n         error    : fun,\n         });\n         */\n\n        'mobile_gw_provision' : function( args ) {\n\n            var callback = args['callback'] || function(){}\n                ,   auth_key       = args['auth_key'] || AUTH_KEY\n                ,   err            = args['error'] || function() {}\n                ,   jsonp          = jsonp_cb()\n                ,   channel        = args['channel']\n                ,   op             = args['op']\n                ,   gw_type        = args['gw_type']\n                ,   device_id      = args['device_id']\n                ,   url;\n\n            if (!device_id)     return error('Missing Device ID (device_id)');\n            if (!gw_type)       return error('Missing GW Type (gw_type: gcm or apns)');\n            if (!op)            return error('Missing GW Operation (op: add or remove)');\n            if (!channel)       return error('Missing gw destination Channel (channel)');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'v1/push/sub-key',\n                SUBSCRIBE_KEY, 'devices', device_id\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key, 'type': gw_type};\n\n            if (op == \"add\") {\n                params['add'] = channel;\n            } else if (op == \"remove\") {\n                params['remove'] = channel;\n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n        },\n\n        /*\n            PUBNUB.audit({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'audit' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   auth_key        = args['auth_key']\n            ,   jsonp           = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\"\n                + PUBLISH_KEY + \"\\n\"\n                + \"audit\" + \"\\n\";\n\n            var data = {'timestamp' : timestamp };\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (auth_key) data['auth']    = auth_key;\n\n            data = _get_url_params(data);\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'audit' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.revoke({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'revoke' : function( args, callback ) {\n            args['read']  = false;\n            args['write'] = false;\n            SELF['grant']( args, callback );\n        },\n        'set_uuid' : function(uuid) {\n            UUID = uuid;\n            CONNECT();\n        },\n        'get_uuid' : function() {\n            return UUID;\n        },\n        'isArray'  : function(arg) {\n            return isArray(arg);\n        },\n        'get_subscibed_channels' : function() {\n            return generate_channel_list(CHANNELS, true);\n        },\n        'presence_heartbeat' : function(args) {\n            var callback = args['callback'] || function() {}\n            var err      = args['error']    || function() {}\n            var jsonp    = jsonp_cb();\n            var data     = { 'uuid' : UUID, 'auth' : AUTH_KEY };\n\n            var st = JSON['stringify'](STATE);\n            if (st.length > 2) data['state'] = JSON['stringify'](STATE);\n\n            if (PRESENCE_HB > 0 && PRESENCE_HB < 320) data['heartbeat'] = PRESENCE_HB;\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            var channels        = encode(generate_channel_list(CHANNELS, true)['join'](','));\n            var channel_groups  = generate_channel_group_list(CHANNEL_GROUPS, true)['join'](',');\n\n            if (!channels) channels = ',';\n            if (channel_groups) data['channel-group'] = channel_groups;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel' , channels,\n                    'heartbeat'\n                ],\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) { _invoke_error(response, err); }\n            });\n        },\n        'stop_timers': function () {\n            clearTimeout(_poll_timer);\n            clearTimeout(_poll_timer2);\n        },\n\n        // Expose PUBNUB Functions\n        'xdr'           : xdr,\n        'ready'         : ready,\n        'db'            : db,\n        'uuid'          : generate_uuid,\n        'map'           : map,\n        'each'          : each,\n        'each-channel'  : each_channel,\n        'grep'          : grep,\n        'offline'       : function(){ _reset_offline(\n            1, { \"message\" : \"Offline. Please check your network settings.\" })\n        },\n        'supplant'      : supplant,\n        'now'           : rnow,\n        'unique'        : unique,\n        'updater'       : updater\n    };\n\n    function _poll_online() {\n        _is_online() || _reset_offline( 1, {\n            \"error\" : \"Offline. Please check your network settings. \"\n        });\n        _poll_timer && clearTimeout(_poll_timer);\n        _poll_timer = timeout( _poll_online, SECOND );\n    }\n\n    function _poll_online2() {\n        if (!TIME_CHECK) return;\n        SELF['time'](function(success){\n            detect_time_detla( function(){}, success );\n            success || _reset_offline( 1, {\n                \"error\" : \"Heartbeat failed to connect to Pubnub Servers.\" +\n                    \"Please check your network settings.\"\n                });\n            _poll_timer2 && clearTimeout(_poll_timer2);\n            _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n        });\n    }\n\n    function _reset_offline(err, msg) {\n        SUB_RECEIVER && SUB_RECEIVER(err, msg);\n        SUB_RECEIVER = null;\n\n        clearTimeout(_poll_timer);\n        clearTimeout(_poll_timer2);\n    }\n    \n    if (!UUID) UUID = SELF['uuid']();\n    if (!INSTANCEID) INSTANCEID = SELF['uuid']();\n    db['set']( SUBSCRIBE_KEY + 'uuid', UUID );\n\n    _poll_timer  = timeout( _poll_online,  SECOND    );\n    _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n    PRESENCE_HB_TIMEOUT = timeout(\n        start_presence_heartbeat,\n        ( PRESENCE_HB_INTERVAL - 3 ) * SECOND\n    );\n\n    // Detect Age of Message\n    function detect_latency(tt) {\n        var adjusted_time = rnow() - TIME_DRIFT;\n        return adjusted_time - tt / 10000;\n    }\n\n    detect_time_detla();\n    function detect_time_detla( cb, time ) {\n        var stime = rnow();\n\n        time && calculate(time) || SELF['time'](calculate);\n\n        function calculate(time) {\n            if (!time) return;\n            var ptime   = time / 10000\n            ,   latency = (rnow() - stime) / 2;\n            TIME_DRIFT = rnow() - (ptime + latency);\n            cb && cb(TIME_DRIFT);\n        }\n    }\n\n    return SELF;\n}\n\nfunction crypto_obj (){\n\n    return {\n\n        'encrypt': function(data, key, options) {\n            options = options || {};\n            if (!key) return data;\n            var cipher_key = options.encryptKey ? CryptoJS.SHA256(key) : key;\n            var hex_message = JSON['stringify'](data);\n            var encryptedHexArray = CryptoJS.AES.encrypt(hex_message, cipher_key, {\n                mode: options.mode == 'ECB' ? CryptoJS.mode.ECB : CryptoJS.mode.CBC,\n                padding: CryptoJS.pad.Pkcs7\n            });\n            var base_64_encrypted = CryptoJS.enc.Base64.stringify(encryptedHexArray);\n            return base_64_encrypted;\n        },\n\n        'decrypt': function(data, key, options) {\n            options = options || {};\n            if (!key) return data;\n            var cipher_key = options.encryptKey ? CryptoJS.SHA256(key) : key;\n            try {\n                var binary_enc = CryptoJS.enc.Base64.parse(data);\n                var json_plain = CryptoJS.AES.decrypt({ciphertext: data}, key, {\n                    mode: options.mode == 'ECB' ? CryptoJS.mode.ECB : CryptoJS.mode.CBC,\n                    padding: CryptoJS.pad.Pkcs7\n                }).toString(CryptoJS.enc.Utf8);\n                var plaintext = JSON['parse'](json_plain);\n                return plaintext;\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n    };\n}\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     UTIL     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nwindow['PUBNUB'] || (function() {\n\n/**\n * UTIL LOCALS\n */\n\nvar SWF             = 'https://pubnub.a.ssl.fastly.net/pubnub.swf'\n,   ASYNC           = 'async'\n,   UA              = navigator.userAgent\n,   PNSDK           = 'PubNub-JS-' + 'Web' + '/' + '3.7.10'\n,   XORIGN          = UA.indexOf('MSIE 6') == -1;\n\n/**\n * CONSOLE COMPATIBILITY\n */\nwindow.console || (window.console=window.console||{});\nconsole.log    || (\n    console.log   =\n    console.error =\n    ((window.opera||{}).postError||function(){})\n);\n\n/**\n * LOCAL STORAGE OR COOKIE\n */\nvar db = (function(){\n    var store = {};\n    var ls = false;\n    try {\n        ls = window['localStorage'];\n    } catch (e) { }\n    var cookieGet = function(key) {\n        if (document.cookie.indexOf(key) == -1) return null;\n        return ((document.cookie||'').match(\n            RegExp(key+'=([^;]+)')\n        )||[])[1] || null;\n    };\n    var cookieSet = function( key, value ) {\n        document.cookie = key + '=' + value +\n            '; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/';\n    };\n    var cookieTest = (function() {\n        try {\n            cookieSet('pnctest', '1');\n            return cookieGet('pnctest') === '1';\n        } catch (e) {\n            return false;\n        }\n    }());\n    return {\n        'get' : function(key) {\n            try {\n                if (ls) return ls.getItem(key);\n                if (cookieTest) return cookieGet(key);\n                return store[key];\n            } catch(e) {\n                return store[key];\n            }\n        },\n        'set' : function( key, value ) {\n            try {\n                if (ls) return ls.setItem( key, value ) && 0;\n                if (cookieTest) cookieSet( key, value );\n                store[key] = value;\n            } catch(e) {\n                store[key] = value;\n            }\n        }\n    };\n})();\n\nfunction get_hmac_SHA256(data,key) {\n    var hash = CryptoJS['HmacSHA256'](data, key);\n    return hash.toString(CryptoJS['enc']['Base64']);\n}\n\n/**\n * $\n * =\n * var div = $('divid');\n */\nfunction $(id) { return document.getElementById(id) }\n\n/**\n * ERROR\n * =====\n * error('message');\n */\nfunction error(message) { console['error'](message) }\n\n/**\n * SEARCH\n * ======\n * var elements = search('a div span');\n */\nfunction search( elements, start) {\n    var list = [];\n    each( elements.split(/\\s+/), function(el) {\n        each( (start || document).getElementsByTagName(el), function(node) {\n            list.push(node);\n        } );\n    });\n    return list;\n}\n\n/**\n * BIND\n * ====\n * bind( 'keydown', search('a')[0], function(element) {\n *     ...\n * } );\n */\nfunction bind( type, el, fun ) {\n    each( type.split(','), function(etype) {\n        var rapfun = function(e) {\n            if (!e) e = window.event;\n            if (!fun(e)) {\n                e.cancelBubble = true;\n                e.preventDefault  && e.preventDefault();\n                e.stopPropagation && e.stopPropagation();\n            }\n        };\n\n        if ( el.addEventListener ) el.addEventListener( etype, rapfun, false );\n        else if ( el.attachEvent ) el.attachEvent( 'on' + etype, rapfun );\n        else  el[ 'on' + etype ] = rapfun;\n    } );\n}\n\n/**\n * UNBIND\n * ======\n * unbind( 'keydown', search('a')[0] );\n */\nfunction unbind( type, el, fun ) {\n    if ( el.removeEventListener ) el.removeEventListener( type, false );\n    else if ( el.detachEvent ) el.detachEvent( 'on' + type, false );\n    else  el[ 'on' + type ] = null;\n}\n\n/**\n * HEAD\n * ====\n * head().appendChild(elm);\n */\nfunction head() { return search('head')[0] }\n\n/**\n * ATTR\n * ====\n * var attribute = attr( node, 'attribute' );\n */\nfunction attr( node, attribute, value ) {\n    if (value) node.setAttribute( attribute, value );\n    else return node && node.getAttribute && node.getAttribute(attribute);\n}\n\n/**\n * CSS\n * ===\n * var obj = create('div');\n */\nfunction css( element, styles ) {\n    for (var style in styles) if (styles.hasOwnProperty(style))\n        try {element.style[style] = styles[style] + (\n            '|width|height|top|left|'.indexOf(style) > 0 &&\n            typeof styles[style] == 'number'\n            ? 'px' : ''\n        )}catch(e){}\n}\n\n/**\n * CREATE\n * ======\n * var obj = create('div');\n */\nfunction create(element) { return document.createElement(element) }\n\n\n/**\n * jsonp_cb\n * ========\n * var callback = jsonp_cb();\n */\nfunction jsonp_cb() { return XORIGN || FDomainRequest() ? 0 : unique() }\n\n\n\n/**\n * EVENTS\n * ======\n * PUBNUB.events.bind( 'you-stepped-on-flower', function(message) {\n *     // Do Stuff with message\n * } );\n *\n * PUBNUB.events.fire( 'you-stepped-on-flower', \"message-data\" );\n * PUBNUB.events.fire( 'you-stepped-on-flower', {message:\"data\"} );\n * PUBNUB.events.fire( 'you-stepped-on-flower', [1,2,3] );\n *\n */\nvar events = {\n    'list'   : {},\n    'unbind' : function( name ) { events.list[name] = [] },\n    'bind'   : function( name, fun ) {\n        (events.list[name] = events.list[name] || []).push(fun);\n    },\n    'fire' : function( name, data ) {\n        each(\n            events.list[name] || [],\n            function(fun) { fun(data) }\n        );\n    }\n};\n\n/**\n * XDR Cross Domain Request\n * ========================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction xdr( setup ) {\n    if (XORIGN || FDomainRequest()) return ajax(setup);\n\n    var script    = create('script')\n    ,   callback  = setup.callback\n    ,   id        = unique()\n    ,   finished  = 0\n    ,   xhrtme    = setup.timeout || DEF_TIMEOUT\n    ,   timer     = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail      = setup.fail    || function(){}\n    ,   data      = setup.data    || {}\n    ,   success   = setup.success || function(){}\n    ,   append    = function() { head().appendChild(script) }\n    ,   done      = function( failed, response ) {\n            if (finished) return;\n            finished = 1;\n\n            script.onerror = null;\n            clearTimeout(timer);\n\n            (failed || !response) || success(response);\n\n            timeout( function() {\n                failed && fail();\n                var s = $(id)\n                ,   p = s && s.parentNode;\n                p && p.removeChild(s);\n            }, SECOND );\n        };\n\n    window[callback] = function(response) {\n        done( 0, response );\n    };\n\n    if (!setup.blocking) script[ASYNC] = ASYNC;\n\n    script.onerror = function() { done(1) };\n    script.src     = build_url( setup.url, data );\n\n    attr( script, 'id', id );\n\n    append();\n    return done;\n}\n\n/**\n * CORS XHR Request\n * ================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction ajax( setup ) {\n    var xhr, response\n    ,   finished = function() {\n            if (loaded) return;\n            loaded = 1;\n\n            clearTimeout(timer);\n\n            try       { response = JSON['parse'](xhr.responseText); }\n            catch (r) { return done(1); }\n\n            complete = 1;\n            success(response);\n        }\n    ,   complete = 0\n    ,   loaded   = 0\n    ,   xhrtme   = setup.timeout || DEF_TIMEOUT\n    ,   timer    = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail     = setup.fail    || function(){}\n    ,   data     = setup.data    || {}\n    ,   success  = setup.success || function(){}\n    ,   async    = !(setup.blocking)\n    ,   done     = function(failed,response) {\n            if (complete) return;\n            complete = 1;\n\n            clearTimeout(timer);\n\n            if (xhr) {\n                xhr.onerror = xhr.onload = null;\n                xhr.abort && xhr.abort();\n                xhr = null;\n            }\n\n            failed && fail(response);\n        };\n\n    // Send\n    try {\n        xhr = FDomainRequest()      ||\n              window.XDomainRequest &&\n              new XDomainRequest()  ||\n              new XMLHttpRequest();\n\n        xhr.onerror = xhr.onabort   = function(){ done(\n            1, xhr.responseText || { \"error\" : \"Network Connection Error\"}\n        ) };\n        xhr.onload  = xhr.onloadend = finished;\n        xhr.onreadystatechange = function() {\n            if (xhr && xhr.readyState == 4) {\n                switch(xhr.status) {\n                    case 200:\n                        break;\n                    default:\n                        try {\n                            response = JSON['parse'](xhr.responseText);\n                            done(1,response);\n                        }\n                        catch (r) { return done(1, {status : xhr.status, payload : null, message : xhr.responseText}); }\n                        return;\n                }\n            }\n        }\n\n        var url = build_url(setup.url,data);\n\n        xhr.open( 'GET', url, async );\n        if (async) xhr.timeout = xhrtme;\n        xhr.send();\n    }\n    catch(eee) {\n        done(0);\n        XORIGN = 0;\n        return xdr(setup);\n    }\n\n    // Return 'done'\n    return done;\n}\n\n// Test Connection State\nfunction _is_online() {\n    if (!('onLine' in navigator)) return 1;\n    try       { return navigator['onLine'] }\n    catch (e) { return true }\n}\n\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     PUBNUB     ===========================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nvar PDIV          = $('pubnub') || 0\n,   CREATE_PUBNUB = function(setup) {\n\n    // Force JSONP if requested from user.\n    if (setup['jsonp'])  XORIGN = 0;\n    else                 XORIGN = UA.indexOf('MSIE 6') == -1;\n\n    var SUBSCRIBE_KEY = setup['subscribe_key'] || ''\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   UUID          = setup['uuid'] || db['get'](SUBSCRIBE_KEY+'uuid')||'';\n\n    var leave_on_unload = setup['leave_on_unload'] || 0;\n\n    setup['xdr']        = xdr;\n    setup['db']         = db;\n    setup['error']      = setup['error'] || error;\n    setup['_is_online'] = _is_online;\n    setup['jsonp_cb']   = jsonp_cb;\n    setup['hmac_SHA256']= get_hmac_SHA256;\n    setup['crypto_obj'] = crypto_obj();\n    setup['params']     = { 'pnsdk' : PNSDK }\n\n    var SELF = function(setup) {\n        return CREATE_PUBNUB(setup);\n    };\n\n    var PN = PN_API(setup);\n\n    for (var prop in PN) {\n        if (PN.hasOwnProperty(prop)) {\n            SELF[prop] = PN[prop];\n        }\n    }\n    SELF['css']         = css;\n    SELF['$']           = $;\n    SELF['create']      = create;\n    SELF['bind']        = bind;\n    SELF['head']        = head;\n    SELF['search']      = search;\n    SELF['attr']        = attr;\n    SELF['events']      = events;\n    SELF['init']        = SELF;\n    SELF['secure']      = SELF;\n\n    SELF['hmac_SHA256'] = get_hmac_SHA256;\n    SELF['crypto_obj'] = crypto_obj();\n\n\n    // Add Leave Functions\n    bind( 'beforeunload', window, function() {\n        if (leave_on_unload) SELF['each-channel'](function(ch){ SELF['LEAVE']( ch.name, 0 ) });\n        return true;\n    } );\n\n    // Return without Testing\n    if (setup['notest']) return SELF;\n\n    bind( 'offline', window,   SELF['offline'] );\n    bind( 'offline', document, SELF['offline'] );\n\n    // Return PUBNUB Socket Object\n    return SELF;\n};\nCREATE_PUBNUB['init']   = CREATE_PUBNUB;\nCREATE_PUBNUB['secure'] = CREATE_PUBNUB;\n\n// Bind for PUBNUB Readiness to Subscribe\nif (document.readyState === 'complete') {\n    timeout( ready, 0 );\n}\nelse {\n    bind( 'load', window, function(){ timeout( ready, 0 ) } );\n}\n\nvar pdiv = PDIV || {};\n\n// CREATE A PUBNUB GLOBAL OBJECT\nPUBNUB = CREATE_PUBNUB({\n    'notest'        : 1,\n    'publish_key'   : attr( pdiv, 'pub-key' ),\n    'subscribe_key' : attr( pdiv, 'sub-key' ),\n    'ssl'           : !document.location.href.indexOf('https') ||\n                      attr( pdiv, 'ssl' ) == 'on',\n    'origin'        : attr( pdiv, 'origin' ),\n    'uuid'          : attr( pdiv, 'uuid' )\n});\n\n// jQuery Interface\nwindow['jQuery'] && (window['jQuery']['PUBNUB'] = CREATE_PUBNUB);\n\n// For Modern JS + Testling.js - http://testling.com/\ntypeof(module) !== 'undefined' && (module['exports'] = PUBNUB) && ready();\n\nvar pubnubs = $('pubnubs') || 0;\n\n// LEAVE NOW IF NO PDIV.\nif (!PDIV) return;\n\n// PUBNUB Flash Socket\ncss( PDIV, { 'position' : 'absolute', 'top' : -SECOND } );\n\nif ('opera' in window || attr( PDIV, 'flash' )) PDIV['innerHTML'] =\n    '<object id=pubnubs data='  + SWF +\n    '><param name=movie value=' + SWF +\n    '><param name=allowscriptaccess value=always></object>';\n\n// Create Interface for Opera Flash\nPUBNUB['rdx'] = function( id, data ) {\n    if (!data) return FDomainRequest[id]['onerror']();\n    FDomainRequest[id]['responseText'] = unescape(data);\n    FDomainRequest[id]['onload']();\n};\n\nfunction FDomainRequest() {\n    if (!pubnubs || !pubnubs['get']) return 0;\n\n    var fdomainrequest = {\n        'id'    : FDomainRequest['id']++,\n        'send'  : function() {},\n        'abort' : function() { fdomainrequest['id'] = {} },\n        'open'  : function( method, url ) {\n            FDomainRequest[fdomainrequest['id']] = fdomainrequest;\n            pubnubs['get']( fdomainrequest['id'], url );\n        }\n    };\n\n    return fdomainrequest;\n}\nFDomainRequest['id'] = SECOND;\n\n})();\n(function(){\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET INTERFACE\n// ---------------------------------------------------------------------------\nvar WS = PUBNUB['ws'] = function( url, protocols ) {\n    if (!(this instanceof WS)) return new WS( url, protocols );\n\n    var self     = this\n    ,   url      = self.url      = url || ''\n    ,   protocol = self.protocol = protocols || 'Sec-WebSocket-Protocol'\n    ,   bits     = url.split('/')\n    ,   setup    = {\n         'ssl'           : bits[0] === 'wss:'\n        ,'origin'        : bits[2]\n        ,'publish_key'   : bits[3]\n        ,'subscribe_key' : bits[4]\n        ,'channel'       : bits[5]\n    };\n\n    // READY STATES\n    self['CONNECTING'] = 0; // The connection is not yet open.\n    self['OPEN']       = 1; // The connection is open and ready to communicate.\n    self['CLOSING']    = 2; // The connection is in the process of closing.\n    self['CLOSED']     = 3; // The connection is closed or couldn't be opened.\n\n    // CLOSE STATES\n    self['CLOSE_NORMAL']         = 1000; // Normal Intended Close; completed.\n    self['CLOSE_GOING_AWAY']     = 1001; // Closed Unexpecttedly.\n    self['CLOSE_PROTOCOL_ERROR'] = 1002; // Server: Not Supported.\n    self['CLOSE_UNSUPPORTED']    = 1003; // Server: Unsupported Protocol.\n    self['CLOSE_TOO_LARGE']      = 1004; // Server: Too Much Data.\n    self['CLOSE_NO_STATUS']      = 1005; // Server: No reason.\n    self['CLOSE_ABNORMAL']       = 1006; // Abnormal Disconnect.\n\n    // Events Default\n    self['onclose']   = self['onerror'] =\n    self['onmessage'] = self['onopen']  =\n    self['onsend']    =  function(){};\n\n    // Attributes\n    self['binaryType']     = '';\n    self['extensions']     = '';\n    self['bufferedAmount'] = 0;\n    self['trasnmitting']   = false;\n    self['buffer']         = [];\n    self['readyState']     = self['CONNECTING'];\n\n    // Close if no setup.\n    if (!url) {\n        self['readyState'] = self['CLOSED'];\n        self['onclose']({\n            'code'     : self['CLOSE_ABNORMAL'],\n            'reason'   : 'Missing URL',\n            'wasClean' : true\n        });\n        return self;\n    }\n\n    // PubNub WebSocket Emulation\n    self.pubnub       = PUBNUB['init'](setup);\n    self.pubnub.setup = setup;\n    self.setup        = setup;\n\n    self.pubnub['subscribe']({\n        'restore'    : false,\n        'channel'    : setup['channel'],\n        'disconnect' : self['onerror'],\n        'reconnect'  : self['onopen'],\n        'error'      : function() {\n            self['onclose']({\n                'code'     : self['CLOSE_ABNORMAL'],\n                'reason'   : 'Missing URL',\n                'wasClean' : false\n            });\n        },\n        'callback'   : function(message) {\n            self['onmessage']({ 'data' : message });\n        },\n        'connect'    : function() {\n            self['readyState'] = self['OPEN'];\n            self['onopen']();\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET SEND\n// ---------------------------------------------------------------------------\nWS.prototype.send = function(data) {\n    var self = this;\n    self.pubnub['publish']({\n        'channel'  : self.pubnub.setup['channel'],\n        'message'  : data,\n        'callback' : function(response) {\n            self['onsend']({ 'data' : response });\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET CLOSE\n// ---------------------------------------------------------------------------\nWS.prototype.close = function() {\n    var self = this;\n    self.pubnub['unsubscribe']({ 'channel' : self.pubnub.setup['channel'] });\n    self['readyState'] = self['CLOSED'];\n    self['onclose']({});\n};\n\n})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(h,s){var f={},g=f.lib={},q=function(){},m=g.Base={extend:function(a){q.prototype=this;var c=new q;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\nr=g.WordArray=m.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=s?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var c=this.words,d=a.words,b=this.sigBytes;a=a.sigBytes;this.clamp();if(b%4)for(var e=0;e<a;e++)c[b+e>>>2]|=(d[e>>>2]>>>24-8*(e%4)&255)<<24-8*((b+e)%4);else if(65535<d.length)for(e=0;e<a;e+=4)c[b+e>>>2]=d[e>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n32-8*(c%4);a.length=h.ceil(c/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*h.random()|0);return new r.init(c,a)}}),l=f.enc={},k=l.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++){var e=c[b>>>2]>>>24-8*(b%4)&255;d.push((e>>>4).toString(16));d.push((e&15).toString(16))}return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b+=2)d[b>>>3]|=parseInt(a.substr(b,\n2),16)<<24-4*(b%8);return new r.init(d,c/2)}},n=l.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++)d.push(String.fromCharCode(c[b>>>2]>>>24-8*(b%4)&255));return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b++)d[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return new r.init(d,c)}},j=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},\nu=g.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=j.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,b=c.sigBytes,e=this.blockSize,f=b/(4*e),f=a?h.ceil(f):h.max((f|0)-this._minBufferSize,0);a=f*e;b=h.min(4*a,b);if(a){for(var g=0;g<a;g+=e)this._doProcessBlock(d,g);g=d.splice(0,a);c.sigBytes-=b}return new r.init(g,b)},clone:function(){var a=m.clone.call(this);\na._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=u.extend({cfg:m.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new t.HMAC.init(a,\nd)).finalize(c)}}});var t=f.algo={};return f}(Math);\n(function(h){for(var s=CryptoJS,f=s.lib,g=f.WordArray,q=f.Hasher,f=s.algo,m=[],r=[],l=function(a){return 4294967296*(a-(a|0))|0},k=2,n=0;64>n;){var j;a:{j=k;for(var u=h.sqrt(j),t=2;t<=u;t++)if(!(j%t)){j=!1;break a}j=!0}j&&(8>n&&(m[n]=l(h.pow(k,0.5))),r[n]=l(h.pow(k,1/3)),n++);k++}var a=[],f=f.SHA256=q.extend({_doReset:function(){this._hash=new g.init(m.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],g=b[2],j=b[3],h=b[4],m=b[5],n=b[6],q=b[7],p=0;64>p;p++){if(16>p)a[p]=\nc[d+p]|0;else{var k=a[p-15],l=a[p-2];a[p]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+a[p-7]+((l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10)+a[p-16]}k=q+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&m^~h&n)+r[p]+a[p];l=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&g^f&g);q=n;n=m;m=h;h=j+k|0;j=g;g=f;f=e;e=k+l|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+g|0;b[3]=b[3]+j|0;b[4]=b[4]+h|0;b[5]=b[5]+m|0;b[6]=b[6]+n|0;b[7]=b[7]+q|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;\nd[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=q.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=q._createHelper(f);s.HmacSHA256=q._createHmacHelper(f)})(Math);\n(function(){var h=CryptoJS,s=h.enc.Utf8;h.algo.HMAC=h.lib.Base.extend({init:function(f,g){f=this._hasher=new f.init;\"string\"==typeof g&&(g=s.parse(g));var h=f.blockSize,m=4*h;g.sigBytes>m&&(g=f.finalize(g));g.clamp();for(var r=this._oKey=g.clone(),l=this._iKey=g.clone(),k=r.words,n=l.words,j=0;j<h;j++)k[j]^=1549556828,n[j]^=909522486;r.sigBytes=l.sigBytes=m;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var g=\nthis._hasher;f=g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f))}})})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var h=CryptoJS,j=h.lib.WordArray;h.enc.Base64={stringify:function(b){var e=b.words,f=b.sigBytes,c=this._map;b.clamp();b=[];for(var a=0;a<f;a+=3)for(var d=(e[a>>>2]>>>24-8*(a%4)&255)<<16|(e[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|e[a+2>>>2]>>>24-8*((a+2)%4)&255,g=0;4>g&&a+0.75*g<f;g++)b.push(c.charAt(d>>>6*(3-g)&63));if(e=c.charAt(64))for(;b.length%4;)b.push(e);return b.join(\"\")},parse:function(b){var e=b.length,f=this._map,c=f.charAt(64);c&&(c=b.indexOf(c),-1!=c&&(e=c));for(var c=[],a=0,d=0;d<\ne;d++)if(d%4){var g=f.indexOf(b.charAt(d-1))<<2*(d%4),h=f.indexOf(b.charAt(d))>>>6-2*(d%4);c[a>>>2]|=(g|h)<<24-8*(a%4);a++}return j.create(c,a)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+0.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join(\"\")},parse:function(d){var l=d.length,s=this._map,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<\nl;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},\n_doProcessBlock:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),\nf=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,\nm,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,\nE,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/\n4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this._process();b=this._hash;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});t.MD5=v._createHelper(r);t.HmacMD5=v._createHmacHelper(r)})(Math);\n(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,\nl)}})();\nCryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this._xformMode=e;this._key=a;this.reset()},reset:function(){t.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},\nfinalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return(\"string\"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return(\"string\"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d<b;d++)e[a+d]^=\nc[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e;this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this._prevBlock=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,\ne,a,c);this._prevBlock=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,\nthis,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,\n1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},\ndecrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return\"string\"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,\nb.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this._parse(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();\n(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,\n16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this._invKeySchedule=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>\n8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=\nd[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p._createHelper(d)})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/pubnub/web/pubnub.js\n ** module id = 39\n ** module chunks = 0\n **/","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.0.1\n */\n\n(function() {\n    \"use strict\";\n\n    function $$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function $$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function $$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var $$utils$$_isArray;\n\n    if (!Array.isArray) {\n      $$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      $$utils$$_isArray = Array.isArray;\n    }\n\n    var $$utils$$isArray = $$utils$$_isArray;\n    var $$utils$$now = Date.now || function() { return new Date().getTime(); };\n    function $$utils$$F() { }\n\n    var $$utils$$o_create = (Object.create || function (o) {\n      if (arguments.length > 1) {\n        throw new Error('Second argument not supported');\n      }\n      if (typeof o !== 'object') {\n        throw new TypeError('Argument must be an object');\n      }\n      $$utils$$F.prototype = o;\n      return new $$utils$$F();\n    });\n\n    var $$asap$$len = 0;\n\n    var $$asap$$default = function asap(callback, arg) {\n      $$asap$$queue[$$asap$$len] = callback;\n      $$asap$$queue[$$asap$$len + 1] = arg;\n      $$asap$$len += 2;\n      if ($$asap$$len === 2) {\n        // If len is 1, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        $$asap$$scheduleFlush();\n      }\n    };\n\n    var $$asap$$browserGlobal = (typeof window !== 'undefined') ? window : {};\n    var $$asap$$BrowserMutationObserver = $$asap$$browserGlobal.MutationObserver || $$asap$$browserGlobal.WebKitMutationObserver;\n\n    // test for web worker but not in IE10\n    var $$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function $$asap$$useNextTick() {\n      return function() {\n        process.nextTick($$asap$$flush);\n      };\n    }\n\n    function $$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new $$asap$$BrowserMutationObserver($$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function $$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = $$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function $$asap$$useSetTimeout() {\n      return function() {\n        setTimeout($$asap$$flush, 1);\n      };\n    }\n\n    var $$asap$$queue = new Array(1000);\n\n    function $$asap$$flush() {\n      for (var i = 0; i < $$asap$$len; i+=2) {\n        var callback = $$asap$$queue[i];\n        var arg = $$asap$$queue[i+1];\n\n        callback(arg);\n\n        $$asap$$queue[i] = undefined;\n        $$asap$$queue[i+1] = undefined;\n      }\n\n      $$asap$$len = 0;\n    }\n\n    var $$asap$$scheduleFlush;\n\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\n      $$asap$$scheduleFlush = $$asap$$useNextTick();\n    } else if ($$asap$$BrowserMutationObserver) {\n      $$asap$$scheduleFlush = $$asap$$useMutationObserver();\n    } else if ($$asap$$isWorker) {\n      $$asap$$scheduleFlush = $$asap$$useMessageChannel();\n    } else {\n      $$asap$$scheduleFlush = $$asap$$useSetTimeout();\n    }\n\n    function $$$internal$$noop() {}\n    var $$$internal$$PENDING   = void 0;\n    var $$$internal$$FULFILLED = 1;\n    var $$$internal$$REJECTED  = 2;\n    var $$$internal$$GET_THEN_ERROR = new $$$internal$$ErrorObject();\n\n    function $$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function $$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.')\n    }\n\n    function $$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        $$$internal$$GET_THEN_ERROR.error = error;\n        return $$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function $$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function $$$internal$$handleForeignThenable(promise, thenable, then) {\n       $$asap$$default(function(promise) {\n        var sealed = false;\n        var error = $$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            $$$internal$$resolve(promise, value);\n          } else {\n            $$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          $$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          $$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function $$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === $$$internal$$FULFILLED) {\n        $$$internal$$fulfill(promise, thenable._result);\n      } else if (promise._state === $$$internal$$REJECTED) {\n        $$$internal$$reject(promise, thenable._result);\n      } else {\n        $$$internal$$subscribe(thenable, undefined, function(value) {\n          $$$internal$$resolve(promise, value);\n        }, function(reason) {\n          $$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function $$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        $$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = $$$internal$$getThen(maybeThenable);\n\n        if (then === $$$internal$$GET_THEN_ERROR) {\n          $$$internal$$reject(promise, $$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          $$$internal$$fulfill(promise, maybeThenable);\n        } else if ($$utils$$isFunction(then)) {\n          $$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          $$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function $$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        $$$internal$$reject(promise, $$$internal$$selfFullfillment());\n      } else if ($$utils$$objectOrFunction(value)) {\n        $$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        $$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function $$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      $$$internal$$publish(promise);\n    }\n\n    function $$$internal$$fulfill(promise, value) {\n      if (promise._state !== $$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = $$$internal$$FULFILLED;\n\n      if (promise._subscribers.length === 0) {\n      } else {\n        $$asap$$default($$$internal$$publish, promise);\n      }\n    }\n\n    function $$$internal$$reject(promise, reason) {\n      if (promise._state !== $$$internal$$PENDING) { return; }\n      promise._state = $$$internal$$REJECTED;\n      promise._result = reason;\n\n      $$asap$$default($$$internal$$publishRejection, promise);\n    }\n\n    function $$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + $$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + $$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        $$asap$$default($$$internal$$publish, parent);\n      }\n    }\n\n    function $$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          $$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function $$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var $$$internal$$TRY_CATCH_ERROR = new $$$internal$$ErrorObject();\n\n    function $$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        $$$internal$$TRY_CATCH_ERROR.error = e;\n        return $$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function $$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = $$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = $$$internal$$tryCatch(callback, detail);\n\n        if (value === $$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          $$$internal$$reject(promise, $$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== $$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        $$$internal$$resolve(promise, value);\n      } else if (failed) {\n        $$$internal$$reject(promise, error);\n      } else if (settled === $$$internal$$FULFILLED) {\n        $$$internal$$fulfill(promise, value);\n      } else if (settled === $$$internal$$REJECTED) {\n        $$$internal$$reject(promise, value);\n      }\n    }\n\n    function $$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          $$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          $$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        $$$internal$$reject(promise, e);\n      }\n    }\n\n    function $$$enumerator$$makeSettledResult(state, position, value) {\n      if (state === $$$internal$$FULFILLED) {\n        return {\n          state: 'fulfilled',\n          value: value\n        };\n      } else {\n        return {\n          state: 'rejected',\n          reason: value\n        };\n      }\n    }\n\n    function $$$enumerator$$Enumerator(Constructor, input, abortOnReject, label) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor($$$internal$$noop, label);\n      this._abortOnReject = abortOnReject;\n\n      if (this._validateInput(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._init();\n\n        if (this.length === 0) {\n          $$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            $$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        $$$internal$$reject(this.promise, this._validationError());\n      }\n    }\n\n    $$$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return $$utils$$isArray(input);\n    };\n\n    $$$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    $$$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var $$$enumerator$$default = $$$enumerator$$Enumerator;\n\n    $$$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var promise = this.promise;\n      var input   = this._input;\n\n      for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      if ($$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== $$$internal$$PENDING) {\n          entry._onerror = null;\n          this._settledAt(entry._state, i, entry._result);\n        } else {\n          this._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        this._remaining--;\n        this._result[i] = this._makeResult($$$internal$$FULFILLED, i, entry);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === $$$internal$$PENDING) {\n        this._remaining--;\n\n        if (this._abortOnReject && state === $$$internal$$REJECTED) {\n          $$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = this._makeResult(state, i, value);\n        }\n      }\n\n      if (this._remaining === 0) {\n        $$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._makeResult = function(state, i, value) {\n      return value;\n    };\n\n    $$$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      $$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt($$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt($$$internal$$REJECTED, i, reason);\n      });\n    };\n\n    var $$promise$all$$default = function all(entries, label) {\n      return new $$$enumerator$$default(this, entries, true /* abort on reject */, label).promise;\n    };\n\n    var $$promise$race$$default = function race(entries, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor($$$internal$$noop, label);\n\n      if (!$$utils$$isArray(entries)) {\n        $$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        $$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        $$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\n        $$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    };\n\n    var $$promise$resolve$$default = function resolve(object, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor($$$internal$$noop, label);\n      $$$internal$$resolve(promise, object);\n      return promise;\n    };\n\n    var $$promise$reject$$default = function reject(reason, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor($$$internal$$noop, label);\n      $$$internal$$reject(promise, reason);\n      return promise;\n    };\n\n    var $$es6$promise$promise$$counter = 0;\n\n    function $$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function $$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var $$es6$promise$promise$$default = $$es6$promise$promise$$Promise;\n\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise’s eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function $$es6$promise$promise$$Promise(resolver) {\n      this._id = $$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if ($$$internal$$noop !== resolver) {\n        if (!$$utils$$isFunction(resolver)) {\n          $$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof $$es6$promise$promise$$Promise)) {\n          $$es6$promise$promise$$needsNew();\n        }\n\n        $$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    $$es6$promise$promise$$Promise.all = $$promise$all$$default;\n    $$es6$promise$promise$$Promise.race = $$promise$race$$default;\n    $$es6$promise$promise$$Promise.resolve = $$promise$resolve$$default;\n    $$es6$promise$promise$$Promise.reject = $$promise$reject$$default;\n\n    $$es6$promise$promise$$Promise.prototype = {\n      constructor: $$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === $$$internal$$FULFILLED && !onFulfillment || state === $$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor($$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          $$asap$$default(function(){\n            $$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          $$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n\n    var $$es6$promise$polyfill$$default = function polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n        local = global;\n      } else if (typeof window !== 'undefined' && window.document) {\n        local = window;\n      } else {\n        local = self;\n      }\n\n      var es6PromiseSupport =\n        \"Promise\" in local &&\n        // Some of these methods are missing from\n        // Firefox/Chrome experimental implementations\n        \"resolve\" in local.Promise &&\n        \"reject\" in local.Promise &&\n        \"all\" in local.Promise &&\n        \"race\" in local.Promise &&\n        // Older version of the spec had a resolver object\n        // as the arg rather than a function\n        (function() {\n          var resolve;\n          new local.Promise(function(r) { resolve = r; });\n          return $$utils$$isFunction(resolve);\n        }());\n\n      if (!es6PromiseSupport) {\n        local.Promise = $$es6$promise$promise$$default;\n      }\n    };\n\n    var es6$promise$umd$$ES6Promise = {\n      'Promise': $$es6$promise$promise$$default,\n      'polyfill': $$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = es6$promise$umd$$ES6Promise;\n    }\n}).call(this);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/es6-promise/dist/es6-promise.js\n ** module id = 40\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\"),require(\"./enc-base64\"),require(\"./md5\"),require(\"./evpkdf\"),require(\"./cipher-core\")):\"function\"==typeof define&&define.amd?define([\"./core\",\"./enc-base64\",\"./md5\",\"./evpkdf\",\"./cipher-core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,i=t.BlockCipher,o=r.algo,n=[],c=[],s=[],a=[],f=[],u=[],h=[],p=[],d=[],l=[];(function(){for(var e=[],r=0;256>r;r++)e[r]=128>r?r<<1:283^r<<1;for(var t=0,i=0,r=0;256>r;r++){var o=i^i<<1^i<<2^i<<3^i<<4;o=99^(o>>>8^255&o),n[t]=o,c[o]=t;var y=e[t],v=e[y],m=e[v],x=257*e[o]^16843008*o;s[t]=x<<24|x>>>8,a[t]=x<<16|x>>>16,f[t]=x<<8|x>>>24,u[t]=x;var x=16843009*m^65537*v^257*y^16843008*t;h[o]=x<<24|x>>>8,p[o]=x<<16|x>>>16,d[o]=x<<8|x>>>24,l[o]=x,t?(t=y^e[e[e[m^y]]],i^=e[e[i]]):t=i=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=i.extend({_doReset:function(){for(var e=this._key,r=e.words,t=e.sigBytes/4,i=this._nRounds=t+6,o=4*(i+1),c=this._keySchedule=[],s=0;o>s;s++)if(t>s)c[s]=r[s];else{var a=c[s-1];s%t?t>6&&4==s%t&&(a=n[a>>>24]<<24|n[255&a>>>16]<<16|n[255&a>>>8]<<8|n[255&a]):(a=a<<8|a>>>24,a=n[a>>>24]<<24|n[255&a>>>16]<<16|n[255&a>>>8]<<8|n[255&a],a^=y[0|s/t]<<24),c[s]=c[s-t]^a}for(var f=this._invKeySchedule=[],u=0;o>u;u++){var s=o-u;if(u%4)var a=c[s];else var a=c[s-4];f[u]=4>u||4>=s?a:h[n[a>>>24]]^p[n[255&a>>>16]]^d[n[255&a>>>8]]^l[n[255&a]]}},encryptBlock:function(e,r){this._doCryptBlock(e,r,this._keySchedule,s,a,f,u,n)},decryptBlock:function(e,r){var t=e[r+1];e[r+1]=e[r+3],e[r+3]=t,this._doCryptBlock(e,r,this._invKeySchedule,h,p,d,l,c);var t=e[r+1];e[r+1]=e[r+3],e[r+3]=t},_doCryptBlock:function(e,r,t,i,o,n,c,s){for(var a=this._nRounds,f=e[r]^t[0],u=e[r+1]^t[1],h=e[r+2]^t[2],p=e[r+3]^t[3],d=4,l=1;a>l;l++){var y=i[f>>>24]^o[255&u>>>16]^n[255&h>>>8]^c[255&p]^t[d++],v=i[u>>>24]^o[255&h>>>16]^n[255&p>>>8]^c[255&f]^t[d++],m=i[h>>>24]^o[255&p>>>16]^n[255&f>>>8]^c[255&u]^t[d++],x=i[p>>>24]^o[255&f>>>16]^n[255&u>>>8]^c[255&h]^t[d++];f=y,u=v,h=m,p=x}var y=(s[f>>>24]<<24|s[255&u>>>16]<<16|s[255&h>>>8]<<8|s[255&p])^t[d++],v=(s[u>>>24]<<24|s[255&h>>>16]<<16|s[255&p>>>8]<<8|s[255&f])^t[d++],m=(s[h>>>24]<<24|s[255&p>>>16]<<16|s[255&f>>>8]<<8|s[255&u])^t[d++],x=(s[p>>>24]<<24|s[255&f>>>16]<<16|s[255&u>>>8]<<8|s[255&h])^t[d++];e[r]=y,e[r+1]=v,e[r+2]=m,e[r+3]=x},keySize:8});r.AES=i._createHelper(v)}(),e.AES});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/aes.js\n ** module id = 41\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\"),require(\"./cipher-core\")):\"function\"==typeof define&&define.amd?define([\"./core\",\"./cipher-core\"],r):r(e.CryptoJS)})(this,function(e){return e.mode.ECB=function(){var r=e.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(e,r){this._cipher.encryptBlock(e,r)}}),r.Decryptor=r.extend({processBlock:function(e,r){this._cipher.decryptBlock(e,r)}}),r}(),e.mode.ECB});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/mode-ecb.js\n ** module id = 42\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r():\"function\"==typeof define&&define.amd?define([],r):e.CryptoJS=r()})(this,function(){var e=e||function(e,r){var t={},i=t.lib={},n=i.Base=function(){function e(){}return{extend:function(r){e.prototype=this;var t=new e;return r&&t.mixIn(r),t.hasOwnProperty(\"init\")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);e.hasOwnProperty(\"toString\")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=r?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var r=this.words,t=e.words,i=this.sigBytes,n=e.sigBytes;if(this.clamp(),i%4)for(var o=0;n>o;o++){var c=255&t[o>>>2]>>>24-8*(o%4);r[i+o>>>2]|=c<<24-8*((i+o)%4)}else if(t.length>65535)for(var o=0;n>o;o+=4)r[i+o>>>2]=t[o>>>2];else r.push.apply(r,t);return this.sigBytes+=n,this},clamp:function(){var r=this.words,t=this.sigBytes;r[t>>>2]&=4294967295<<32-8*(t%4),r.length=e.ceil(t/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(r){for(var t=[],i=0;r>i;i+=4)t.push(0|4294967296*e.random());return new o.init(t,r)}}),c=t.enc={},s=c.Hex={stringify:function(e){for(var r=e.words,t=e.sigBytes,i=[],n=0;t>n;n++){var o=255&r[n>>>2]>>>24-8*(n%4);i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join(\"\")},parse:function(e){for(var r=e.length,t=[],i=0;r>i;i+=2)t[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8);return new o.init(t,r/2)}},u=c.Latin1={stringify:function(e){for(var r=e.words,t=e.sigBytes,i=[],n=0;t>n;n++){var o=255&r[n>>>2]>>>24-8*(n%4);i.push(String.fromCharCode(o))}return i.join(\"\")},parse:function(e){for(var r=e.length,t=[],i=0;r>i;i++)t[i>>>2]|=(255&e.charCodeAt(i))<<24-8*(i%4);return new o.init(t,r)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(r){throw Error(\"Malformed UTF-8 data\")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},a=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){\"string\"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(r){var t=this._data,i=t.words,n=t.sigBytes,c=this.blockSize,s=4*c,u=n/s;u=r?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var f=u*c,a=e.min(4*f,n);if(f){for(var p=0;f>p;p+=c)this._doProcessBlock(i,p);var d=i.splice(0,f);t.sigBytes-=a}return new o.init(d,a)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=a.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){a.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var r=this._doFinalize();return r},blockSize:16,_createHelper:function(e){return function(r,t){return new e.init(t).finalize(r)}},_createHmacHelper:function(e){return function(r,t){return new p.HMAC.init(e,t).finalize(r)}}});var p=t.algo={};return t}(Math);return e});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/core.js\n ** module id = 43\n ** module chunks = 0\n **/","/// <reference path=\"../../../typings/externals.d.ts\" />\n\nimport h = require('./Headers');\nimport utils = require('../Utils');\nimport log = require('../Log');\nimport context = require('../Context');\nimport ajaxObserver = require('../AjaxObserver');\nimport r = require('./Response');\n\n/**\n * TODO @see https://github.com/github/fetch/blob/master/fetch.js\n */\nexport class Request extends h.Headers<Request> {\n\n    public async:boolean;\n    public method:string;\n    public url:string;\n    public query:any;\n    public body:any;\n    public xhr:XMLHttpRequest;\n\n    private observer:ajaxObserver.AjaxObserver;\n\n    constructor(context:context.Context) {\n\n        super(context);\n\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.query = null;\n        this.body = {};\n        this.context = context;\n        this.xhr = null;\n\n        this.observer = ajaxObserver.$get(context);\n\n    }\n\n    isLoaded():boolean {\n        return !!this.xhr;\n    }\n\n    setOptions(options?:IAjaxOptions):Request {\n\n        options = options || {};\n\n        // backwards compatibility\n        if (!('body' in options) && options.post) options.body = options.post;\n        if (!('query' in options) && options.get) options.query = options.get;\n\n        if ('method' in options) this.method = options.method;\n        if ('url' in options) this.url = options.url;\n        if ('query' in options) this.query = options.query;\n        if ('body' in options) this.body = options.body;\n        if ('headers' in options) this.setHeaders(options.headers);\n        if ('async' in options) this.async = !!options.async;\n\n        return this;\n\n    }\n\n    /**\n     * Checks the send options, defaulting various of the options,\n     * and consuming / transforming some of the options (like get).\n     */\n    checkOptions() {\n\n        if (!this.url) throw new Error('Url is not defined');\n\n        if (!this.hasHeader('Accept')) this.setHeader('Accept', h.Headers.jsonContentType);\n        if (!this.hasHeader('Content-Type')) this.setHeader('Content-Type', h.Headers.jsonContentType);\n\n        this.method = this.method ? this.method.toUpperCase() : 'GET';\n\n        if (['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'].indexOf(this.method) < 0) throw new Error('Method has wrong value');\n\n        return this;\n\n    }\n\n    getEncodedBody() {\n\n        if (this.method === 'GET') return null;\n\n        if (typeof this.body === 'string') {\n            return this.body;\n        } else if (this.isJson()) {\n            return JSON.stringify(this.body);\n        } else if (this.isUrlEncoded()) {\n            return this.utils.queryStringify(this.body);\n        } else {\n            return this.body;\n        }\n\n    }\n\n    send():Promise<r.Response> {\n\n        this.observer.emit(this.observer.events.beforeRequest, this);\n\n        var responsePromise = new (this.context.getPromise())((resolve, reject) => {\n\n            this.checkOptions();\n\n            var xhr = this.getXHR(),\n                url = this.url + (!!this.query ? ((this.url.indexOf('?') > -1 ? '&' : '?') + this.utils.queryStringify(this.query)) : '');\n\n            xhr.open(this.method, url, this.async);\n\n            //@see http://stackoverflow.com/questions/19666809/cors-withcredentials-support-limited\n            xhr.withCredentials = true;\n\n            xhr.onload = () => {\n\n                //TODO http://jira.ringcentral.com/browse/PLA-10585\n                var response = r.$get(this.context, xhr.status, xhr.statusText, xhr.responseText, xhr.getAllResponseHeaders());\n\n                if (response.error) {\n                    var e = <IAjaxError> response.error;\n                    e.ajax = response; // backwards compatibility\n                    e.response = response; //FIXME Circular\n                    e.request = this;\n                    reject(e);\n                } else {\n                    resolve(response);\n                }\n\n            };\n\n            xhr.onerror = (event) => { // CORS or network issue\n                var e = <IAjaxError> new Error('The request cannot be sent' + (event ? ' (' + event.toString() + ')' : ''));\n                e.request = this;\n                e.response = null;\n                e.ajax = null; // backwards compatibility\n                reject(e);\n            };\n\n            this.utils.forEach(this.headers, (value, header) => {\n                if (!!value) xhr.setRequestHeader(header, value);\n            });\n\n            xhr.send(this.getEncodedBody());\n\n            this.xhr = xhr;\n\n        });\n\n        return responsePromise.then((response:r.Response) => {\n\n            this.observer.emit(this.observer.events.requestSuccess, response, this);\n\n            return response;\n\n        }).catch((e):any => { //TODO Replace any with something\n\n            this.observer.emit(this.observer.events.requestError, e);\n\n            throw e;\n\n        });\n\n    }\n\n    getXHR():XMLHttpRequest {\n        return this.context.getXHR();\n    }\n\n    destroy() {\n        if (this.xhr) this.xhr.abort();\n    }\n\n}\n\nexport function $get(context:context.Context):Request {\n    return new Request(context);\n}\n\nexport interface IAjaxError extends Error {\n    ajax?:r.Response;\n    response?:r.Response;\n    request?:Request;\n}\n\nexport interface IAjaxOptions {\n    url?:string;\n    method?:string;\n    async?:boolean;\n    query?:any;\n    body?:any;\n    headers?:h.IHeadersObject;\n    post?:any; // @deprecated\n    get?:any; // @deprecated\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/http/Request.ts\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,n=t.WordArray,i=r.enc;i.Base64={stringify:function(e){var r=e.words,t=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;t>o;o+=3)for(var c=255&r[o>>>2]>>>24-8*(o%4),f=255&r[o+1>>>2]>>>24-8*((o+1)%4),s=255&r[o+2>>>2]>>>24-8*((o+2)%4),a=c<<16|f<<8|s,u=0;4>u&&t>o+.75*u;u++)i.push(n.charAt(63&a>>>6*(3-u)));var p=n.charAt(64);if(p)for(;i.length%4;)i.push(p);return i.join(\"\")},parse:function(e){var r=e.length,t=this._map,i=t.charAt(64);if(i){var o=e.indexOf(i);-1!=o&&(r=o)}for(var c=[],f=0,s=0;r>s;s++)if(s%4){var a=t.indexOf(e.charAt(s-1))<<2*(s%4),u=t.indexOf(e.charAt(s))>>>6-2*(s%4);c[f>>>2]|=(a|u)<<24-8*(f%4),f++}return n.create(c,f)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}}(),e.enc.Base64});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/enc-base64.js\n ** module id = 45\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(r){function t(e,r,t,n,i,o,c){var s=e+(r&t|~r&n)+i+c;return(s<<o|s>>>32-o)+r}function n(e,r,t,n,i,o,c){var s=e+(r&n|t&~n)+i+c;return(s<<o|s>>>32-o)+r}function i(e,r,t,n,i,o,c){var s=e+(r^t^n)+i+c;return(s<<o|s>>>32-o)+r}function o(e,r,t,n,i,o,c){var s=e+(t^(r|~n))+i+c;return(s<<o|s>>>32-o)+r}var c=e,s=c.lib,f=s.WordArray,a=s.Hasher,u=c.algo,p=[];(function(){for(var e=0;64>e;e++)p[e]=0|4294967296*r.abs(r.sin(e+1))})();var d=u.MD5=a.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var c=0;16>c;c++){var s=r+c,f=e[s];e[s]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}var a=this._hash.words,u=e[r+0],d=e[r+1],h=e[r+2],y=e[r+3],m=e[r+4],l=e[r+5],x=e[r+6],q=e[r+7],g=e[r+8],v=e[r+9],b=e[r+10],S=e[r+11],A=e[r+12],w=e[r+13],_=e[r+14],C=e[r+15],B=a[0],H=a[1],j=a[2],J=a[3];B=t(B,H,j,J,u,7,p[0]),J=t(J,B,H,j,d,12,p[1]),j=t(j,J,B,H,h,17,p[2]),H=t(H,j,J,B,y,22,p[3]),B=t(B,H,j,J,m,7,p[4]),J=t(J,B,H,j,l,12,p[5]),j=t(j,J,B,H,x,17,p[6]),H=t(H,j,J,B,q,22,p[7]),B=t(B,H,j,J,g,7,p[8]),J=t(J,B,H,j,v,12,p[9]),j=t(j,J,B,H,b,17,p[10]),H=t(H,j,J,B,S,22,p[11]),B=t(B,H,j,J,A,7,p[12]),J=t(J,B,H,j,w,12,p[13]),j=t(j,J,B,H,_,17,p[14]),H=t(H,j,J,B,C,22,p[15]),B=n(B,H,j,J,d,5,p[16]),J=n(J,B,H,j,x,9,p[17]),j=n(j,J,B,H,S,14,p[18]),H=n(H,j,J,B,u,20,p[19]),B=n(B,H,j,J,l,5,p[20]),J=n(J,B,H,j,b,9,p[21]),j=n(j,J,B,H,C,14,p[22]),H=n(H,j,J,B,m,20,p[23]),B=n(B,H,j,J,v,5,p[24]),J=n(J,B,H,j,_,9,p[25]),j=n(j,J,B,H,y,14,p[26]),H=n(H,j,J,B,g,20,p[27]),B=n(B,H,j,J,w,5,p[28]),J=n(J,B,H,j,h,9,p[29]),j=n(j,J,B,H,q,14,p[30]),H=n(H,j,J,B,A,20,p[31]),B=i(B,H,j,J,l,4,p[32]),J=i(J,B,H,j,g,11,p[33]),j=i(j,J,B,H,S,16,p[34]),H=i(H,j,J,B,_,23,p[35]),B=i(B,H,j,J,d,4,p[36]),J=i(J,B,H,j,m,11,p[37]),j=i(j,J,B,H,q,16,p[38]),H=i(H,j,J,B,b,23,p[39]),B=i(B,H,j,J,w,4,p[40]),J=i(J,B,H,j,u,11,p[41]),j=i(j,J,B,H,y,16,p[42]),H=i(H,j,J,B,x,23,p[43]),B=i(B,H,j,J,v,4,p[44]),J=i(J,B,H,j,A,11,p[45]),j=i(j,J,B,H,C,16,p[46]),H=i(H,j,J,B,h,23,p[47]),B=o(B,H,j,J,u,6,p[48]),J=o(J,B,H,j,q,10,p[49]),j=o(j,J,B,H,_,15,p[50]),H=o(H,j,J,B,l,21,p[51]),B=o(B,H,j,J,A,6,p[52]),J=o(J,B,H,j,y,10,p[53]),j=o(j,J,B,H,b,15,p[54]),H=o(H,j,J,B,d,21,p[55]),B=o(B,H,j,J,g,6,p[56]),J=o(J,B,H,j,C,10,p[57]),j=o(j,J,B,H,x,15,p[58]),H=o(H,j,J,B,w,21,p[59]),B=o(B,H,j,J,m,6,p[60]),J=o(J,B,H,j,S,10,p[61]),j=o(j,J,B,H,h,15,p[62]),H=o(H,j,J,B,v,21,p[63]),a[0]=0|a[0]+B,a[1]=0|a[1]+H,a[2]=0|a[2]+j,a[3]=0|a[3]+J},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32;var o=r.floor(n/4294967296),c=n;t[(i+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t[(i+64>>>9<<4)+14]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),e.sigBytes=4*(t.length+1),this._process();for(var s=this._hash,f=s.words,a=0;4>a;a++){var u=f[a];f[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});c.MD5=a._createHelper(d),c.HmacMD5=a._createHmacHelper(d)}(Math),e.MD5});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/md5.js\n ** module id = 46\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\"),require(\"./sha1\"),require(\"./hmac\")):\"function\"==typeof define&&define.amd?define([\"./core\",\"./sha1\",\"./hmac\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,i=t.Base,n=t.WordArray,o=r.algo,a=o.MD5,s=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,r){for(var t=this.cfg,i=t.hasher.create(),o=n.create(),a=o.words,s=t.keySize,c=t.iterations;s>a.length;){f&&i.update(f);var f=i.update(e).finalize(r);i.reset();for(var u=1;c>u;u++)f=i.finalize(f),i.reset();o.concat(f)}return o.sigBytes=4*s,o}});r.EvpKDF=function(e,r,t){return s.create(t).compute(e,r)}}(),e.EvpKDF});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/evpkdf.js\n ** module id = 47\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){e.lib.Cipher||function(r){var t=e,i=t.lib,n=i.Base,o=i.WordArray,c=i.BufferedBlockAlgorithm,s=t.enc;s.Utf8;var a=s.Base64,f=t.algo,u=f.EvpKDF,h=i.Cipher=c.extend({cfg:n.extend(),createEncryptor:function(e,r){return this.create(this._ENC_XFORM_MODE,e,r)},createDecryptor:function(e,r){return this.create(this._DEC_XFORM_MODE,e,r)},init:function(e,r,t){this.cfg=this.cfg.extend(t),this._xformMode=e,this._key=r,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var r=this._doFinalize();return r},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return\"string\"==typeof e?q:_}return function(r){return{encrypt:function(t,i,n){return e(i).encrypt(r,t,i,n)},decrypt:function(t,i,n){return e(i).decrypt(r,t,i,n)}}}}()});i.StreamCipher=h.extend({_doFinalize:function(){var e=this._process(true);return e},blockSize:1});var d=t.mode={},p=i.BlockCipherMode=n.extend({createEncryptor:function(e,r){return this.Encryptor.create(e,r)},createDecryptor:function(e,r){return this.Decryptor.create(e,r)},init:function(e,r){this._cipher=e,this._iv=r}}),l=d.CBC=function(){function e(e,t,i){var n=this._iv;if(n){var o=n;this._iv=r}else var o=this._prevBlock;for(var c=0;i>c;c++)e[t+c]^=o[c]}var t=p.extend();return t.Encryptor=t.extend({processBlock:function(r,t){var i=this._cipher,n=i.blockSize;e.call(this,r,t,n),i.encryptBlock(r,t),this._prevBlock=r.slice(t,t+n)}}),t.Decryptor=t.extend({processBlock:function(r,t){var i=this._cipher,n=i.blockSize,o=r.slice(t,t+n);i.decryptBlock(r,t),e.call(this,r,t,n),this._prevBlock=o}}),t}(),y=t.pad={},v=y.Pkcs7={pad:function(e,r){for(var t=4*r,i=t-e.sigBytes%t,n=i<<24|i<<16|i<<8|i,c=[],s=0;i>s;s+=4)c.push(n);var a=o.create(c,i);e.concat(a)},unpad:function(e){var r=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=r}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:l,padding:v}),reset:function(){h.reset.call(this);var e=this.cfg,r=e.iv,t=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=t.createEncryptor;else{var i=t.createDecryptor;this._minBufferSize=1}this._mode=i.call(t,this,r&&r.words)},_doProcessBlock:function(e,r){this._mode.processBlock(e,r)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var r=this._process(true)}else{var r=this._process(true);e.unpad(r)}return r},blockSize:4});var g=i.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=t.format={},x=m.OpenSSL={stringify:function(e){var r=e.ciphertext,t=e.salt;if(t)var i=o.create([1398893684,1701076831]).concat(t).concat(r);else var i=r;return i.toString(a)},parse:function(e){var r=a.parse(e),t=r.words;if(1398893684==t[0]&&1701076831==t[1]){var i=o.create(t.slice(2,4));t.splice(0,4),r.sigBytes-=16}return g.create({ciphertext:r,salt:i})}},_=i.SerializableCipher=n.extend({cfg:n.extend({format:x}),encrypt:function(e,r,t,i){i=this.cfg.extend(i);var n=e.createEncryptor(t,i),o=n.finalize(r),c=n.cfg;return g.create({ciphertext:o,key:t,iv:c.iv,algorithm:e,mode:c.mode,padding:c.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,r,t,i){i=this.cfg.extend(i),r=this._parse(r,i.format);var n=e.createDecryptor(t,i).finalize(r.ciphertext);return n},_parse:function(e,r){return\"string\"==typeof e?r.parse(e,this):e}}),w=t.kdf={},S=w.OpenSSL={execute:function(e,r,t,i){i||(i=o.random(8));var n=u.create({keySize:r+t}).compute(e,i),c=o.create(n.words.slice(r),4*t);return n.sigBytes=4*r,g.create({key:n,iv:c,salt:i})}},q=i.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:S}),encrypt:function(e,r,t,i){i=this.cfg.extend(i);var n=i.kdf.execute(t,e.keySize,e.ivSize);i.iv=n.iv;var o=_.encrypt.call(this,e,r,n.key,i);return o.mixIn(n),o},decrypt:function(e,r,t,i){i=this.cfg.extend(i),r=this._parse(r,i.format);var n=i.kdf.execute(t,e.keySize,e.ivSize,r.salt);i.iv=n.iv;var o=_.decrypt.call(this,e,r,n.key,i);return o}})}()});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/cipher-core.js\n ** module id = 48\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 49\n ** module chunks = 0\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 50\n ** module chunks = 0\n **/","/// <reference path=\"../../../typings/externals.d.ts\" />\n\nimport utils = require('../Utils');\nimport context = require('../Context');\n\n/**\n * @see https://github.com/Microsoft/TypeScript/issues/275\n */\nexport class Headers<T extends Headers<any>> {\n\n    protected headers:IHeadersObject;\n    protected context:context.Context;\n    protected utils:utils.Utils;\n\n    constructor(context:context.Context) {\n        this.headers = {};\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n\n    static contentType = 'Content-Type';\n    static jsonContentType = 'application/json';\n    static multipartContentType = 'multipart/mixed';\n    static urlencodedContentType = 'application/x-www-form-urlencoded';\n\n    setHeader(name:string, value:string):T {\n\n        this.headers[name.toLowerCase()] = value;\n\n        return <any>this;\n\n    }\n\n    getHeader(name:string) {\n\n        return this.headers[name.toLowerCase()];\n\n    }\n\n    hasHeader(name:string):boolean {\n\n        return (name.toLowerCase() in this.headers);\n\n    }\n\n    setHeaders(headers:IHeadersObject):T {\n\n        this.utils.forEach(headers, (value:string, name:string) => {\n            this.setHeader(name, value);\n        });\n\n        return <any>this;\n\n    }\n\n    isContentType(contentType:string):boolean {\n        return this.getContentType().indexOf(contentType) > -1;\n    }\n\n    setContentType(contentType:string):T {\n        this.setHeader(Headers.contentType, contentType);\n        return <any>this;\n    }\n\n    getContentType():string {\n        return this.getHeader(Headers.contentType) || '';\n    }\n\n    isMultipart():boolean {\n        return this.isContentType(Headers.multipartContentType);\n    }\n\n    isUrlEncoded():boolean {\n        return this.isContentType(Headers.urlencodedContentType);\n    }\n\n    isJson():boolean {\n        return this.isContentType(Headers.jsonContentType);\n    }\n\n}\n\nexport interface IHeadersObject {\n    [name: string]: string;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/http/Headers.ts\n **/","/// <reference path=\"../../../typings/externals.d.ts\" />\n\nimport h = require('./Headers');\nimport utils = require('../Utils');\nimport log = require('../Log');\nimport context = require('../Context');\n\nexport class Response extends h.Headers<Response> {\n\n    static boundarySeparator = '--';\n    static headerSeparator = ':';\n    static bodySeparator = '\\n\\n';\n\n    public data:any;\n    public json:any;\n    public responses:Response[];\n    public error:Error;\n    public status:number;\n    public statusText:string;\n    public body:any;\n\n    private log:log.Log;\n\n    constructor(context:context.Context, status:number, statusText:string, body:any, headers?:any) {\n\n        super(context);\n\n        this.log = log.$get(context);\n\n        if (typeof(body) === 'string') {\n\n            body = body.replace(/\\r/g, '');\n\n            if (!headers) {\n\n                var tmp = body.split(Response.bodySeparator);\n\n                headers = (tmp.length > 1) ? tmp.shift() : {};\n                body = tmp.join(Response.bodySeparator);\n\n            }\n\n        }\n\n        /** @type {Response[]|object} */\n        this.data = null;\n\n        /** @type {object} */\n        this.json = null;\n\n        /** @type {Response[]} */\n        this.responses = [];\n\n        /** @type {Error} */\n        this.error = null;\n\n        //@see http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n        if (status == 1223) status = 204;\n\n        this.status = status;\n        this.statusText = statusText;\n        this.body = body;\n\n        try {\n\n            // Step 1. Parse headers\n\n            if (typeof(headers) === 'string') {\n\n                (headers || '')\n                    .split('\\n')\n                    .forEach((header:string) => {\n\n                                 if (!header) return;\n\n                                 /** @type {string[]} */\n                                 var parts = header.split(Response.headerSeparator),\n                                     name = parts.shift().trim();\n\n                                 this.setHeader(name, parts.join(Response.headerSeparator).trim());\n\n                             });\n\n            } else {\n\n                this.setHeaders(headers);\n\n            }\n\n            // Step 1.1. JEDI proxy sometimes may omit Content-Type header\n\n            if (!this.hasHeader(h.Headers.contentType)) this.setHeader(h.Headers.contentType, h.Headers.jsonContentType);\n\n            // Step 2. Parse body\n\n            if (this.isJson() && !!this.body && typeof(this.body) === 'string') { // Handle 204 No Content -- response may be empty\n\n                this.json = JSON.parse(this.body);\n                this.data = this.json; // backwards compatibility\n\n                if (!this.checkStatus()) this.error = new Error(this.getError());\n\n            } else if (this.isMultipart()) { // Handle 207 Multi-Status\n\n                // Step 2.1. Split multipart response\n\n                var boundary = this.getContentType().match(/boundary=([^;]+)/i)[1],\n                    parts = this.body.split(Response.boundarySeparator + boundary);\n\n                if (parts[0].trim() === '') parts.shift();\n                if (parts[parts.length - 1].trim() == Response.boundarySeparator) parts.pop();\n\n                // Step 2.2. Parse status info\n\n                var statusInfo = new Response(this.context, this.status, '', parts.shift());\n\n                // Step 2.3. Parse all other parts\n\n                this.responses = parts.map((part:string, i) => {\n\n                    var status = statusInfo.data.response[i].status;\n\n                    return new Response(this.context, status, '', part);\n\n                });\n\n                this.data = this.responses; // backwards compatibility\n\n            } else { //TODO Add more parsers\n\n                this.data = this.body;\n\n            }\n\n        } catch (e) { // Capture parse errors\n\n            this.log.error('Response.parseResponse(): Unable to parse data');\n            this.log.error(e.stack || e);\n            this.log.error(this.body);\n\n            this.error = e;\n\n        }\n\n    }\n\n    /**\n     * @returns {boolean}\n     */\n    isUnauthorized() {\n        return (this.status == 401);\n    }\n\n    checkStatus() {\n        return this.status >= 200 && this.status < 300;\n    }\n\n\n    getError() {\n        return this.data.message ||\n            this.data.error_description ||\n            this.data.description ||\n            'Unknown error';\n    }\n\n}\n\nexport function $get(context:context.Context, status:number, statusText:string, body:any, headers?:any):Response {\n\n    return new Response(context, status, statusText, body, headers);\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/http/Response.ts\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 53\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,n=t.WordArray,i=t.Hasher,o=r.algo,s=[],c=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,r){for(var t=this._hash.words,n=t[0],i=t[1],o=t[2],c=t[3],a=t[4],f=0;80>f;f++){if(16>f)s[f]=0|e[r+f];else{var u=s[f-3]^s[f-8]^s[f-14]^s[f-16];s[f]=u<<1|u>>>31}var d=(n<<5|n>>>27)+a+s[f];d+=20>f?(i&o|~i&c)+1518500249:40>f?(i^o^c)+1859775393:60>f?(i&o|i&c|o&c)-1894007588:(i^o^c)-899497514,a=c,c=o,o=i<<30|i>>>2,i=n,n=d}t[0]=0|t[0]+n,t[1]=0|t[1]+i,t[2]=0|t[2]+o,t[3]=0|t[3]+c,t[4]=0|t[4]+a},_doFinalize:function(){var e=this._data,r=e.words,t=8*this._nDataBytes,n=8*e.sigBytes;return r[n>>>5]|=128<<24-n%32,r[(n+64>>>9<<4)+14]=Math.floor(t/4294967296),r[(n+64>>>9<<4)+15]=t,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA1=i._createHelper(c),r.HmacSHA1=i._createHmacHelper(c)}(),e.SHA1});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/sha1.js\n ** module id = 54\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){(function(){var r=e,t=r.lib,n=t.Base,i=r.enc,o=i.Utf8,a=r.algo;a.HMAC=n.extend({init:function(e,r){e=this._hasher=new e.init,\"string\"==typeof r&&(r=o.parse(r));var t=e.blockSize,n=4*t;r.sigBytes>n&&(r=e.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),a=this._iKey=r.clone(),s=i.words,c=a.words,f=0;t>f;f++)s[f]^=1549556828,c[f]^=909522486;i.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var r=this._hasher,t=r.finalize(e);r.reset();var n=r.finalize(this._oKey.clone().concat(t));return n}})})()});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/hmac.js\n ** module id = 55\n ** module chunks = 0\n **/"],"sourceRoot":"/source/"}