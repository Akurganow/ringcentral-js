{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","ringcentral-bundle.js","webpack:/webpack/bootstrap 376cc765ad2cf3304422","webpack:///src/SDK.js","webpack:///src/core/Utils.js","webpack:///src/core/Externals.js","webpack:///bower_components/es6-promise/promise.js","webpack:///(webpack)/~/node-libs-browser/~/timers-browserify/main.js","webpack:///(webpack)/~/node-libs-browser/~/process/browser.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///bower_components/fetch/fetch.js","webpack:///bower_components/pubnub/web/pubnub.js","webpack:///src/core/Cache.js","webpack:///src/core/Observable.js","webpack:///src/core/Queue.js","webpack:///src/http/Client.js","webpack:///src/http/Utils.js","webpack:///src/http/ApiResponse.js","webpack:///src/mocks/ClientMock.js","webpack:///src/mocks/Registry.js","webpack:///src/mocks/Mock.js","webpack:///src/platform/Platform.js","webpack:///src/platform/Auth.js","webpack:///src/pubnub/PubnubFactory.js","webpack:///src/pubnub/PubnubMock.js","webpack:///src/subscription/Subscription.js","webpack:///src/subscription/CachedSubscription.js","webpack:///~/regenerator/runtime.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_interopRequireWildcard","newObj","key","Object","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_coreUtils","Utils","_coreCache","_coreCache2","_coreExternals","Externals","_coreObservable","_coreObservable2","_coreQueue","_coreQueue2","_httpClient","_httpClient2","_httpApiResponse","_httpApiResponse2","_httpUtils","HttpUtils","_mocksClientMock","_mocksClientMock2","_mocksMock","_mocksMock2","_mocksRegistry","_mocksRegistry2","_platformPlatform","_platformPlatform2","_platformAuth","_platformAuth2","_pubnubPubnubFactory","_pubnubPubnubFactory2","_subscriptionSubscription","_subscriptionSubscription2","_subscriptionCachedSubscription","_subscriptionCachedSubscription2","SDK","options","_cache","localStorage","cachePrefix","_client","client","_platform","server","appKey","appSecret","_pubnubFactory","pubnubFactory","PUBNUB","value","sandbox","production","platform","createSubscription","createCachedSubscription","cacheKey","cache","Cache","Observable","Queue","Client","ApiResponse","Auth","Platform","Subscription","Registry","Mock","PubnubMockFactory","queryStringify","parameters","array","keys","forEach","k","v","isArray","vv","push","encodeURIComponent","join","parseQueryString","queryString","argsParsed","split","arg","decodeURIComponent","indexOf","trim","pair","isFunction","Array","poll","fn","interval","timeout","stopPolling","next","delay","setTimeout","clearTimeout","isNodeJS","process","isBrowser","window","_ExternalsJs","Promise","resolve","reject","_es6Promise","_es6Promise2","_nodeFetch","_nodeFetch2","_pubnub","_pubnub2","Function","fetch","Request","Response","Headers","__WEBPACK_AMD_DEFINE_RESULT__","setImmediate","global","lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$utils$$isMaybeThenable","lib$es6$promise$asap$$asap","callback","lib$es6$promise$asap$$queue","lib$es6$promise$asap$$len","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$setScheduler","scheduleFn","lib$es6$promise$asap$$useNextTick","nextTick","version","versions","node","match","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","document","createTextNode","observe","characterData","data","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","undefined","lib$es6$promise$asap$$attemptVertex","vertx","e","Error","code","runOnLoop","runOnContext","lib$es6$promise$$internal$$noop","lib$es6$promise$$internal$$selfFullfillment","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","promise","then","error","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$handleForeignThenable","thenable","lib$es6$promise$asap$$default","sealed","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","_state","lib$es6$promise$$internal$$FULFILLED","_result","lib$es6$promise$$internal$$REJECTED","lib$es6$promise$$internal$$subscribe","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","constructor","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","parent","child","onFulfillment","onRejection","subscribers","settled","detail","lib$es6$promise$$internal$$invokeCallback","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$enumerator$$Enumerator","input","enumerator","_instanceConstructor","_validateInput","_input","_remaining","_init","_enumerate","_validationError","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","lib$es6$promise$promise$resolve$$resolve","object","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","_id","lib$es6$promise$promise$$counter","lib$es6$promise$polyfill$$polyfill","local","self","P","toString","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","lib$es6$promise$asap$$browserWindow","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","_eachEntry","entry","_settledAt","_willSettleAt","state","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$resolve$$default","lib$es6$promise$promise$reject$$default","all","race","_setScheduler","_asap","result","arguments","catch","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","polyfill","clearImmediate","Timeout","clearFn","_clearFn","apply","slice","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","args","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","len","run","Item","fun","noop","title","browser","env","argv","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask","webpackPolyfill","deprecate","paths","children","normalizeName","String","test","toLowerCase","normalizeValue","headers","map","append","getOwnPropertyNames","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","rejected","arrayBuffer","text","decode","json","JSON","parse","normalizeMethod","method","upcased","toUpperCase","methods","url","credentials","mode","referrer","form","bytes","shift","replace","xhr","head","pairs","getAllResponseHeaders","header","bodyInit","type","status","ok","statusText","list","get","values","getAll","has","set","thisArg","init","request","responseURL","getResponseHeader","XMLHttpRequest","response","responseText","open","withCredentials","responseType","setRequestHeader","send","unique","NOW","Date","rnow","build_url","url_components","url_params","URLBIT","params","each","value_str","encode","PARAMSBIT","updater","rate","last","runnit","grep","fin","l","supplant","str","REPL","_","wait","generate_uuid","u","r","Math","random","o","f","pam_encode","charCodeAt","path","generate_channel_list","channels","nopresence","search","subscribed","sort","generate_channel_group_list","channel_groups","channel_group","ready","READY","READY_BUFFER","connect","SECOND","PNmessage","msg","apns","aps","alert","badge","exclude1","exclude","getPubnubMessage","publish","message","PN_API","setup","_get_url_params","_object_to_key_list","_object_to_key_list_sorted","_get_pam_sign_input_from_params","si","validate_presence_heartbeat","heartbeat","cur_heartbeat","err","PRESENCE_HB_THRESHOLD","PRESENCE_HB_DEFAULT","encrypt","crypto_obj","CIPHER_KEY","decrypt","_presence_heartbeat","PRESENCE_HB_TIMEOUT","PRESENCE_HB_INTERVAL","CHANNELS","CHANNEL_GROUPS","PRESENCE_HB_RUNNING","SELF","stringify","start_presence_heartbeat","NO_WAIT_FOR_PENDING","PUB_QUEUE","sending","xdr","each_channel_group","count","chang","each_channel","chan","_invoke_callback","callback_data","_invoke_error","CR","url1","jsonp","jsonp_cb","AUTH_KEY","STD_ORIGIN","SUBSCRIBE_KEY","success","fail","_poll_online","_is_online","_reset_offline","_poll_timer","_poll_online2","TIME_CHECK","detect_time_detla","_poll_timer2","KEEPALIVE","SUB_RECEIVER","detect_latency","tt","adjusted_time","TIME_DRIFT","cb","time","calculate","ptime","latency","stime","SUB_WINDOWING","DEF_WINDOWING","SUB_TIMEOUT","DEF_SUB_TIMEOUT","DEF_KEEPALIVE","NOLEAVE","PUBLISH_KEY","SECRET_KEY","hmac_SHA256","SSL","ORIGIN","nextorigin","SUB_ORIGIN","CONNECT","CLOAK","SUB_CALLBACK","SUB_CHANNEL","SUB_RESTORE","TIMETOKEN","RESUMED","STATE","PRESENCE_HB","COMPATIBLE_35","db","UUID","USE_INSTANCEID","INSTANCEID","shutdown","use_send_beacon","sendBeacon","a","b","LEAVE","blocking","auth_key","uuid","auth","origin","PRESENCE_SUFFIX","url_string","action","service","LEAVE_GROUP","set_resumed","resumed","get_cipher_key","set_cipher_key","raw_encrypt","raw_decrypt","get_heartbeat","set_heartbeat","heartbeat_interval","get_heartbeat_interval","set_heartbeat_interval","get_version","SDK_VER","getGcmMessageObject","getApnsMessageObject","newPnMessage","gcm","n","_add_param","val","namespace","ns_ch","cloak","ns_ch_a","channel_group_list_groups","channel_group_list_channels","channel_group_remove_channel","channel_group_remove_group","channel_group_add_channel","channel_group_cloak","channel_group_list_namespaces","channel_group_remove_namespace","history","reverse","cipher_key","start","end","include_token","string_msg_token","payload","messages","decrypted_messages","new_message","replay","source","destination","stop","limit","post","store","add_msg","unsubscribe","ch","CB_CALLED","chg","subscribe","_test_connection","windowing","disconnected","reconnect","disconnect","_connect","st","sub_timeout","SUB_ERROR","idlecb","connected","backfill","next_callback","channels2","list2","channel2","chobj","decrypted_msg","presence","noheresync","timetoken","restore","settings","here","uid","timestamp","floor","occupancy","here_now","uuids","where_now","grant","ttl","w","getTime","sign_input","signature","mobile_gw_provision","op","gw_type","device_id","audit","revoke","set_uuid","get_uuid","get_subscibed_channels","presence_heartbeat","stop_timers","each-channel","offline","now","SHA256","s","CryptoJS","parse_options","defaultOptions","allowedKeyEncodings","allowedKeyLengths","parseInt","allowedModes","decode_key","get_padded_key","get_mode","get_iv","iv","encryptKey","keyEncoding","keyLength","hex_message","encryptedHexArray","base_64_encrypted","binary_enc","json_plain","ciphertext","plaintext","toJSON","valueOf","quote","string","escapable","lastIndex","meta","holder","partial","mind","gap","rep","isFinite","indent","cx","\b","\t","\n","\f","\r","\"","\\","replacer","space","eval","DEF_TIMEOUT","max","ori","failover","get_hmac_SHA256","hash","$","getElementById","console","elements","el","getElementsByTagName","bind","etype","rapfun","event","cancelBubble","preventDefault","stopPropagation","addEventListener","attachEvent","attr","attribute","setAttribute","getAttribute","css","element","styles","style","create","createElement","XORIGN","FDomainRequest","ajax","script","finished","xhrtme","timer","done","appendChild","parentNode","removeChild","ASYNC","src","complete","async","abort","XDomainRequest","onabort","onloadend","onreadystatechange","readyState","eee","navigator","pubnubs","fdomainrequest","SWF","UA","userAgent","PNSDK","log","opera","postError","ls","cookieGet","cookie","RegExp","cookieSet","cookieTest","getItem","setItem","events","unbind","fire","PDIV","CREATE_PUBNUB","leave_on_unload","pnsdk","PN","prop","pdiv","notest","publish_key","subscribe_key","ssl","location","href","position","top","unescape","WS","protocols","bits","protocol","pubnub","wasClean","h","g","lib","q","Base","extend","mixIn","$super","clone","WordArray","words","sigBytes","d","clamp","ceil","enc","Hex","substr","Latin1","fromCharCode","j","Utf8","escape","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","blockSize","_minBufferSize","min","_doProcessBlock","splice","Hasher","cfg","_doReset","update","finalize","_doFinalize","_createHelper","_createHmacHelper","t","HMAC","algo","sqrt","pow","_hash","HmacSHA256","_hasher","_oKey","_iKey","Base64","_map","charAt","abs","sin","MD5","z","A","B","C","D","E","HmacMD5","EvpKDF","keySize","hasher","compute","Cipher","createEncryptor","_ENC_XFORM_MODE","createDecryptor","_DEC_XFORM_MODE","_xformMode","_key","ivSize","StreamCipher","_iv","_prevBlock","BlockCipherMode","Encryptor","Decryptor","_cipher","processBlock","encryptBlock","decryptBlock","CBC","pad","Pkcs7","unpad","BlockCipher","padding","_mode","CipherParams","formatter","format","OpenSSL","salt","SerializableCipher","algorithm","_parse","kdf","execute","PasswordBasedCipher","F","G","y","H","AES","_nRounds","_keySchedule","_invKeySchedule","_doCryptBlock","ECB","offset","storage","prefix","setPrefix","_storage","_prefix","defaultPrefix","_prefixKey","removeItem","clean","hasListeners","_listeners","_this","_this2","_len","some","_this3","_Utils","cacheId","_cacheId","_promise","isPaused","_releaseTimeout","pause","resume","_pollInterval","_inherits","subClass","superClass","setPrototypeOf","__proto__","_ApiResponse","_ApiResponse2","_Observable","beforeRequest","requestSuccess","requestError","sendRequest","apiResponse","regeneratorRuntime","context$2$0","prev","awrap","_loadResponse","_response","sent","_isMultipart","_isJson","_text","abrupt","t0","makeError","originalMessage","createRequest","_allowedMethods","query","findHeaderName","_jsonContentType","contentTypeHeaderName","_contentType","contentType","_urlencodedContentType","req","originalBody","createResponse","stringBody","utils","_decode","reduce","res","_request","_json","_multipart","skipOKCheck","error_description","description","multipart","boundary","_getContentType","parts","_boundarySeparator","pop","statusInfo","part","_isContentType","_multipartContentType","_isUrlEncoded","headersAndBody","_bodySeparator","headersText","_headerSeparator","_Registry","_Registry2","_HttpClient","_registry","registry","mock","find","getResponse","_Mock","_Mock2","_mocks","add","clear","apiCall","authentication","access_token","token_type","expires_in","refresh_token","refresh_token_expires_in","scope","expireTime","logout","presenceLoad","uri","extension","extensionNumber","activeCalls","presenceStatus","telephonyStatus","userStatus","dndStatus","extensionId","subscribeGeneric","expiresIn","date","eventFilters","expirationTime","toISOString","deliveryMode","transportType","encryption","address","subscriberKey","secretKey","creationTime","subscribeOnPresence","detailed","encryptionAlgorithm","encryptionKey","tokenRefresh","failure","_method","_path","_delay","_status","_statusText","_Auth","_Auth2","beforeLogin","loginSuccess","loginError","beforeRefresh","refreshSuccess","refreshError","beforeLogout","logoutSuccess","logoutError","_server","_appKey","_appSecret","_queue","_auth","createUrl","builtUrl","hasHttp","addServer","_urlPrefix","_apiVersion","addMethod","addToken","accessToken","authUrl","_authorizeEndpoint","response_type","redirect_uri","redirectUri","client_id","brand_id","brandId","display","prompt","parseAuthRedirectUrl","qs","loggedIn","_ensureAuthentication","login","remember","access_token_ttl","_accessTokenTtl","refresh_token_ttl","_refreshTokenTtlRemember","_refreshTokenTtl","grant_type","username","password","endpointId","endpoint_id","_tokenRequest","_tokenEndpoint","setData","setRemember","refresh","_isAccessTokenValid","_refreshDelayMs","refreshToken","refreshTokenValid","_clearCacheOnRefreshError","_revokeEndpoint","token","inflateRequest","skipAuthCheck","_authHeader","cancelAccessToken","put","Authorization","_apiKey","Content-Type","accessTokenValid","apiKey","btoa","Buffer","tokenType","newData","expire_time","refresh_token_expire_time","authData","forcedTokenType","refreshHandicapMs","forceAuthentication","_PubnubMockJs","_PubnubMockJs2","PubnubMock","receiveMessage","notification","removeSuccess","removeError","renewSuccess","renewError","subscribeSuccess","subscribeError","_timeout","_subscription","alive","_renewHandicapMs","setSubscription","subscription","_clearTimeout","_subscribeAtPubnub","_setTimeout","register","renew","addEventFilters","setEventFilters","_getFullEventFilters","remove","resubscribe","_decrypt","_notify","_extends","assign","_Subscription2","_Subscription3","CachedSubscription","_Subscription","_cacheKey","_renewQueue","_resubscribeQueue","queuedRenewSuccess","queuedRenewError","queuedResubscribeSuccess","queuedResubscribeError","actionCb","successEvent","errorEvent","errorMessage","cachedSubscriptionData","wrap","innerFn","outerFn","tryLocsList","generator","Generator","context","Context","_invoke","makeInvokeMethod","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","AwaitArgument","AsyncIterator","invoke","invokeNext","invokeThrow","unwrapped","enqueue","callInvokeWithMethodAndArg","previousPromise","domain","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","iterator","returnMethod","record","info","GenStateSuspendedYield","resultName","nextLoc","dispatchException","ContinueSentinel","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","iteratorSymbol","isNaN","hasOwn","Symbol","inModule","runtime","Gp","displayName","isGeneratorFunction","genFun","ctor","mark","iter","skipTempReset","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield"],"mappings":"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","file":"ringcentral-bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SDK\"] = factory();\n\telse\n\t\troot[\"RingCentral\"] = root[\"RingCentral\"] || {}, root[\"RingCentral\"][\"SDK\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SDK\"] = factory();\n\telse\n\t\troot[\"RingCentral\"] = root[\"RingCentral\"] || {}, root[\"RingCentral\"][\"SDK\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _coreUtils = __webpack_require__(2);\n\nvar Utils = _interopRequireWildcard(_coreUtils);\n\nvar _coreCache = __webpack_require__(11);\n\nvar _coreCache2 = _interopRequireDefault(_coreCache);\n\nvar _coreExternals = __webpack_require__(3);\n\nvar Externals = _interopRequireWildcard(_coreExternals);\n\nvar _coreObservable = __webpack_require__(12);\n\nvar _coreObservable2 = _interopRequireDefault(_coreObservable);\n\nvar _coreQueue = __webpack_require__(13);\n\nvar _coreQueue2 = _interopRequireDefault(_coreQueue);\n\nvar _httpClient = __webpack_require__(14);\n\nvar _httpClient2 = _interopRequireDefault(_httpClient);\n\nvar _httpApiResponse = __webpack_require__(16);\n\nvar _httpApiResponse2 = _interopRequireDefault(_httpApiResponse);\n\nvar _httpUtils = __webpack_require__(15);\n\nvar HttpUtils = _interopRequireWildcard(_httpUtils);\n\nvar _mocksClientMock = __webpack_require__(17);\n\nvar _mocksClientMock2 = _interopRequireDefault(_mocksClientMock);\n\nvar _mocksMock = __webpack_require__(19);\n\nvar _mocksMock2 = _interopRequireDefault(_mocksMock);\n\nvar _mocksRegistry = __webpack_require__(18);\n\nvar _mocksRegistry2 = _interopRequireDefault(_mocksRegistry);\n\nvar _platformPlatform = __webpack_require__(20);\n\nvar _platformPlatform2 = _interopRequireDefault(_platformPlatform);\n\nvar _platformAuth = __webpack_require__(21);\n\nvar _platformAuth2 = _interopRequireDefault(_platformAuth);\n\nvar _pubnubPubnubFactory = __webpack_require__(22);\n\nvar _pubnubPubnubFactory2 = _interopRequireDefault(_pubnubPubnubFactory);\n\nvar _subscriptionSubscription = __webpack_require__(24);\n\nvar _subscriptionSubscription2 = _interopRequireDefault(_subscriptionSubscription);\n\nvar _subscriptionCachedSubscription = __webpack_require__(25);\n\nvar _subscriptionCachedSubscription2 = _interopRequireDefault(_subscriptionCachedSubscription);\n\n__webpack_require__(26);\n\nvar SDK = (function () {\n    _createClass(SDK, null, [{\n        key: 'version',\n        value: '2.0.0',\n        enumerable: true\n    }, {\n        key: 'server',\n        value: {\n            sandbox: 'https://platform.devtest.ringcentral.com',\n            production: 'https://platform.ringcentral.com'\n        },\n\n        /**\n         * @constructor\n         * @param {object} [options]\n         * @param {string} [options.server]\n         * @param {string} [options.cachePrefix]\n         * @param {string} [options.appSecret]\n         * @param {string} [options.appKey]\n         * @param {string} [options.appName]\n         * @param {string} [options.appVersion]\n         * @param {string} [options.pubnubFactory]\n         * @param {string} [options.client]\n         */\n        enumerable: true\n    }]);\n\n    function SDK(options) {\n        _classCallCheck(this, SDK);\n\n        options = options || {};\n\n        this._cache = new _coreCache2['default'](Externals.localStorage, options.cachePrefix);\n\n        this._client = options.client || new _httpClient2['default']();\n\n        this._platform = new _platformPlatform2['default'](this._client, this._cache, options.server, options.appKey, options.appSecret);\n\n        this._pubnubFactory = options.pubnubFactory || Externals.PUBNUB;\n    }\n\n    /**\n     * @return {Platform}\n     */\n\n    SDK.prototype.platform = function platform() {\n        return this._platform;\n    };\n\n    /**\n     * @return {Subscription}\n     */\n\n    SDK.prototype.createSubscription = function createSubscription() {\n        return new _subscriptionSubscription2['default'](this._pubnubFactory, this._platform);\n    };\n\n    /**\n     * @return {CachedSubscription}\n     */\n\n    SDK.prototype.createCachedSubscription = function createCachedSubscription(cacheKey) {\n        return new _subscriptionCachedSubscription2['default'](this._pubnubFactory, this._platform, this._cache, cacheKey);\n    };\n\n    /**\n     * @return {Cache}\n     */\n\n    SDK.prototype.cache = function cache() {\n        return this._cache;\n    };\n\n    _createClass(SDK, null, [{\n        key: 'core',\n        value: {\n            Cache: _coreCache2['default'],\n            Observable: _coreObservable2['default'],\n            Utils: Utils,\n            Externals: Externals,\n            Queue: _coreQueue2['default']\n        },\n        enumerable: true\n    }, {\n        key: 'http',\n        value: {\n            Client: _httpClient2['default'],\n            ApiResponse: _httpApiResponse2['default'],\n            Utils: HttpUtils\n        },\n        enumerable: true\n    }, {\n        key: 'platform',\n        value: {\n            Auth: _platformAuth2['default'],\n            Platform: _platformPlatform2['default']\n        },\n        enumerable: true\n    }, {\n        key: 'subscription',\n        value: {\n            Subscription: _subscriptionSubscription2['default']\n        },\n        enumerable: true\n    }, {\n        key: 'mocks',\n        value: {\n            Client: _mocksClientMock2['default'],\n            Registry: _mocksRegistry2['default'],\n            Mock: _mocksMock2['default']\n        },\n        enumerable: true\n    }, {\n        key: 'pubnub',\n        value: {\n            PubnubMockFactory: _pubnubPubnubFactory2['default']\n        },\n        enumerable: true\n    }]);\n\n    return SDK;\n})();\n\nexports['default'] = SDK;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\nexports.queryStringify = queryStringify;\nexports.parseQueryString = parseQueryString;\nexports.isFunction = isFunction;\nexports.isArray = isArray;\nexports.poll = poll;\nexports.stopPolling = stopPolling;\nexports.isNodeJS = isNodeJS;\nexports.isBrowser = isBrowser;\nexports.delay = delay;\n\nvar _ExternalsJs = __webpack_require__(3);\n\n/**\n * TODO Replace with something better\n * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n * @param {object} parameters\n * @returns {string}\n */\n\nfunction queryStringify(parameters) {\n\n    var array = [];\n\n    parameters = parameters || {};\n\n    Object.keys(parameters).forEach(function (k) {\n\n        var v = parameters[k];\n\n        if (isArray(v)) {\n            v.forEach(function (vv) {\n                array.push(encodeURIComponent(k) + '=' + encodeURIComponent(vv));\n            });\n        } else {\n            array.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\n        }\n    });\n\n    return array.join('&');\n}\n\n/**\n * TODO Replace with something better\n * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n * @param {string} queryString\n * @returns {object}\n */\n\nfunction parseQueryString(queryString) {\n\n    var argsParsed = {};\n\n    queryString.split('&').forEach(function (arg) {\n\n        arg = decodeURIComponent(arg);\n\n        if (arg.indexOf('=') == -1) {\n\n            argsParsed[arg.trim()] = true;\n        } else {\n\n            var pair = arg.split('='),\n                key = pair[0].trim(),\n                value = pair[1].trim();\n\n            if (key in argsParsed) {\n                if (key in argsParsed && !isArray(argsParsed[key])) argsParsed[key] = [argsParsed[key]];\n                argsParsed[key].push(value);\n            } else {\n                argsParsed[key] = value;\n            }\n        }\n    });\n\n    return argsParsed;\n}\n\n/**\n * @param obj\n * @return {boolean}\n */\n\nfunction isFunction(obj) {\n    return typeof obj === \"function\";\n}\n\n/**\n * @param obj\n * @return {boolean}\n */\n\nfunction isArray(obj) {\n    return Array.isArray ? Array.isArray(obj) : typeof obj === \"array\";\n}\n\n/**\n * @param fn\n * @param interval\n * @param timeout\n */\n\nfunction poll(fn, interval, timeout) {\n    //NodeJS.Timer|number\n\n    module.exports.stopPolling(timeout);\n\n    interval = interval || 1000;\n\n    var next = function next(delay) {\n\n        delay = delay || interval;\n\n        interval = delay;\n\n        return setTimeout(function () {\n\n            fn(next, delay);\n        }, delay);\n    };\n\n    return next();\n}\n\nfunction stopPolling(timeout) {\n    if (timeout) clearTimeout(timeout);\n}\n\nfunction isNodeJS() {\n    return typeof process !== 'undefined';\n}\n\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\n\nfunction delay(timeout) {\n    return new _ExternalsJs.Promise(function (resolve, reject) {\n        setTimeout(function () {\n            resolve(null);\n        }, timeout);\n    });\n}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _es6Promise = __webpack_require__(4);\n\nvar _es6Promise2 = _interopRequireDefault(_es6Promise);\n\nvar _nodeFetch = __webpack_require__(9);\n\nvar _nodeFetch2 = _interopRequireDefault(_nodeFetch);\n\nvar _pubnub = __webpack_require__(10);\n\nvar _pubnub2 = _interopRequireDefault(_pubnub);\n\nvar root = new Function('return this')();\n\nvar Promise = _es6Promise2['default'] && _es6Promise2['default'].Promise || root.Promise;\n\nexports.Promise = Promise;\nvar fetch = root.fetch || _nodeFetch2['default'];\nexports.fetch = fetch;\nvar Request = root.Request || fetch.Request;\nexports.Request = Request;\nvar Response = root.Response || fetch.Response;\nexports.Response = Response;\nvar Headers = root.Headers || fetch.Headers;\n\nexports.Headers = Headers;\nvar PUBNUB = root.PUBNUB || _pubnub2['default'];\n\nexports.PUBNUB = PUBNUB;\nvar localStorage = typeof root.localStorage !== 'undefined' ? root.localStorage : {};\nexports.localStorage = localStorage;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar require;var __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(setImmediate, global, module) {/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.2.0\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$toString = {}.toString;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    function lib$es6$promise$asap$$asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    var lib$es6$promise$asap$$default = lib$es6$promise$asap$$asap;\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      var nextTick = process.nextTick;\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // setImmediate should be used instead instead\n      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n        nextTick = setImmediate;\n      }\n      return function() {\n        nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertex() {\n      try {\n        var r = require;\n        var vertx = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"vertx\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && \"function\" === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertex();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$default(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = lib$es6$promise$$internal$$getThen(maybeThenable);\n\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFullfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      var enumerator = this;\n\n      enumerator._instanceConstructor = Constructor;\n      enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (enumerator._validateInput(input)) {\n        enumerator._input     = input;\n        enumerator.length     = input.length;\n        enumerator._remaining = input.length;\n\n        enumerator._init();\n\n        if (enumerator.length === 0) {\n          lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n        } else {\n          enumerator.length = enumerator.length || 0;\n          enumerator._enumerate();\n          if (enumerator._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError());\n      }\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return lib$es6$promise$utils$$isArray(input);\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var enumerator = this;\n\n      var length  = enumerator.length;\n      var promise = enumerator.promise;\n      var input   = enumerator._input;\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        enumerator._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var enumerator = this;\n      var c = enumerator._instanceConstructor;\n\n      if (lib$es6$promise$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING) {\n          entry._onerror = null;\n          enumerator._settledAt(entry._state, i, entry._result);\n        } else {\n          enumerator._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        enumerator._remaining--;\n        enumerator._result[i] = entry;\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var enumerator = this;\n      var promise = enumerator.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        enumerator._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          enumerator._result[i] = value;\n        }\n      }\n\n      if (enumerator._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, enumerator._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$es6$promise$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n    var lib$es6$promise$promise$$counter = 0;\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise’s eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this._id = lib$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        if (!lib$es6$promise$utils$$isFunction(resolver)) {\n          lib$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof lib$es6$promise$promise$$Promise)) {\n          lib$es6$promise$promise$$needsNew();\n        }\n\n        lib$es6$promise$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$default;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor(lib$es6$promise$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          lib$es6$promise$asap$$default(function(){\n            lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (\"function\" === 'function' && __webpack_require__(8)['amd']) {\n      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return lib$es6$promise$umd$$ES6Promise; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5).setImmediate, (function() { return this; }()), __webpack_require__(7)(module)))\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(6).nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5).setImmediate, __webpack_require__(5).clearImmediate))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\nmodule.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\nmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.url = null\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    var request\n    if (Request.prototype.isPrototypeOf(input) && !init) {\n      request = input\n    } else {\n      request = new Request(input, init)\n    }\n\n    return new Promise(function(resolve, reject) {\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})();\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {// Version: 3.7.14\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     JSON     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\n(window['JSON'] && window['JSON']['stringify']) || (function () {\n    window['JSON'] || (window['JSON'] = {});\n\n    function toJSON(key) {\n        try      { return this.valueOf() }\n        catch(e) { return null }\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ?\n            '\"' + string.replace(escapable, function (a) {\n                var c = meta[a];\n                return typeof c === 'string' ? c :\n                    '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + '\"' :\n            '\"' + string + '\"';\n    }\n\n    function str(key, holder) {\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            partial,\n            mind  = gap,\n            value = holder[key];\n\n        if (value && typeof value === 'object') {\n            value = toJSON.call( value, key );\n        }\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n            return String(value);\n\n        case 'object':\n\n            if (!value) {\n                return 'null';\n            }\n\n            gap += indent;\n            partial = [];\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n                v = partial.length === 0 ? '[]' :\n                    gap ? '[\\n' + gap +\n                            partial.join(',\\n' + gap) + '\\n' +\n                                mind + ']' :\n                          '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? '{}' :\n                gap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' +\n                        mind + '}' : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON['stringify'] !== 'function') {\n        JSON['stringify'] = function (value, replacer, space) {\n            var i;\n            gap = '';\n            indent = '';\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                     typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n            return str('', {'': value});\n        };\n    }\n\n    if (typeof JSON['parse'] !== 'function') {\n        // JSON is parsed on the server for security.\n        JSON['parse'] = function (text) {return eval('('+text+')')};\n    }\n}());\nvar NOW             = 1\n,   READY           = false\n,   READY_BUFFER    = []\n,   PRESENCE_SUFFIX = '-pnpres'\n,   DEF_WINDOWING   = 10     // MILLISECONDS.\n,   DEF_TIMEOUT     = 10000  // MILLISECONDS.\n,   DEF_SUB_TIMEOUT = 310    // SECONDS.\n,   DEF_KEEPALIVE   = 60     // SECONDS (FOR TIMESYNC).\n,   SECOND          = 1000   // A THOUSAND MILLISECONDS.\n,   URLBIT          = '/'\n,   PARAMSBIT       = '&'\n,   PRESENCE_HB_THRESHOLD = 5\n,   PRESENCE_HB_DEFAULT  = 30\n,   SDK_VER         = '3.7.14'\n,   REPL            = /{([\\w\\-]+)}/g;\n\n/**\n * UTILITIES\n */\nfunction unique() { return'x'+ ++NOW+''+(+new Date) }\nfunction rnow()   { return+new Date }\n\n/**\n * NEXTORIGIN\n * ==========\n * var next_origin = nextorigin();\n */\nvar nextorigin = (function() {\n    var max = 20\n    ,   ori = Math.floor(Math.random() * max);\n    return function( origin, failover ) {\n        return origin.indexOf('pubsub.') > 0\n            && origin.replace(\n             'pubsub', 'ps' + (\n                failover ? generate_uuid().split('-')[0] :\n                (++ori < max? ori : ori=1)\n            ) ) || origin;\n    }\n})();\n\n\n/**\n * Build Url\n * =======\n *\n */\nfunction build_url( url_components, url_params ) {\n    var url    = url_components.join(URLBIT)\n    ,   params = [];\n\n    if (!url_params) return url;\n\n    each( url_params, function( key, value ) {\n        var value_str = (typeof value == 'object')?JSON['stringify'](value):value;\n        (typeof value != 'undefined' &&\n            value != null && encode(value_str).length > 0\n        ) && params.push(key + \"=\" + encode(value_str));\n    } );\n\n    url += \"?\" + params.join(PARAMSBIT);\n    return url;\n}\n\n/**\n * UPDATER\n * =======\n * var timestamp = unique();\n */\nfunction updater( fun, rate ) {\n    var timeout\n    ,   last   = 0\n    ,   runnit = function() {\n        if (last + rate > rnow()) {\n            clearTimeout(timeout);\n            timeout = setTimeout( runnit, rate );\n        }\n        else {\n            last = rnow();\n            fun();\n        }\n    };\n\n    return runnit;\n}\n\n/**\n * GREP\n * ====\n * var list = grep( [1,2,3], function(item) { return item % 2 } )\n */\nfunction grep( list, fun ) {\n    var fin = [];\n    each( list || [], function(l) { fun(l) && fin.push(l) } );\n    return fin\n}\n\n/**\n * SUPPLANT\n * ========\n * var text = supplant( 'Hello {name}!', { name : 'John' } )\n */\nfunction supplant( str, values ) {\n    return str.replace( REPL, function( _, match ) {\n        return values[match] || _\n    } );\n}\n\n/**\n * timeout\n * =======\n * timeout( function(){}, 100 );\n */\nfunction timeout( fun, wait ) {\n    return setTimeout( fun, wait );\n}\n\n/**\n * uuid\n * ====\n * var my_uuid = generate_uuid();\n */\nfunction generate_uuid(callback) {\n    var u = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,\n    function(c) {\n        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n    if (callback) callback(u);\n    return u;\n}\n\nfunction isArray(arg) {\n  return !!arg && typeof arg !== 'string' && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n  //return !!arg && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n}\n\n/**\n * EACH\n * ====\n * each( [1,2,3], function(item) { } )\n */\nfunction each( o, f) {\n    if ( !o || !f ) return;\n\n    if ( isArray(o) )\n        for ( var i = 0, l = o.length; i < l; )\n            f.call( o[i], o[i], i++ );\n    else\n        for ( var i in o )\n            o.hasOwnProperty    &&\n            o.hasOwnProperty(i) &&\n            f.call( o[i], i, o[i] );\n}\n\n/**\n * MAP\n * ===\n * var list = map( [1,2,3], function(item) { return item + 1 } )\n */\nfunction map( list, fun ) {\n    var fin = [];\n    each( list || [], function( k, v ) { fin.push(fun( k, v )) } );\n    return fin;\n}\n\n\nfunction pam_encode(str) {\n  return encodeURIComponent(str).replace(/[!'()*~]/g, function(c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\n\n/**\n * ENCODE\n * ======\n * var encoded_data = encode('path');\n */\nfunction encode(path) { return encodeURIComponent(path) }\n\n/**\n * Generate Subscription Channel List\n * ==================================\n * generate_channel_list(channels_object);\n */\nfunction generate_channel_list(channels, nopresence) {\n    var list = [];\n    each( channels, function( channel, status ) {\n        if (nopresence) {\n            if(channel.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel);\n            }\n        } else {\n            if (status.subscribed) list.push(channel);\n        }\n    });\n    return list.sort();\n}\n\n/**\n * Generate Subscription Channel Groups List\n * ==================================\n * generate_channel_group_list(channels_groups object);\n */\nfunction generate_channel_group_list(channel_groups, nopresence) {\n    var list = [];\n    each(channel_groups, function( channel_group, status ) {\n        if (nopresence) {\n            if(channel_group.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel_group);\n            }\n        } else {\n            if (status.subscribed) list.push(channel_group);\n        }\n    });\n    return list.sort();\n}\n\n// PUBNUB READY TO CONNECT\nfunction ready() { timeout( function() {\n    if (READY) return;\n    READY = 1;\n    each( READY_BUFFER, function(connect) { connect() } );\n}, SECOND ); }\n\nfunction PNmessage(args) {\n    msg = args || {'apns' : {}},\n    msg['getPubnubMessage'] = function() {\n        var m = {};\n\n        if (Object.keys(msg['apns']).length) {\n            m['pn_apns'] = {\n                    'aps' : {\n                        'alert' : msg['apns']['alert'] ,\n                        'badge' : msg['apns']['badge']\n                    }\n            }\n            for (var k in msg['apns']) {\n                m['pn_apns'][k] = msg['apns'][k];\n            }\n            var exclude1 = ['badge','alert'];\n            for (var k in exclude1) {\n                delete m['pn_apns'][exclude1[k]];\n            }\n        }\n\n\n\n        if (msg['gcm']) {\n            m['pn_gcm'] = {\n                'data' : msg['gcm']\n            }\n        }\n\n        for (var k in msg) {\n            m[k] = msg[k];\n        }\n        var exclude = ['apns','gcm','publish', 'channel','callback','error'];\n        for (var k in exclude) {\n            delete m[exclude[k]];\n        }\n\n        return m;\n    };\n    msg['publish'] = function() {\n\n        var m = msg.getPubnubMessage();\n\n        if (msg['pubnub'] && msg['channel']) {\n            msg['pubnub'].publish({\n                'message' : m,\n                'channel' : msg['channel'],\n                'callback' : msg['callback'],\n                'error' : msg['error']\n            })\n        }\n    };\n    return msg;\n}\n\nfunction PN_API(setup) {\n    var SUB_WINDOWING =  +setup['windowing']   || DEF_WINDOWING\n    ,   SUB_TIMEOUT   = (+setup['timeout']     || DEF_SUB_TIMEOUT) * SECOND\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   TIME_CHECK    = setup['timecheck']     || 0\n    ,   NOLEAVE       = setup['noleave']       || 0\n    ,   PUBLISH_KEY   = setup['publish_key']\n    ,   SUBSCRIBE_KEY = setup['subscribe_key']\n    ,   AUTH_KEY      = setup['auth_key']      || ''\n    ,   SECRET_KEY    = setup['secret_key']    || ''\n    ,   hmac_SHA256   = setup['hmac_SHA256']\n    ,   SSL           = setup['ssl']            ? 's' : ''\n    ,   ORIGIN        = 'http'+SSL+'://'+(setup['origin']||'pubsub.pubnub.com')\n    ,   STD_ORIGIN    = nextorigin(ORIGIN)\n    ,   SUB_ORIGIN    = nextorigin(ORIGIN)\n    ,   CONNECT       = function(){}\n    ,   PUB_QUEUE     = []\n    ,   CLOAK         = true\n    ,   TIME_DRIFT    = 0\n    ,   SUB_CALLBACK  = 0\n    ,   SUB_CHANNEL   = 0\n    ,   SUB_RECEIVER  = 0\n    ,   SUB_RESTORE   = setup['restore'] || 0\n    ,   SUB_BUFF_WAIT = 0\n    ,   TIMETOKEN     = 0\n    ,   RESUMED       = false\n    ,   CHANNELS      = {}\n    ,   CHANNEL_GROUPS       = {}\n    ,   SUB_ERROR     = function(){}\n    ,   STATE         = {}\n    ,   PRESENCE_HB_TIMEOUT  = null\n    ,   PRESENCE_HB          = validate_presence_heartbeat(\n        setup['heartbeat'] || setup['pnexpires'] || 0, setup['error']\n    )\n    ,   PRESENCE_HB_INTERVAL = setup['heartbeat_interval'] || (PRESENCE_HB / 2) -1\n    ,   PRESENCE_HB_RUNNING  = false\n    ,   NO_WAIT_FOR_PENDING  = setup['no_wait_for_pending']\n    ,   COMPATIBLE_35 = setup['compatible_3.5']  || false\n    ,   xdr           = setup['xdr']\n    ,   params        = setup['params'] || {}\n    ,   error         = setup['error']      || function() {}\n    ,   _is_online    = setup['_is_online'] || function() { return 1 }\n    ,   jsonp_cb      = setup['jsonp_cb']   || function() { return 0 }\n    ,   db            = setup['db']         || {'get': function(){}, 'set': function(){}}\n    ,   CIPHER_KEY    = setup['cipher_key']\n    ,   UUID          = setup['uuid'] || ( !setup['unique_uuid'] && db && db['get'](SUBSCRIBE_KEY+'uuid') || '')\n    ,   USE_INSTANCEID = setup['instance_id'] || false\n    ,   INSTANCEID    = ''\n    ,   shutdown      = setup['shutdown']\n    ,   use_send_beacon = (typeof setup['use_send_beacon'] != 'undefined')?setup['use_send_beacon']:true\n    ,   sendBeacon    = (use_send_beacon)?setup['sendBeacon']:null\n    ,   _poll_timer\n    ,   _poll_timer2;\n\n    if (PRESENCE_HB === 2) PRESENCE_HB_INTERVAL = 1;\n\n    var crypto_obj    = setup['crypto_obj'] ||\n        {\n            'encrypt' : function(a,key){ return a},\n            'decrypt' : function(b,key){return b}\n        };\n\n    function _get_url_params(data) {\n        if (!data) data = {};\n        each( params , function( key, value ) {\n            if (!(key in data)) data[key] = value;\n        });\n        return data;\n    }\n\n    function _object_to_key_list(o) {\n        var l = []\n        each( o , function( key, value ) {\n            l.push(key);\n        });\n        return l;\n    }\n    function _object_to_key_list_sorted(o) {\n        return _object_to_key_list(o).sort();\n    }\n\n    function _get_pam_sign_input_from_params(params) {\n        var si = \"\";\n        var l = _object_to_key_list_sorted(params);\n\n        for (var i in l) {\n            var k = l[i]\n            si += k + \"=\" + pam_encode(params[k]) ;\n            if (i != l.length - 1) si += \"&\"\n        }\n        return si;\n    }\n\n    function validate_presence_heartbeat(heartbeat, cur_heartbeat, error) {\n        var err = false;\n\n        if (typeof heartbeat === 'undefined') {\n            return cur_heartbeat;\n        }\n\n        if (typeof heartbeat === 'number') {\n            if (heartbeat > PRESENCE_HB_THRESHOLD || heartbeat == 0)\n                err = false;\n            else\n                err = true;\n        } else if(typeof heartbeat === 'boolean'){\n            if (!heartbeat) {\n                return 0;\n            } else {\n                return PRESENCE_HB_DEFAULT;\n            }\n        } else {\n            err = true;\n        }\n\n        if (err) {\n            error && error(\"Presence Heartbeat value invalid. Valid range ( x > \" + PRESENCE_HB_THRESHOLD + \" or x = 0). Current Value : \" + (cur_heartbeat || PRESENCE_HB_THRESHOLD));\n            return cur_heartbeat || PRESENCE_HB_THRESHOLD;\n        } else return heartbeat;\n    }\n\n    function encrypt(input, key) {\n        return crypto_obj['encrypt'](input, key || CIPHER_KEY) || input;\n    }\n    function decrypt(input, key) {\n        return crypto_obj['decrypt'](input, key || CIPHER_KEY) ||\n               crypto_obj['decrypt'](input, CIPHER_KEY) ||\n               input;\n    }\n\n    function error_common(message, callback) {\n        callback && callback({ 'error' : message || \"error occurred\"});\n        error && error(message);\n    }\n    function _presence_heartbeat() {\n\n        clearTimeout(PRESENCE_HB_TIMEOUT);\n\n        if (!PRESENCE_HB_INTERVAL || PRESENCE_HB_INTERVAL >= 500 ||\n            PRESENCE_HB_INTERVAL < 1 ||\n            (!generate_channel_list(CHANNELS,true).length  && !generate_channel_group_list(CHANNEL_GROUPS, true).length ) )\n        {\n            PRESENCE_HB_RUNNING = false;\n            return;\n        }\n\n        PRESENCE_HB_RUNNING = true;\n        SELF['presence_heartbeat']({\n            'callback' : function(r) {\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            },\n            'error' : function(e) {\n                error && error(\"Presence Heartbeat unable to reach Pubnub servers.\" + JSON.stringify(e));\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            }\n        });\n    }\n\n    function start_presence_heartbeat() {\n        !PRESENCE_HB_RUNNING && _presence_heartbeat();\n    }\n\n    function publish(next) {\n\n        if (NO_WAIT_FOR_PENDING) {\n            if (!PUB_QUEUE.length) return;\n        } else {\n            if (next) PUB_QUEUE.sending = 0;\n            if ( PUB_QUEUE.sending || !PUB_QUEUE.length ) return;\n            PUB_QUEUE.sending = 1;\n        }\n\n        xdr(PUB_QUEUE.shift());\n    }\n    function each_channel_group(callback) {\n        var count = 0;\n\n        each( generate_channel_group_list(CHANNEL_GROUPS), function(channel_group) {\n            var chang = CHANNEL_GROUPS[channel_group];\n\n            if (!chang) return;\n\n            count++;\n            (callback||function(){})(chang);\n        } );\n\n        return count;\n    }\n\n    function each_channel(callback) {\n        var count = 0;\n\n        each( generate_channel_list(CHANNELS), function(channel) {\n            var chan = CHANNELS[channel];\n\n            if (!chan) return;\n\n            count++;\n            (callback||function(){})(chan);\n        } );\n\n        return count;\n    }\n    function _invoke_callback(response, callback, err) {\n        if (typeof response == 'object') {\n            if (response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n\n                err && err(callback_data);\n                return;\n\n            }\n            if (response['payload']) {\n                if (response['next_page'])\n                    callback && callback(response['payload'], response['next_page']);\n                else\n                    callback && callback(response['payload']);\n                return;\n            }\n        }\n        callback && callback(response);\n    }\n\n    function _invoke_error(response,err) {\n\n        if (typeof response == 'object' && response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n                \n                err && err(callback_data);\n                return;\n        } else {\n            err && err(response);\n        }\n    }\n    function CR(args, callback, url1, data) {\n            var callback        = args['callback']      || callback\n            ,   err             = args['error']         || error\n            ,   jsonp           = jsonp_cb();\n\n            data = data || {};\n            \n            if (!data['auth']) {\n                data['auth'] = args['auth_key'] || AUTH_KEY;\n            }\n            \n            var url = [\n                    STD_ORIGIN, 'v1', 'channel-registration',\n                    'sub-key', SUBSCRIBE_KEY\n                ];\n\n            url.push.apply(url,url1);\n            \n            if (jsonp) data['callback']              = jsonp;\n            \n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n    }\n\n    // Announce Leave Event\n    var SELF = {\n        'LEAVE' : function( channel, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   url\n            ,   jsonp  = jsonp_cb();\n\n\n\n            // Prevent Leaving a Presence Channel\n            if (channel.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n\n\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            url = [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel), 'leave'\n                ];\n\n            params = _get_url_params(data);\n\n\n            if (sendBeacon) {\n                url_string = build_url(url, params);\n                if (sendBeacon(url_string)) {\n                    callback && callback({\"status\": 200, \"action\": \"leave\", \"message\": \"OK\", \"service\": \"Presence\"});\n                    return true;\n                }\n            }\n\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 2000,\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n            return true;\n        },\n        'LEAVE_GROUP' : function( channel_group, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel Group\n            if (channel_group.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (channel_group && channel_group.length > 0) data['channel-group'] = channel_group;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 5000,\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(','), 'leave'\n                ]\n            });\n            return true;\n        },\n        'set_resumed' : function(resumed) {\n                RESUMED = resumed;\n        },\n        'get_cipher_key' : function() {\n            return CIPHER_KEY;\n        },\n        'set_cipher_key' : function(key) {\n            CIPHER_KEY = key;\n        },\n        'raw_encrypt' : function(input, key) {\n            return encrypt(input, key);\n        },\n        'raw_decrypt' : function(input, key) {\n            return decrypt(input, key);\n        },\n        'get_heartbeat' : function() {\n            return PRESENCE_HB;\n        },\n        \n        'set_heartbeat' : function(heartbeat, heartbeat_interval) {\n            PRESENCE_HB = validate_presence_heartbeat(heartbeat, PRESENCE_HB, error);\n            PRESENCE_HB_INTERVAL = heartbeat_interval || (PRESENCE_HB / 2) - 1;\n            if (PRESENCE_HB == 2) {\n                PRESENCE_HB_INTERVAL = 1;\n            }\n            CONNECT();\n            _presence_heartbeat();\n        },\n        \n        'get_heartbeat_interval' : function() {\n            return PRESENCE_HB_INTERVAL;\n        },\n        \n        'set_heartbeat_interval' : function(heartbeat_interval) {\n            PRESENCE_HB_INTERVAL = heartbeat_interval;\n            _presence_heartbeat();\n        },\n        \n        'get_version' : function() {\n            return SDK_VER;\n        },\n        'getGcmMessageObject' : function(obj) {\n            return {\n                'data' : obj\n            }\n        },\n        'getApnsMessageObject' : function(obj) {\n            var x =  {\n                'aps' : { 'badge' : 1, 'alert' : ''}\n            }\n            for (k in obj) {\n                k[x] = obj[k];\n            }\n            return x;\n        },\n        'newPnMessage' : function() {\n            var x = {};\n            if (gcm) x['pn_gcm'] = gcm;\n            if (apns) x['pn_apns'] = apns;\n            for ( k in n ) {\n                x[k] = n[k];\n            }\n            return x;\n        },\n\n        '_add_param' : function(key,val) {\n            params[key] = val;\n        },\n\n        'channel_group' : function(args, callback) {\n            var ns_ch       = args['channel_group']\n            ,   callback    = callback         || args['callback']\n            ,   channels    = args['channels'] || args['channel']\n            ,   cloak       = args['cloak']\n            ,   namespace\n            ,   channel_group\n            ,   url = []\n            ,   data = {}\n            ,   mode = args['mode'] || 'add';\n\n\n            if (ns_ch) {\n                var ns_ch_a = ns_ch.split(':');\n\n                if (ns_ch_a.length > 1) {\n                    namespace = (ns_ch_a[0] === '*')?null:ns_ch_a[0];\n\n                    channel_group = ns_ch_a[1];\n                } else {\n                    channel_group = ns_ch_a[0];\n                }\n            }\n\n            namespace && url.push('namespace') && url.push(encode(namespace));\n\n            url.push('channel-group');\n\n            if (channel_group && channel_group !== '*') {\n                url.push(channel_group);\n            }\n\n            if (channels ) {\n                if (isArray(channels)) {\n                    channels = channels.join(',');\n                }\n                data[mode] = channels;\n                data['cloak'] = (CLOAK)?'true':'false';\n            } else {\n                if (mode === 'remove') url.push('remove');\n            }\n\n            if (typeof cloak != 'undefined') data['cloak'] = (cloak)?'true':'false';\n\n            CR(args, callback, url, data);\n        },\n\n        'channel_group_list_groups' : function(args, callback) {\n            var namespace;\n\n            namespace = args['namespace'] || args['ns'] || args['channel_group'] || null;\n            if (namespace) {\n                args[\"channel_group\"] = namespace + \":*\";\n            }\n\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_list_channels' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_remove_channel' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_remove_group' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (args['channel']) return error('Use channel_group_remove_channel if you want to remove a channel from a group.');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_add_channel' : function(args, callback) {\n           if (!args['channel_group']) return error('Missing Channel Group');\n           if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_cloak' : function(args, callback) {\n            if (typeof args['cloak'] == 'undefined') {\n                callback(CLOAK);\n                return;\n            }\n            CLOAK = args['cloak'];\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_list_namespaces' : function(args, callback) {\n            var url = ['namespace'];\n            CR(args, callback, url);\n        },\n        'channel_group_remove_namespace' : function(args, callback) {\n            var url = ['namespace',args['namespace'],'remove'];\n            CR(args, callback, url);\n        },\n\n        /*\n            PUBNUB.history({\n                channel  : 'my_chat_channel',\n                limit    : 100,\n                callback : function(history) { }\n            });\n        */\n        'history' : function( args, callback ) {\n            var callback         = args['callback'] || callback\n            ,   count            = args['count']    || args['limit'] || 100\n            ,   reverse          = args['reverse']  || \"false\"\n            ,   err              = args['error']    || function(){}\n            ,   auth_key         = args['auth_key'] || AUTH_KEY\n            ,   cipher_key       = args['cipher_key']\n            ,   channel          = args['channel']\n            ,   channel_group    = args['channel_group']\n            ,   start            = args['start']\n            ,   end              = args['end']\n            ,   include_token    = args['include_token']\n            ,   string_msg_token = args['string_message_token'] || false\n            ,   params           = {}\n            ,   jsonp            = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) return error('Missing Channel');\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            params['stringtoken'] = 'true';\n            params['count']       = count;\n            params['reverse']     = reverse;\n            params['auth']        = auth_key;\n\n            if (channel_group) {\n                params['channel-group'] = channel_group;\n                if (!channel) {\n                    channel = ','; \n                }\n            }\n            if (jsonp) params['callback']              = jsonp;\n            if (start) params['start']                 = start;\n            if (end)   params['end']                   = end;\n            if (include_token) params['include_token'] = 'true';\n            if (string_msg_token) params['string_message_token'] = 'true';\n\n            // Send Message\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(params),\n                success  : function(response) {\n                    if (typeof response == 'object' && response['error']) {\n                        err({'message' : response['message'], 'payload' : response['payload']});\n                        return;\n                    }\n                    var messages = response[0];\n                    var decrypted_messages = [];\n                    for (var a = 0; a < messages.length; a++) {\n                        var new_message = decrypt(messages[a],cipher_key);\n                        try {\n                            decrypted_messages['push'](JSON['parse'](new_message));\n                        } catch (e) {\n                            decrypted_messages['push']((new_message));\n                        }\n                    }\n                    callback([decrypted_messages, response[1], response[2]]);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'history', 'sub-key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel)\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.replay({\n                source      : 'my_channel',\n                destination : 'new_channel'\n            });\n        */\n        'replay' : function(args, callback) {\n            var callback    = callback || args['callback'] || function(){}\n            ,   auth_key    = args['auth_key'] || AUTH_KEY\n            ,   source      = args['source']\n            ,   destination = args['destination']\n            ,   stop        = args['stop']\n            ,   start       = args['start']\n            ,   end         = args['end']\n            ,   reverse     = args['reverse']\n            ,   limit       = args['limit']\n            ,   jsonp       = jsonp_cb()\n            ,   data        = {}\n            ,   url;\n\n            // Check User Input\n            if (!source)        return error('Missing Source Channel');\n            if (!destination)   return error('Missing Destination Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Setup URL Params\n            if (jsonp != '0') data['callback'] = jsonp;\n            if (stop)         data['stop']     = 'all';\n            if (reverse)      data['reverse']  = 'true';\n            if (start)        data['start']    = start;\n            if (end)          data['end']      = end;\n            if (limit)        data['count']    = limit;\n\n            data['auth'] = auth_key;\n\n            // Compose URL Parts\n            url = [\n                STD_ORIGIN, 'v1', 'replay',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                source, destination\n            ];\n\n            // Start (or Stop) Replay!\n            xdr({\n                callback : jsonp,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function() { callback([ 0, 'Disconnected' ]) },\n                url      : url,\n                data     : _get_url_params(data)\n            });\n        },\n\n        /*\n            PUBNUB.auth('AJFLKAJSDKLA');\n        */\n        'auth' : function(auth) {\n            AUTH_KEY = auth;\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.time(function(time){ });\n        */\n        'time' : function(callback) {\n            var jsonp = jsonp_cb();\n\n            var data = { 'uuid' : UUID, 'auth' : AUTH_KEY }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [STD_ORIGIN, 'time', jsonp],\n                success  : function(response) { callback(response[0]) },\n                fail     : function() { callback(0) }\n            });\n        },\n\n        /*\n            PUBNUB.publish({\n                channel : 'my_chat_channel',\n                message : 'hello!'\n            });\n        */\n        'publish' : function( args, callback ) {\n            var msg      = args['message'];\n            if (!msg) return error('Missing Message');\n\n            var callback = callback || args['callback'] || msg['callback'] || function(){}\n            ,   channel  = args['channel'] || msg['channel']\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   cipher_key = args['cipher_key']\n            ,   err      = args['error'] || msg['error'] || function() {}\n            ,   post     = args['post'] || false\n            ,   store    = ('store_in_history' in args) ? args['store_in_history']: true\n            ,   jsonp    = jsonp_cb()\n            ,   add_msg  = 'push'\n            ,   params\n            ,   url;\n\n            if (args['prepend']) add_msg = 'unshift'\n\n            if (!channel)       return error('Missing Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (msg['getPubnubMessage']) {\n                msg = msg['getPubnubMessage']();\n            }\n\n            // If trying to send Object\n            msg = JSON['stringify'](encrypt(msg, cipher_key));\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'publish',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                0, encode(channel),\n                jsonp, encode(msg)\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key }\n\n            if (!store) params['store'] =\"0\"\n\n            if (USE_INSTANCEID) params['instanceid'] = INSTANCEID;\n\n            // Queue Message Send\n            PUB_QUEUE[add_msg]({\n                callback : jsonp,\n                timeout  : SECOND * 5,\n                url      : url,\n                data     : _get_url_params(params),\n                fail     : function(response){\n                    _invoke_error(response, err);\n                    publish(1);\n                },\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                    publish(1);\n                },\n                mode     : (post)?'POST':'GET'\n            });\n\n            // Send Message\n            publish();\n        },\n\n        /*\n            PUBNUB.unsubscribe({ channel : 'my_chat' });\n        */\n        'unsubscribe' : function(args, callback) {\n            var channel       = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   auth_key      = args['auth_key']    || AUTH_KEY\n            ,   callback      = callback            || args['callback'] || function(){}\n            ,   err           = args['error']       || function(){};\n\n            TIMETOKEN   = 0;\n            //SUB_RESTORE = 1;    REVISIT !!!!\n\n            if (channel) {\n                // Prepare Channel(s)\n                channel = map( (\n                    channel.join ? channel.join(',') : ''+channel\n                ).split(','), function(channel) {\n                    if (!CHANNELS[channel]) return;\n                    return channel + ',' + channel + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over Channels\n                each( channel.split(','), function(ch) {\n                    var CB_CALLED = true;\n                    if (!ch) return;\n                    CHANNELS[ch] = 0;\n                    if (ch in STATE) delete STATE[ch];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE']( ch, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                    \n                } );\n            }\n\n            if (channel_group) {\n                // Prepare channel group(s)\n                channel_group = map( (\n                    channel_group.join ? channel_group.join(',') : ''+channel_group\n                ).split(','), function(channel_group) {\n                    if (!CHANNEL_GROUPS[channel_group]) return;\n                    return channel_group + ',' + channel_group + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over channel groups\n                each( channel_group.split(','), function(chg) {\n                    var CB_CALLED = true;\n                    if (!chg) return;\n                    CHANNEL_GROUPS[chg] = 0;\n                    if (chg in STATE) delete STATE[chg];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE_GROUP']( chg, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                } );\n            }\n\n            // Reset Connection if Count Less\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.subscribe({\n                channel  : 'my_chat'\n                callback : function(message) { }\n            });\n        */\n        'subscribe' : function( args, callback ) {\n            var channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   callback        = callback            || args['callback']\n            ,   callback        = callback            || args['message']\n            ,   connect         = args['connect']     || function(){}\n            ,   reconnect       = args['reconnect']   || function(){}\n            ,   disconnect      = args['disconnect']  || function(){}\n            ,   SUB_ERROR       = args['error']       || SUB_ERROR || function(){}\n            ,   idlecb          = args['idle']        || function(){}\n            ,   presence        = args['presence']    || 0\n            ,   noheresync      = args['noheresync']  || 0\n            ,   backfill        = args['backfill']    || 0\n            ,   timetoken       = args['timetoken']   || 0\n            ,   sub_timeout     = args['timeout']     || SUB_TIMEOUT\n            ,   windowing       = args['windowing']   || SUB_WINDOWING\n            ,   state           = args['state']\n            ,   heartbeat       = args['heartbeat'] || args['pnexpires']\n            ,   heartbeat_interval = args['heartbeat_interval']\n            ,   restore         = args['restore'] || SUB_RESTORE;\n\n            AUTH_KEY            = args['auth_key']    || AUTH_KEY;\n\n            // Restore Enabled?\n            SUB_RESTORE = restore;\n\n            // Always Reset the TT\n            TIMETOKEN = timetoken;\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) {\n                return error('Missing Channel');\n            }\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (heartbeat || heartbeat === 0 || heartbeat_interval || heartbeat_interval === 0) {\n                SELF['set_heartbeat'](heartbeat, heartbeat_interval);\n            }\n\n            // Setup Channel(s)\n            if (channel) {\n                each( (channel.join ? channel.join(',') : ''+channel).split(','),\n                function(channel) {\n                    var settings = CHANNELS[channel] || {};\n\n                    // Store Channel State\n                    CHANNELS[SUB_CHANNEL = channel] = {\n                        name         : channel,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    if (state) {\n                        if (channel in state) {\n                            STATE[channel] = state[channel];\n                        } else {\n                            STATE[channel] = state;\n                        }\n                    }\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel'  : channel + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel'  : channel,\n                        'data'     : _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel ); } );\n                        }\n                    });\n                } );\n            }\n\n            // Setup Channel Groups\n            if (channel_group) {\n                each( (channel_group.join ? channel_group.join(',') : ''+channel_group).split(','),\n                function(channel_group) {\n                    var settings = CHANNEL_GROUPS[channel_group] || {};\n\n                    CHANNEL_GROUPS[channel_group] = {\n                        name         : channel_group,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel_group'  : channel_group + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore,\n                        'auth_key' : AUTH_KEY\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel_group'  : channel_group,\n                        'data'           : _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel_group ); } );\n                        }\n                    });\n                } );\n            }\n\n\n            // Test Network Connection\n            function _test_connection(success) {\n                if (success) {\n                    // Begin Next Socket Connection\n                    timeout( CONNECT, windowing);\n                }\n                else {\n                    // New Origin on Failed Connection\n                    STD_ORIGIN = nextorigin( ORIGIN, 1 );\n                    SUB_ORIGIN = nextorigin( ORIGIN, 1 );\n\n                    // Re-test Connection\n                    timeout( function() {\n                        SELF['time'](_test_connection);\n                    }, SECOND );\n                }\n\n                // Disconnect & Reconnect\n                each_channel(function(channel){\n                    // Reconnect\n                    if (success && channel.disconnected) {\n                        channel.disconnected = 0;\n                        return channel.reconnect(channel.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel.disconnected) {\n                        channel.disconnected = 1;\n                        channel.disconnect(channel.name);\n                    }\n                });\n                \n                // Disconnect & Reconnect for channel groups\n                each_channel_group(function(channel_group){\n                    // Reconnect\n                    if (success && channel_group.disconnected) {\n                        channel_group.disconnected = 0;\n                        return channel_group.reconnect(channel_group.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel_group.disconnected) {\n                        channel_group.disconnected = 1;\n                        channel_group.disconnect(channel_group.name);\n                    }\n                });\n            }\n\n            // Evented Subscribe\n            function _connect() {\n                var jsonp           = jsonp_cb()\n                ,   channels        = generate_channel_list(CHANNELS).join(',')\n                ,   channel_groups  = generate_channel_group_list(CHANNEL_GROUPS).join(',');\n\n                // Stop Connection\n                if (!channels && !channel_groups) return;\n\n                if (!channels) channels = ',';\n\n                // Connect to PubNub Subscribe Servers\n                _reset_offline();\n\n                var data = _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY });\n\n                if (channel_groups) {\n                    data['channel-group'] = channel_groups;\n                }\n\n\n                var st = JSON.stringify(STATE);\n                if (st.length > 2) data['state'] = JSON.stringify(STATE);\n\n                if (PRESENCE_HB) data['heartbeat'] = PRESENCE_HB;\n\n                if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n                start_presence_heartbeat();\n                SUB_RECEIVER = xdr({\n                    timeout  : sub_timeout,\n                    callback : jsonp,\n                    fail     : function(response) {\n                        if (response && response['error'] && response['service']) {\n                            _invoke_error(response, SUB_ERROR);\n                            _test_connection(1);\n                        } else {\n                            SELF['time'](function(success){\n                                !success && ( _invoke_error(response, SUB_ERROR));\n                                _test_connection(success);\n                            });\n                        }\n                    },\n                    data     : _get_url_params(data),\n                    url      : [\n                        SUB_ORIGIN, 'subscribe',\n                        SUBSCRIBE_KEY, encode(channels),\n                        jsonp, TIMETOKEN\n                    ],\n                    success : function(messages) {\n\n                        // Check for Errors\n                        if (!messages || (\n                            typeof messages == 'object' &&\n                            'error' in messages         &&\n                            messages['error']\n                        )) {\n                            SUB_ERROR(messages['error']);\n                            return timeout( CONNECT, SECOND );\n                        }\n\n                        // User Idle Callback\n                        idlecb(messages[1]);\n\n                        // Restore Previous Connection Point if Needed\n                        TIMETOKEN = !TIMETOKEN               &&\n                                    SUB_RESTORE              &&\n                                    db['get'](SUBSCRIBE_KEY) || messages[1];\n\n                        /*\n                        // Connect\n                        each_channel_registry(function(registry){\n                            if (registry.connected) return;\n                            registry.connected = 1;\n                            registry.connect(channel.name);\n                        });\n                        */\n\n                        // Connect\n                        each_channel(function(channel){\n                            if (channel.connected) return;\n                            channel.connected = 1;\n                            channel.connect(channel.name);\n                        });\n\n                        // Connect for channel groups\n                        each_channel_group(function(channel_group){\n                            if (channel_group.connected) return;\n                            channel_group.connected = 1;\n                            channel_group.connect(channel_group.name);\n                        });\n\n                        if (RESUMED && !SUB_RESTORE) {\n                                TIMETOKEN = 0;\n                                RESUMED = false;\n                                // Update Saved Timetoken\n                                db['set']( SUBSCRIBE_KEY, 0 );\n                                timeout( _connect, windowing );\n                                return;\n                        }\n\n                        // Invoke Memory Catchup and Receive Up to 100\n                        // Previous Messages from the Queue.\n                        if (backfill) {\n                            TIMETOKEN = 10000;\n                            backfill  = 0;\n                        }\n\n                        // Update Saved Timetoken\n                        db['set']( SUBSCRIBE_KEY, messages[1] );\n\n                        // Route Channel <---> Callback for Message\n                        var next_callback = (function() {\n                            var channels = '';\n                            var channels2 = '';\n\n                            if (messages.length > 3) {\n                                channels  = messages[3];\n                                channels2 = messages[2];\n                            } else if (messages.length > 2) {\n                                channels = messages[2];\n                            } else {\n                                channels =  map(\n                                    generate_channel_list(CHANNELS), function(chan) { return map(\n                                        Array(messages[0].length)\n                                        .join(',').split(','),\n                                        function() { return chan; }\n                                    ) }).join(',')\n                            }\n\n                            var list  = channels.split(',');\n                            var list2 = (channels2)?channels2.split(','):[];\n\n                            return function() {\n                                var channel  = list.shift()||SUB_CHANNEL;\n                                var channel2 = list2.shift();\n\n                                var chobj = {};\n\n                                if (channel2) {\n                                    if (channel && channel.indexOf('-pnpres') >= 0 \n                                        && channel2.indexOf('-pnpres') < 0) {\n                                        channel2 += '-pnpres';\n                                    }\n                                    chobj = CHANNEL_GROUPS[channel2] || CHANNELS[channel2] || {'callback' : function(){}};\n                                } else {\n                                    chobj = CHANNELS[channel];\n                                }\n\n                                var r = [\n                                    chobj\n                                    .callback||SUB_CALLBACK,\n                                    channel.split(PRESENCE_SUFFIX)[0]\n                                ];\n                                channel2 && r.push(channel2.split(PRESENCE_SUFFIX)[0]);\n                                return r;\n                            };\n                        })();\n\n                        var latency = detect_latency(+messages[1]);\n                        each( messages[0], function(msg) {\n                            var next = next_callback();\n                            var decrypted_msg = decrypt(msg,\n                                (CHANNELS[next[1]])?CHANNELS[next[1]]['cipher_key']:null);\n                            next[0] && next[0]( decrypted_msg, messages, next[2] || next[1], latency, next[1]);\n                        });\n\n                        timeout( _connect, windowing );\n                    }\n                });\n            }\n\n            CONNECT = function() {\n                _reset_offline();\n                timeout( _connect, windowing );\n            };\n\n            // Reduce Status Flicker\n            if (!READY) return READY_BUFFER.push(CONNECT);\n\n            // Connect Now\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.here_now({ channel : 'my_chat', callback : fun });\n        */\n        'here_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   jsonp    = jsonp_cb()\n            ,   uuids    = ('uuids' in args) ? args['uuids'] : true\n            ,   state    = args['state']\n            ,   data     = { 'uuid' : UUID, 'auth' : auth_key };\n\n            if (!uuids) data['disable_uuids'] = 1;\n            if (state) data['state'] = 1;\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            var url = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY\n                ];\n\n            channel && url.push('channel') && url.push(encode(channel));\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (channel_group) {\n                data['channel-group'] = channel_group;\n                !channel && url.push('channel') && url.push(','); \n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n        },\n\n        /*\n            PUBNUB.current_channels_by_uuid({ channel : 'my_chat', callback : fun });\n        */\n        'where_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   uuid     = args['uuid']     || UUID\n            ,   data     = { 'auth' : auth_key };\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY,\n                    'uuid', encode(uuid)\n                ]\n            });\n        },\n\n        'state' : function(args, callback) {\n            var callback = args['callback'] || callback || function(r) {}\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   state    = args['state']\n            ,   uuid     = args['uuid'] || UUID\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   url\n            ,   data     = _get_url_params({ 'auth' : auth_key });\n\n            // Make sure we have a Channel\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!uuid) return error('Missing UUID');\n            if (!channel && !channel_group) return error('Missing Channel');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (typeof channel != 'undefined'\n                && CHANNELS[channel] && CHANNELS[channel].subscribed ) {\n                if (state) STATE[channel] = state;\n            }\n\n            if (typeof channel_group != 'undefined'\n                && CHANNEL_GROUPS[channel_group]\n                && CHANNEL_GROUPS[channel_group].subscribed\n                ) {\n                if (state) STATE[channel_group] = state;\n                data['channel-group'] = channel_group;\n\n                if (!channel) {\n                    channel = ',';\n                }\n            }\n\n            data['state'] = JSON.stringify(state);\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            if (state) {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', uuid, 'data'\n                ]\n            } else {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', encode(uuid)\n                ]\n            }\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n\n            });\n\n        },\n\n        /*\n            PUBNUB.grant({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                ttl      : 24 * 60, // Minutes\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'grant' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']  || args['channels']\n            ,   channel_group   = args['channel_group']\n            ,   jsonp           = jsonp_cb()\n            ,   ttl             = args['ttl']\n            ,   r               = (args['read'] )?\"1\":\"0\"\n            ,   w               = (args['write'])?\"1\":\"0\"\n            ,   m               = (args['manage'])?\"1\":\"0\"\n            ,   auth_key        = args['auth_key'] || args['auth_keys'];\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\" + PUBLISH_KEY + \"\\n\"\n                    + \"grant\" + \"\\n\";\n\n            var data = {\n                'w'         : w,\n                'r'         : r,\n                'timestamp' : timestamp\n            };\n            if (args['manage']) {\n                data['m'] = m;\n            }\n            if (isArray(channel)) {\n                channel = channel['join'](',');\n            }\n            if (isArray(auth_key)) {\n                auth_key = auth_key['join'](',');\n            }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (ttl || ttl === 0) data['ttl'] = ttl;\n\n            if (auth_key) data['auth'] = auth_key;\n\n            data = _get_url_params(data)\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'grant' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n         PUBNUB.mobile_gw_provision ({\n         device_id: 'A655FBA9931AB',\n         op       : 'add' | 'remove',\n         gw_type  : 'apns' | 'gcm',\n         channel  : 'my_chat',\n         callback : fun,\n         error    : fun,\n         });\n         */\n\n        'mobile_gw_provision' : function( args ) {\n\n            var callback = args['callback'] || function(){}\n                ,   auth_key       = args['auth_key'] || AUTH_KEY\n                ,   err            = args['error'] || function() {}\n                ,   jsonp          = jsonp_cb()\n                ,   channel        = args['channel']\n                ,   op             = args['op']\n                ,   gw_type        = args['gw_type']\n                ,   device_id      = args['device_id']\n                ,   params\n                ,   url;\n\n            if (!device_id)     return error('Missing Device ID (device_id)');\n            if (!gw_type)       return error('Missing GW Type (gw_type: gcm or apns)');\n            if (!op)            return error('Missing GW Operation (op: add or remove)');\n            if (!channel)       return error('Missing gw destination Channel (channel)');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'v1/push/sub-key',\n                SUBSCRIBE_KEY, 'devices', device_id\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key, 'type': gw_type};\n\n            if (op == \"add\") {\n                params['add'] = channel;\n            } else if (op == \"remove\") {\n                params['remove'] = channel;\n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n        },\n\n        /*\n            PUBNUB.audit({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'audit' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   auth_key        = args['auth_key']\n            ,   jsonp           = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\"\n                + PUBLISH_KEY + \"\\n\"\n                + \"audit\" + \"\\n\";\n\n            var data = {'timestamp' : timestamp };\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (auth_key) data['auth']    = auth_key;\n\n            data = _get_url_params(data);\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'audit' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.revoke({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'revoke' : function( args, callback ) {\n            args['read']  = false;\n            args['write'] = false;\n            SELF['grant']( args, callback );\n        },\n        'set_uuid' : function(uuid) {\n            UUID = uuid;\n            CONNECT();\n        },\n        'get_uuid' : function() {\n            return UUID;\n        },\n        'isArray'  : function(arg) {\n            return isArray(arg);\n        },\n        'get_subscibed_channels' : function() {\n            return generate_channel_list(CHANNELS, true);\n        },\n        'presence_heartbeat' : function(args) {\n            var callback = args['callback'] || function() {}\n            var err      = args['error']    || function() {}\n            var jsonp    = jsonp_cb();\n            var data     = { 'uuid' : UUID, 'auth' : AUTH_KEY };\n\n            var st = JSON['stringify'](STATE);\n            if (st.length > 2) data['state'] = JSON['stringify'](STATE);\n\n            if (PRESENCE_HB > 0 && PRESENCE_HB < 320) data['heartbeat'] = PRESENCE_HB;\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            var channels        = encode(generate_channel_list(CHANNELS, true)['join'](','));\n            var channel_groups  = generate_channel_group_list(CHANNEL_GROUPS, true)['join'](',');\n\n            if (!channels) channels = ',';\n            if (channel_groups) data['channel-group'] = channel_groups;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel' , channels,\n                    'heartbeat'\n                ],\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) { _invoke_error(response, err); }\n            });\n        },\n        'stop_timers': function () {\n            clearTimeout(_poll_timer);\n            clearTimeout(_poll_timer2);\n            clearTimeout(PRESENCE_HB_TIMEOUT);\n        },\n        'shutdown': function () {\n            SELF['stop_timers']();\n            shutdown && shutdown();\n        },\n\n        // Expose PUBNUB Functions\n        'xdr'           : xdr,\n        'ready'         : ready,\n        'db'            : db,\n        'uuid'          : generate_uuid,\n        'map'           : map,\n        'each'          : each,\n        'each-channel'  : each_channel,\n        'grep'          : grep,\n        'offline'       : function(){ _reset_offline(\n            1, { \"message\" : \"Offline. Please check your network settings.\" })\n        },\n        'supplant'      : supplant,\n        'now'           : rnow,\n        'unique'        : unique,\n        'updater'       : updater\n    };\n\n    function _poll_online() {\n        _is_online() || _reset_offline( 1, {\n            \"error\" : \"Offline. Please check your network settings. \"\n        });\n        _poll_timer && clearTimeout(_poll_timer);\n        _poll_timer = timeout( _poll_online, SECOND );\n    }\n\n    function _poll_online2() {\n        if (!TIME_CHECK) return;\n        SELF['time'](function(success){\n            detect_time_detla( function(){}, success );\n            success || _reset_offline( 1, {\n                \"error\" : \"Heartbeat failed to connect to Pubnub Servers.\" +\n                    \"Please check your network settings.\"\n                });\n            _poll_timer2 && clearTimeout(_poll_timer2);\n            _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n        });\n    }\n\n    function _reset_offline(err, msg) {\n        SUB_RECEIVER && SUB_RECEIVER(err, msg);\n        SUB_RECEIVER = null;\n\n        clearTimeout(_poll_timer);\n        clearTimeout(_poll_timer2);\n    }\n    \n    if (!UUID) UUID = SELF['uuid']();\n    if (!INSTANCEID) INSTANCEID = SELF['uuid']();\n    db['set']( SUBSCRIBE_KEY + 'uuid', UUID );\n\n    _poll_timer  = timeout( _poll_online,  SECOND    );\n    _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n    PRESENCE_HB_TIMEOUT = timeout(\n        start_presence_heartbeat,\n        ( PRESENCE_HB_INTERVAL - 3 ) * SECOND\n    );\n\n    // Detect Age of Message\n    function detect_latency(tt) {\n        var adjusted_time = rnow() - TIME_DRIFT;\n        return adjusted_time - tt / 10000;\n    }\n\n    detect_time_detla();\n    function detect_time_detla( cb, time ) {\n        var stime = rnow();\n\n        time && calculate(time) || SELF['time'](calculate);\n\n        function calculate(time) {\n            if (!time) return;\n            var ptime   = time / 10000\n            ,   latency = (rnow() - stime) / 2;\n            TIME_DRIFT = rnow() - (ptime + latency);\n            cb && cb(TIME_DRIFT);\n        }\n    }\n\n    return SELF;\n}\nfunction crypto_obj() {\n\n    function SHA256(s) {\n        return CryptoJS['SHA256'](s)['toString'](CryptoJS['enc']['Hex']);\n    }\n\n    var iv = \"0123456789012345\";\n\n    var allowedKeyEncodings = ['hex', 'utf8', 'base64', 'binary'];\n    var allowedKeyLengths = [128, 256];\n    var allowedModes = ['ecb', 'cbc'];\n\n    var defaultOptions = {\n        'encryptKey': true,\n        'keyEncoding': 'utf8',\n        'keyLength': 256,\n        'mode': 'cbc'\n    };\n\n    function parse_options(options) {\n\n        // Defaults\n        options = options || {};\n        if (!options['hasOwnProperty']('encryptKey')) options['encryptKey'] = defaultOptions['encryptKey'];\n        if (!options['hasOwnProperty']('keyEncoding')) options['keyEncoding'] = defaultOptions['keyEncoding'];\n        if (!options['hasOwnProperty']('keyLength')) options['keyLength'] = defaultOptions['keyLength'];\n        if (!options['hasOwnProperty']('mode')) options['mode'] = defaultOptions['mode'];\n\n        // Validation\n        if (allowedKeyEncodings['indexOf'](options['keyEncoding']['toLowerCase']()) == -1) options['keyEncoding'] = defaultOptions['keyEncoding'];\n        if (allowedKeyLengths['indexOf'](parseInt(options['keyLength'], 10)) == -1) options['keyLength'] = defaultOptions['keyLength'];\n        if (allowedModes['indexOf'](options['mode']['toLowerCase']()) == -1) options['mode'] = defaultOptions['mode'];\n\n        return options;\n\n    }\n\n    function decode_key(key, options) {\n        if (options['keyEncoding'] == 'base64') {\n            return CryptoJS['enc']['Base64']['parse'](key);\n        } else if (options['keyEncoding'] == 'hex') {\n            return CryptoJS['enc']['Hex']['parse'](key);\n        } else {\n            return key;\n        }\n    }\n\n    function get_padded_key(key, options) {\n        key = decode_key(key, options);\n        if (options['encryptKey']) {\n            return CryptoJS['enc']['Utf8']['parse'](SHA256(key)['slice'](0, 32));\n        } else {\n            return key;\n        }\n    }\n\n    function get_mode(options) {\n        if (options['mode'] == 'ecb') {\n            return CryptoJS['mode']['ECB'];\n        } else {\n            return CryptoJS['mode']['CBC'];\n        }\n    }\n\n    function get_iv(options) {\n        return (options['mode'] == 'cbc') ? CryptoJS['enc']['Utf8']['parse'](iv) : null;\n    }\n\n    return {\n\n        'encrypt': function(data, key, options) {\n            if (!key) return data;\n            options = parse_options(options);\n            var iv = get_iv(options);\n            var mode = get_mode(options);\n            var cipher_key = get_padded_key(key, options);\n            var hex_message = JSON['stringify'](data);\n            var encryptedHexArray = CryptoJS['AES']['encrypt'](hex_message, cipher_key, {'iv': iv, 'mode': mode})['ciphertext'];\n            var base_64_encrypted = encryptedHexArray['toString'](CryptoJS['enc']['Base64']);\n            return base_64_encrypted || data;\n        },\n\n        'decrypt': function(data, key, options) {\n            if (!key) return data;\n            options = parse_options(options);\n            var iv = get_iv(options);\n            var mode = get_mode(options);\n            var cipher_key = get_padded_key(key, options);\n            try {\n                var binary_enc = CryptoJS['enc']['Base64']['parse'](data);\n                var json_plain = CryptoJS['AES']['decrypt']({'ciphertext': binary_enc}, cipher_key, {'iv': iv, 'mode': mode})['toString'](CryptoJS['enc']['Utf8']);\n                var plaintext = JSON['parse'](json_plain);\n                return plaintext;\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n    };\n}\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     UTIL     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nwindow['PUBNUB'] || (function() {\n\n/**\n * UTIL LOCALS\n */\n\nvar SWF             = 'https://pubnub.a.ssl.fastly.net/pubnub.swf'\n,   ASYNC           = 'async'\n,   UA              = navigator.userAgent\n,   PNSDK           = 'PubNub-JS-' + 'Web' + '/' + '3.7.14'\n,   XORIGN          = UA.indexOf('MSIE 6') == -1;\n\n/**\n * CONSOLE COMPATIBILITY\n */\nwindow.console || (window.console=window.console||{});\nconsole.log    || (\n    console.log   =\n    console.error =\n    ((window.opera||{}).postError||function(){})\n);\n\n/**\n * LOCAL STORAGE OR COOKIE\n */\nvar db = (function(){\n    var store = {};\n    var ls = false;\n    try {\n        ls = window['localStorage'];\n    } catch (e) { }\n    var cookieGet = function(key) {\n        if (document.cookie.indexOf(key) == -1) return null;\n        return ((document.cookie||'').match(\n            RegExp(key+'=([^;]+)')\n        )||[])[1] || null;\n    };\n    var cookieSet = function( key, value ) {\n        document.cookie = key + '=' + value +\n            '; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/';\n    };\n    var cookieTest = (function() {\n        try {\n            cookieSet('pnctest', '1');\n            return cookieGet('pnctest') === '1';\n        } catch (e) {\n            return false;\n        }\n    }());\n    return {\n        'get' : function(key) {\n            try {\n                if (ls) return ls.getItem(key);\n                if (cookieTest) return cookieGet(key);\n                return store[key];\n            } catch(e) {\n                return store[key];\n            }\n        },\n        'set' : function( key, value ) {\n            try {\n                if (ls) return ls.setItem( key, value ) && 0;\n                if (cookieTest) cookieSet( key, value );\n                store[key] = value;\n            } catch(e) {\n                store[key] = value;\n            }\n        }\n    };\n})();\n\nfunction get_hmac_SHA256(data,key) {\n    var hash = CryptoJS['HmacSHA256'](data, key);\n    return hash.toString(CryptoJS['enc']['Base64']);\n}\n\n/**\n * $\n * =\n * var div = $('divid');\n */\nfunction $(id) { return document.getElementById(id) }\n\n/**\n * ERROR\n * =====\n * error('message');\n */\nfunction error(message) { console['error'](message) }\n\n/**\n * SEARCH\n * ======\n * var elements = search('a div span');\n */\nfunction search( elements, start) {\n    var list = [];\n    each( elements.split(/\\s+/), function(el) {\n        each( (start || document).getElementsByTagName(el), function(node) {\n            list.push(node);\n        } );\n    });\n    return list;\n}\n\n/**\n * BIND\n * ====\n * bind( 'keydown', search('a')[0], function(element) {\n *     ...\n * } );\n */\nfunction bind( type, el, fun ) {\n    each( type.split(','), function(etype) {\n        var rapfun = function(e) {\n            if (!e) e = window.event;\n            if (!fun(e)) {\n                e.cancelBubble = true;\n                e.preventDefault  && e.preventDefault();\n                e.stopPropagation && e.stopPropagation();\n            }\n        };\n\n        if ( el.addEventListener ) el.addEventListener( etype, rapfun, false );\n        else if ( el.attachEvent ) el.attachEvent( 'on' + etype, rapfun );\n        else  el[ 'on' + etype ] = rapfun;\n    } );\n}\n\n/**\n * UNBIND\n * ======\n * unbind( 'keydown', search('a')[0] );\n */\nfunction unbind( type, el, fun ) {\n    if ( el.removeEventListener ) el.removeEventListener( type, false );\n    else if ( el.detachEvent ) el.detachEvent( 'on' + type, false );\n    else  el[ 'on' + type ] = null;\n}\n\n/**\n * HEAD\n * ====\n * head().appendChild(elm);\n */\nfunction head() { return search('head')[0] }\n\n/**\n * ATTR\n * ====\n * var attribute = attr( node, 'attribute' );\n */\nfunction attr( node, attribute, value ) {\n    if (value) node.setAttribute( attribute, value );\n    else return node && node.getAttribute && node.getAttribute(attribute);\n}\n\n/**\n * CSS\n * ===\n * var obj = create('div');\n */\nfunction css( element, styles ) {\n    for (var style in styles) if (styles.hasOwnProperty(style))\n        try {element.style[style] = styles[style] + (\n            '|width|height|top|left|'.indexOf(style) > 0 &&\n            typeof styles[style] == 'number'\n            ? 'px' : ''\n        )}catch(e){}\n}\n\n/**\n * CREATE\n * ======\n * var obj = create('div');\n */\nfunction create(element) { return document.createElement(element) }\n\n\n/**\n * jsonp_cb\n * ========\n * var callback = jsonp_cb();\n */\nfunction jsonp_cb() { return XORIGN || FDomainRequest() ? 0 : unique() }\n\n\n\n/**\n * EVENTS\n * ======\n * PUBNUB.events.bind( 'you-stepped-on-flower', function(message) {\n *     // Do Stuff with message\n * } );\n *\n * PUBNUB.events.fire( 'you-stepped-on-flower', \"message-data\" );\n * PUBNUB.events.fire( 'you-stepped-on-flower', {message:\"data\"} );\n * PUBNUB.events.fire( 'you-stepped-on-flower', [1,2,3] );\n *\n */\nvar events = {\n    'list'   : {},\n    'unbind' : function( name ) { events.list[name] = [] },\n    'bind'   : function( name, fun ) {\n        (events.list[name] = events.list[name] || []).push(fun);\n    },\n    'fire' : function( name, data ) {\n        each(\n            events.list[name] || [],\n            function(fun) { fun(data) }\n        );\n    }\n};\n\n/**\n * XDR Cross Domain Request\n * ========================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction xdr( setup ) {\n    if (XORIGN || FDomainRequest()) return ajax(setup);\n\n    var script    = create('script')\n    ,   callback  = setup.callback\n    ,   id        = unique()\n    ,   finished  = 0\n    ,   xhrtme    = setup.timeout || DEF_TIMEOUT\n    ,   timer     = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail      = setup.fail    || function(){}\n    ,   data      = setup.data    || {}\n    ,   success   = setup.success || function(){}\n    ,   append    = function() { head().appendChild(script) }\n    ,   done      = function( failed, response ) {\n            if (finished) return;\n            finished = 1;\n\n            script.onerror = null;\n            clearTimeout(timer);\n\n            (failed || !response) || success(response);\n\n            timeout( function() {\n                failed && fail();\n                var s = $(id)\n                ,   p = s && s.parentNode;\n                p && p.removeChild(s);\n            }, SECOND );\n        };\n\n    window[callback] = function(response) {\n        done( 0, response );\n    };\n\n    if (!setup.blocking) script[ASYNC] = ASYNC;\n\n    script.onerror = function() { done(1) };\n    script.src     = build_url( setup.url, data );\n\n    attr( script, 'id', id );\n\n    append();\n    return done;\n}\n\n/**\n * CORS XHR Request\n * ================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction ajax( setup ) {\n    var xhr, response\n    ,   finished = function() {\n            if (loaded) return;\n            loaded = 1;\n\n            clearTimeout(timer);\n\n            try       { response = JSON['parse'](xhr.responseText); }\n            catch (r) { return done(1); }\n\n            complete = 1;\n            success(response);\n        }\n    ,   complete = 0\n    ,   loaded   = 0\n    ,   xhrtme   = setup.timeout || DEF_TIMEOUT\n    ,   timer    = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail     = setup.fail    || function(){}\n    ,   data     = setup.data    || {}\n    ,   success  = setup.success || function(){}\n    ,   async    = !(setup.blocking)\n    ,   done     = function(failed,response) {\n            if (complete) return;\n            complete = 1;\n\n            clearTimeout(timer);\n\n            if (xhr) {\n                xhr.onerror = xhr.onload = null;\n                xhr.abort && xhr.abort();\n                xhr = null;\n            }\n\n            failed && fail(response);\n        };\n\n    // Send\n    try {\n        xhr = FDomainRequest()      ||\n              window.XDomainRequest &&\n              new XDomainRequest()  ||\n              new XMLHttpRequest();\n\n        xhr.onerror = xhr.onabort   = function(e){ done(\n            1, e || (xhr && xhr.responseText) || { \"error\" : \"Network Connection Error\"}\n        ) };\n        xhr.onload  = xhr.onloadend = finished;\n        xhr.onreadystatechange = function() {\n            if (xhr && xhr.readyState == 4) {\n                switch(xhr.status) {\n                    case 200:\n                        break;\n                    default:\n                        try {\n                            response = JSON['parse'](xhr.responseText);\n                            done(1,response);\n                        }\n                        catch (r) { return done(1, {status : xhr.status, payload : null, message : xhr.responseText}); }\n                        return;\n                }\n            }\n        }\n\n        var url = build_url(setup.url,data);\n\n        xhr.open( 'GET', url, async );\n        if (async) xhr.timeout = xhrtme;\n        xhr.send();\n    }\n    catch(eee) {\n        done(0);\n        XORIGN = 0;\n        return xdr(setup);\n    }\n\n    // Return 'done'\n    return done;\n}\n\n// Test Connection State\nfunction _is_online() {\n    if (!('onLine' in navigator)) return 1;\n    try       { return navigator['onLine'] }\n    catch (e) { return true }\n}\n\n\nfunction sendBeacon(url) {\n    if (!('sendBeacon' in navigator)) return false;\n\n    return navigator['sendBeacon'](url);\n}\n\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     PUBNUB     ===========================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nvar PDIV          = $('pubnub') || 0\n,   CREATE_PUBNUB = function(setup) {\n\n    // Force JSONP if requested from user.\n    if (setup['jsonp'])  XORIGN = 0;\n    else                 XORIGN = UA.indexOf('MSIE 6') == -1;\n\n    var SUBSCRIBE_KEY = setup['subscribe_key'] || ''\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   UUID          = setup['uuid'] || db['get'](SUBSCRIBE_KEY+'uuid')||'';\n\n    var leave_on_unload = setup['leave_on_unload'] || 0;\n\n    setup['xdr']        = xdr;\n    setup['db']         = db;\n    setup['error']      = setup['error'] || error;\n    setup['_is_online'] = _is_online;\n    setup['jsonp_cb']   = jsonp_cb;\n    setup['hmac_SHA256']= get_hmac_SHA256;\n    setup['crypto_obj'] = crypto_obj();\n    setup['sendBeacon'] = sendBeacon;\n    setup['params']     = { 'pnsdk' : PNSDK }\n\n    var SELF = function(setup) {\n        return CREATE_PUBNUB(setup);\n    };\n\n    var PN = PN_API(setup);\n\n    for (var prop in PN) {\n        if (PN.hasOwnProperty(prop)) {\n            SELF[prop] = PN[prop];\n        }\n    }\n    SELF['css']         = css;\n    SELF['$']           = $;\n    SELF['create']      = create;\n    SELF['bind']        = bind;\n    SELF['head']        = head;\n    SELF['search']      = search;\n    SELF['attr']        = attr;\n    SELF['events']      = events;\n    SELF['init']        = SELF;\n    SELF['secure']      = SELF;\n    SELF['crypto_obj']  = crypto_obj(); // export to instance\n\n\n    // Add Leave Functions\n    bind( 'beforeunload', window, function() {\n        if (leave_on_unload) SELF['each-channel'](function(ch){ SELF['LEAVE']( ch.name, 0 ) });\n        return true;\n    } );\n\n    // Return without Testing\n    if (setup['notest']) return SELF;\n\n    bind( 'offline', window,   SELF['offline'] );\n    bind( 'offline', document, SELF['offline'] );\n\n    // Return PUBNUB Socket Object\n    return SELF;\n};\nCREATE_PUBNUB['init']   = CREATE_PUBNUB;\nCREATE_PUBNUB['secure'] = CREATE_PUBNUB;\nCREATE_PUBNUB['crypto_obj'] = crypto_obj(); // export to constructor\n\n// Bind for PUBNUB Readiness to Subscribe\nif (document.readyState === 'complete') {\n    timeout( ready, 0 );\n}\nelse {\n    bind( 'load', window, function(){ timeout( ready, 0 ) } );\n}\n\nvar pdiv = PDIV || {};\n\n// CREATE A PUBNUB GLOBAL OBJECT\nPUBNUB = CREATE_PUBNUB({\n    'notest'        : 1,\n    'publish_key'   : attr( pdiv, 'pub-key' ),\n    'subscribe_key' : attr( pdiv, 'sub-key' ),\n    'ssl'           : !document.location.href.indexOf('https') ||\n                      attr( pdiv, 'ssl' ) == 'on',\n    'origin'        : attr( pdiv, 'origin' ),\n    'uuid'          : attr( pdiv, 'uuid' )\n});\n\n// jQuery Interface\nwindow['jQuery'] && (window['jQuery']['PUBNUB'] = CREATE_PUBNUB);\n\n// For Modern JS + Testling.js - http://testling.com/\ntypeof(module) !== 'undefined' && (module['exports'] = PUBNUB) && ready();\n\nvar pubnubs = $('pubnubs') || 0;\n\n// LEAVE NOW IF NO PDIV.\nif (!PDIV) return;\n\n// PUBNUB Flash Socket\ncss( PDIV, { 'position' : 'absolute', 'top' : -SECOND } );\n\nif ('opera' in window || attr( PDIV, 'flash' )) PDIV['innerHTML'] =\n    '<object id=pubnubs data='  + SWF +\n    '><param name=movie value=' + SWF +\n    '><param name=allowscriptaccess value=always></object>';\n\n// Create Interface for Opera Flash\nPUBNUB['rdx'] = function( id, data ) {\n    if (!data) return FDomainRequest[id]['onerror']();\n    FDomainRequest[id]['responseText'] = unescape(data);\n    FDomainRequest[id]['onload']();\n};\n\nfunction FDomainRequest() {\n    if (!pubnubs || !pubnubs['get']) return 0;\n\n    var fdomainrequest = {\n        'id'    : FDomainRequest['id']++,\n        'send'  : function() {},\n        'abort' : function() { fdomainrequest['id'] = {} },\n        'open'  : function( method, url ) {\n            FDomainRequest[fdomainrequest['id']] = fdomainrequest;\n            pubnubs['get']( fdomainrequest['id'], url );\n        }\n    };\n\n    return fdomainrequest;\n}\nFDomainRequest['id'] = SECOND;\n\n})();\n(function(){\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET INTERFACE\n// ---------------------------------------------------------------------------\nvar WS = PUBNUB['ws'] = function( url, protocols ) {\n    if (!(this instanceof WS)) return new WS( url, protocols );\n\n    var self     = this\n    ,   url      = self.url      = url || ''\n    ,   protocol = self.protocol = protocols || 'Sec-WebSocket-Protocol'\n    ,   bits     = url.split('/')\n    ,   setup    = {\n         'ssl'           : bits[0] === 'wss:'\n        ,'origin'        : bits[2]\n        ,'publish_key'   : bits[3]\n        ,'subscribe_key' : bits[4]\n        ,'channel'       : bits[5]\n    };\n\n    // READY STATES\n    self['CONNECTING'] = 0; // The connection is not yet open.\n    self['OPEN']       = 1; // The connection is open and ready to communicate.\n    self['CLOSING']    = 2; // The connection is in the process of closing.\n    self['CLOSED']     = 3; // The connection is closed or couldn't be opened.\n\n    // CLOSE STATES\n    self['CLOSE_NORMAL']         = 1000; // Normal Intended Close; completed.\n    self['CLOSE_GOING_AWAY']     = 1001; // Closed Unexpecttedly.\n    self['CLOSE_PROTOCOL_ERROR'] = 1002; // Server: Not Supported.\n    self['CLOSE_UNSUPPORTED']    = 1003; // Server: Unsupported Protocol.\n    self['CLOSE_TOO_LARGE']      = 1004; // Server: Too Much Data.\n    self['CLOSE_NO_STATUS']      = 1005; // Server: No reason.\n    self['CLOSE_ABNORMAL']       = 1006; // Abnormal Disconnect.\n\n    // Events Default\n    self['onclose']   = self['onerror'] =\n    self['onmessage'] = self['onopen']  =\n    self['onsend']    =  function(){};\n\n    // Attributes\n    self['binaryType']     = '';\n    self['extensions']     = '';\n    self['bufferedAmount'] = 0;\n    self['trasnmitting']   = false;\n    self['buffer']         = [];\n    self['readyState']     = self['CONNECTING'];\n\n    // Close if no setup.\n    if (!url) {\n        self['readyState'] = self['CLOSED'];\n        self['onclose']({\n            'code'     : self['CLOSE_ABNORMAL'],\n            'reason'   : 'Missing URL',\n            'wasClean' : true\n        });\n        return self;\n    }\n\n    // PubNub WebSocket Emulation\n    self.pubnub       = PUBNUB['init'](setup);\n    self.pubnub.setup = setup;\n    self.setup        = setup;\n\n    self.pubnub['subscribe']({\n        'restore'    : false,\n        'channel'    : setup['channel'],\n        'disconnect' : self['onerror'],\n        'reconnect'  : self['onopen'],\n        'error'      : function() {\n            self['onclose']({\n                'code'     : self['CLOSE_ABNORMAL'],\n                'reason'   : 'Missing URL',\n                'wasClean' : false\n            });\n        },\n        'callback'   : function(message) {\n            self['onmessage']({ 'data' : message });\n        },\n        'connect'    : function() {\n            self['readyState'] = self['OPEN'];\n            self['onopen']();\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET SEND\n// ---------------------------------------------------------------------------\nWS.prototype.send = function(data) {\n    var self = this;\n    self.pubnub['publish']({\n        'channel'  : self.pubnub.setup['channel'],\n        'message'  : data,\n        'callback' : function(response) {\n            self['onsend']({ 'data' : response });\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET CLOSE\n// ---------------------------------------------------------------------------\nWS.prototype.close = function() {\n    var self = this;\n    self.pubnub['unsubscribe']({ 'channel' : self.pubnub.setup['channel'] });\n    self['readyState'] = self['CLOSED'];\n    self['onclose']({});\n};\n\n})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(h,s){var f={},g=f.lib={},q=function(){},m=g.Base={extend:function(a){q.prototype=this;var c=new q;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\nr=g.WordArray=m.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=s?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var c=this.words,d=a.words,b=this.sigBytes;a=a.sigBytes;this.clamp();if(b%4)for(var e=0;e<a;e++)c[b+e>>>2]|=(d[e>>>2]>>>24-8*(e%4)&255)<<24-8*((b+e)%4);else if(65535<d.length)for(e=0;e<a;e+=4)c[b+e>>>2]=d[e>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n32-8*(c%4);a.length=h.ceil(c/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*h.random()|0);return new r.init(c,a)}}),l=f.enc={},k=l.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++){var e=c[b>>>2]>>>24-8*(b%4)&255;d.push((e>>>4).toString(16));d.push((e&15).toString(16))}return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b+=2)d[b>>>3]|=parseInt(a.substr(b,\n2),16)<<24-4*(b%8);return new r.init(d,c/2)}},n=l.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++)d.push(String.fromCharCode(c[b>>>2]>>>24-8*(b%4)&255));return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b++)d[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return new r.init(d,c)}},j=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},\nu=g.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=j.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,b=c.sigBytes,e=this.blockSize,f=b/(4*e),f=a?h.ceil(f):h.max((f|0)-this._minBufferSize,0);a=f*e;b=h.min(4*a,b);if(a){for(var g=0;g<a;g+=e)this._doProcessBlock(d,g);g=d.splice(0,a);c.sigBytes-=b}return new r.init(g,b)},clone:function(){var a=m.clone.call(this);\na._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=u.extend({cfg:m.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new t.HMAC.init(a,\nd)).finalize(c)}}});var t=f.algo={};return f}(Math);\n\n// SHA256\n(function(h){for(var s=CryptoJS,f=s.lib,g=f.WordArray,q=f.Hasher,f=s.algo,m=[],r=[],l=function(a){return 4294967296*(a-(a|0))|0},k=2,n=0;64>n;){var j;a:{j=k;for(var u=h.sqrt(j),t=2;t<=u;t++)if(!(j%t)){j=!1;break a}j=!0}j&&(8>n&&(m[n]=l(h.pow(k,0.5))),r[n]=l(h.pow(k,1/3)),n++);k++}var a=[],f=f.SHA256=q.extend({_doReset:function(){this._hash=new g.init(m.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],g=b[2],j=b[3],h=b[4],m=b[5],n=b[6],q=b[7],p=0;64>p;p++){if(16>p)a[p]=\nc[d+p]|0;else{var k=a[p-15],l=a[p-2];a[p]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+a[p-7]+((l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10)+a[p-16]}k=q+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&m^~h&n)+r[p]+a[p];l=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&g^f&g);q=n;n=m;m=h;h=j+k|0;j=g;g=f;f=e;e=k+l|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+g|0;b[3]=b[3]+j|0;b[4]=b[4]+h|0;b[5]=b[5]+m|0;b[6]=b[6]+n|0;b[7]=b[7]+q|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;\nd[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=q.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=q._createHelper(f);s.HmacSHA256=q._createHmacHelper(f)})(Math);\n\n// HMAC SHA256\n(function(){var h=CryptoJS,s=h.enc.Utf8;h.algo.HMAC=h.lib.Base.extend({init:function(f,g){f=this._hasher=new f.init;\"string\"==typeof g&&(g=s.parse(g));var h=f.blockSize,m=4*h;g.sigBytes>m&&(g=f.finalize(g));g.clamp();for(var r=this._oKey=g.clone(),l=this._iKey=g.clone(),k=r.words,n=l.words,j=0;j<h;j++)k[j]^=1549556828,n[j]^=909522486;r.sigBytes=l.sigBytes=m;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var g=\nthis._hasher;f=g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f))}})})();\n\n// Base64\n(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+0.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join(\"\")},parse:function(d){var l=d.length,s=this._map,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<\nl;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n\n// BlockCipher\n(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},\n_doProcessBlock:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),\nf=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,\nm,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,\nE,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/\n4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this._process();b=this._hash;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});t.MD5=v._createHelper(r);t.HmacMD5=v._createHmacHelper(r)})(Math);\n(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,\nl)}})();\n\n// Cipher\nCryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this._xformMode=e;this._key=a;this.reset()},reset:function(){t.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},\nfinalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return(\"string\"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return(\"string\"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d<b;d++)e[a+d]^=\nc[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e;this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this._prevBlock=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,\ne,a,c);this._prevBlock=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,\nthis,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,\n1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},\ndecrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return\"string\"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,\nb.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this._parse(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();\n\n// AES\n(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,\n16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this._invKeySchedule=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>\n8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=\nd[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p._createHelper(d)})();\n\n// Mode ECB\nCryptoJS.mode.ECB = (function () {\n    var ECB = CryptoJS.lib.BlockCipherMode.extend();\n\n    ECB.Encryptor = ECB.extend({\n        processBlock: function (words, offset) {\n            this._cipher.encryptBlock(words, offset);\n        }\n    });\n\n    ECB.Decryptor = ECB.extend({\n        processBlock: function (words, offset) {\n            this._cipher.decryptBlock(words, offset);\n        }\n    });\n\n    return ECB;\n}());// Moved to hmac-sha-256.js\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)(module)))\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n'use strict';\n\nexports.__esModule = true;\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar Cache = (function () {\n    _createClass(Cache, null, [{\n        key: 'defaultPrefix',\n        value: 'rc-',\n        enumerable: true\n    }]);\n\n    function Cache(storage, prefix) {\n        _classCallCheck(this, Cache);\n\n        this.setPrefix(prefix);\n        this._storage = storage;\n    }\n\n    Cache.prototype.setPrefix = function setPrefix(prefix) {\n        this._prefix = prefix || Cache.defaultPrefix;\n        return this;\n    };\n\n    Cache.prototype.setItem = function setItem(key, data) {\n        this._storage[this._prefixKey(key)] = JSON.stringify(data);\n        return this;\n    };\n\n    Cache.prototype.removeItem = function removeItem(key) {\n        delete this._storage[this._prefixKey(key)];\n        return this;\n    };\n\n    Cache.prototype.getItem = function getItem(key) {\n        var item = this._storage[this._prefixKey(key)];\n        if (!item) return null;\n        return JSON.parse(item);\n    };\n\n    Cache.prototype.clean = function clean() {\n\n        for (var key in this._storage) {\n\n            if (!this._storage.hasOwnProperty(key)) continue;\n\n            if (key.indexOf(this._prefix) === 0) {\n                delete this._storage[key];\n            }\n        }\n\n        return this;\n    };\n\n    Cache.prototype._prefixKey = function _prefixKey(key) {\n        return this._prefix + key;\n    };\n\n    return Cache;\n})();\n\nexports['default'] = Cache;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar Observable = (function () {\n    function Observable() {\n        _classCallCheck(this, Observable);\n\n        this.off();\n    }\n\n    Observable.prototype.hasListeners = function hasListeners(event) {\n        return event in this._listeners;\n    };\n\n    Observable.prototype.on = function on(events, callback) {\n        var _this = this;\n\n        if (typeof events == 'string') events = [events];\n        if (!events) throw new Error('No events to subscribe to');\n        if (typeof callback !== 'function') throw new Error('Callback must be a function');\n\n        events.forEach(function (event) {\n\n            if (!_this.hasListeners(event)) _this._listeners[event] = [];\n\n            _this._listeners[event].push(callback);\n        });\n\n        return this;\n    };\n\n    Observable.prototype.emit = function emit(event) {\n        var _this2 = this;\n\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n        }\n\n        var result = null;\n\n        if (!this.hasListeners(event)) return null;\n\n        this._listeners[event].some(function (callback) {\n\n            result = callback.apply(_this2, args);\n            return result === false;\n        });\n\n        return result;\n    };\n\n    Observable.prototype.off = function off(event, callback) {\n        var _this3 = this;\n\n        if (!event) {\n\n            this._listeners = {};\n        } else {\n\n            if (!callback) {\n\n                delete this._listeners[event];\n            } else {\n\n                if (!this.hasListeners(event)) return this;\n\n                this._listeners[event].forEach(function (cb, i) {\n\n                    if (cb === callback) delete _this3._listeners[event][i];\n                });\n            }\n        }\n\n        return this;\n    };\n\n    return Observable;\n})();\n\nexports['default'] = Observable;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _coreExternals = __webpack_require__(3);\n\nvar _Utils = __webpack_require__(2);\n\nvar Queue = (function () {\n    _createClass(Queue, null, [{\n        key: '_pollInterval',\n        value: 250,\n        enumerable: true\n    }, {\n        key: '_releaseTimeout',\n        value: 5000,\n        enumerable: true\n    }]);\n\n    function Queue(cache, cacheId) {\n        _classCallCheck(this, Queue);\n\n        this._cache = cache;\n        this._cacheId = cacheId;\n        this._promise = null;\n    }\n\n    Queue.prototype.isPaused = function isPaused() {\n\n        var time = this._cache.getItem(this._cacheId);\n\n        return !!time && Date.now() - parseInt(time) < Queue._releaseTimeout;\n    };\n\n    Queue.prototype.pause = function pause() {\n        this._cache.setItem(this._cacheId, Date.now());\n        return this;\n    };\n\n    Queue.prototype.resume = function resume() {\n        this._cache.removeItem(this._cacheId);\n        return this;\n    };\n\n    Queue.prototype.poll = function poll() {\n        var _this = this;\n\n        if (this._promise) return this._promise;\n\n        this._promise = new _coreExternals.Promise(function (resolve, reject) {\n\n            _Utils.poll(function (next) {\n\n                if (_this.isPaused()) return next();\n\n                _this._promise = null;\n\n                _this.resume(); // this is actually not needed but why not\n\n                resolve(null);\n            }, Queue._pollInterval);\n        });\n\n        return this._promise;\n    };\n\n    return Queue;\n})();\n\nexports['default'] = Queue;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _coreExternals = __webpack_require__(3);\n\nvar _coreUtils = __webpack_require__(2);\n\nvar _Utils = __webpack_require__(15);\n\nvar _coreObservable = __webpack_require__(12);\n\nvar _coreObservable2 = _interopRequireDefault(_coreObservable);\n\nvar _ApiResponse = __webpack_require__(16);\n\nvar _ApiResponse2 = _interopRequireDefault(_ApiResponse);\n\nvar Client = (function (_Observable) {\n    _inherits(Client, _Observable);\n\n    function Client() {\n        _classCallCheck(this, Client);\n\n        _Observable.apply(this, arguments);\n\n        this.events = {\n            beforeRequest: 'beforeRequest',\n            requestSuccess: 'requestSuccess',\n            requestError: 'requestError'\n        };\n    }\n\n    /**\n     * @name IApiError\n     * @property {string} stack\n     * @property {string} originalMessage\n     * @property {ApiResponse} apiResponse\n     */\n\n    /**\n     * @param {Request} request\n     * @return {Promise<ApiResponse>}\n     */\n\n    Client.prototype.sendRequest = function sendRequest(request) {\n        var apiResponse;\n        return regeneratorRuntime.async(function sendRequest$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    apiResponse = new _ApiResponse2['default'](request);\n                    context$2$0.prev = 1;\n\n                    //TODO Stop request if listeners return false\n                    this.emit(this.events.beforeRequest, apiResponse);\n\n                    context$2$0.next = 5;\n                    return regeneratorRuntime.awrap(this._loadResponse(request));\n\n                case 5:\n                    apiResponse._response = context$2$0.sent;\n\n                    if (!(apiResponse._isMultipart() || apiResponse._isJson())) {\n                        context$2$0.next = 10;\n                        break;\n                    }\n\n                    context$2$0.next = 9;\n                    return regeneratorRuntime.awrap(apiResponse.response().text());\n\n                case 9:\n                    apiResponse._text = context$2$0.sent;\n\n                case 10:\n                    if (apiResponse.ok()) {\n                        context$2$0.next = 12;\n                        break;\n                    }\n\n                    throw new Error('Response has unsuccessful status');\n\n                case 12:\n\n                    this.emit(this.events.requestSuccess, apiResponse);\n\n                    return context$2$0.abrupt('return', apiResponse);\n\n                case 16:\n                    context$2$0.prev = 16;\n                    context$2$0.t0 = context$2$0['catch'](1);\n\n                    if (!context$2$0.t0.apiResponse) context$2$0.t0 = this.makeError(context$2$0.t0, apiResponse);\n\n                    this.emit(this.events.requestError, context$2$0.t0);\n\n                    throw context$2$0.t0;\n\n                case 21:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this, [[1, 16]]);\n    };\n\n    /**\n     * @param {Request} request\n     * @return {Promise<Response>}\n     * @private\n     */\n\n    Client.prototype._loadResponse = function _loadResponse(request) {\n        return regeneratorRuntime.async(function _loadResponse$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.next = 2;\n                    return regeneratorRuntime.awrap(_coreExternals.fetch.call(null, request));\n\n                case 2:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 3:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    /**\n     * Wraps the JS Error object with transaction information\n     * @param {Error|IApiError} e\n     * @param {ApiResponse} apiResponse\n     * @return {IApiError}\n     */\n\n    Client.prototype.makeError = function makeError(e, apiResponse) {\n\n        // Wrap only if regular error\n        if (!e.hasOwnProperty('apiResponse') && !e.hasOwnProperty('originalMessage')) {\n\n            e.apiResponse = apiResponse;\n            e.originalMessage = e.message;\n            e.message = apiResponse && apiResponse.error(true) || e.originalMessage;\n        }\n\n        return e;\n    };\n\n    /**\n     *\n     * @param {object} init\n     * @param {object} [init.url]\n     * @param {object} [init.body]\n     * @param {string} [init.method]\n     * @param {object} [init.query]\n     * @param {object} [init.headers]\n     * @return {Request}\n     */\n\n    Client.prototype.createRequest = function createRequest(init) {\n\n        init = init || {};\n        init.headers = init.headers || {};\n\n        // Sanity checks\n        if (!init.url) throw new Error('Url is not defined');\n        if (!init.method) init.method = 'GET';\n        if (init.method && Client._allowedMethods.indexOf(init.method) < 0) throw new Error('Method has wrong value: ' + init.method);\n\n        // Defaults\n        init.credentials = init.credentials || 'include';\n        init.mode = init.mode || 'cors';\n\n        // Append Query String\n        if (init.query) {\n            init.url = init.url + (init.url.indexOf('?') > -1 ? '&' : '?') + _coreUtils.queryStringify(init.query);\n        }\n\n        if (!_Utils.findHeaderName('Accept', init.headers)) {\n            init.headers['Accept'] = _ApiResponse2['default']._jsonContentType;\n        }\n\n        // Serialize body\n        //TODO Check that body is a plain object\n        if (typeof init.body !== 'string' || !init.body) {\n\n            var contentTypeHeaderName = _Utils.findHeaderName(_ApiResponse2['default']._contentType, init.headers);\n\n            if (!contentTypeHeaderName) {\n                contentTypeHeaderName = _ApiResponse2['default']._contentType;\n                init.headers[contentTypeHeaderName] = _ApiResponse2['default']._jsonContentType;\n            }\n\n            var contentType = init.headers[contentTypeHeaderName];\n\n            // Assign a new encoded body\n            if (contentType.indexOf(_ApiResponse2['default']._jsonContentType) > -1) {\n                init.body = JSON.stringify(init.body);\n            } else if (contentType.indexOf(_ApiResponse2['default']._urlencodedContentType) > -1) {\n                init.body = _coreUtils.queryStringify(init.body);\n            }\n        }\n\n        // Create a request with encoded body\n        var req = new _coreExternals.Request(init.url, init);\n\n        // Keep the original body accessible directly (for mocks)\n        req.originalBody = init.body;\n\n        return req;\n    };\n\n    _createClass(Client, null, [{\n        key: '_allowedMethods',\n        value: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'],\n        enumerable: true\n    }]);\n\n    return Client;\n})(_coreObservable2['default']);\n\nexports['default'] = Client;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\nexports.createResponse = createResponse;\nexports.findHeaderName = findHeaderName;\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _coreExternals = __webpack_require__(3);\n\nvar _coreUtils = __webpack_require__(2);\n\nvar utils = _interopRequireWildcard(_coreUtils);\n\n/**\n * Creates a response\n * @param stringBody\n * @param init\n * @return {Response}\n */\n\nfunction createResponse(stringBody, init) {\n\n    init = init || {};\n\n    var response = new _coreExternals.Response(stringBody, init);\n\n    //TODO Wait for https://github.com/bitinn/node-fetch/issues/38\n    if (utils.isNodeJS()) {\n\n        response._text = stringBody;\n        response._decode = function () {\n            return this._text;\n        };\n    }\n\n    return response;\n}\n\nfunction findHeaderName(name, headers) {\n    name = name.toLowerCase();\n    return Object.keys(headers).reduce(function (res, key) {\n        if (res) return res;\n        if (name == key.toLowerCase()) return key;\n        return res;\n    }, null);\n}\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _coreExternals = __webpack_require__(3);\n\nvar _Utils = __webpack_require__(15);\n\nvar utils = _interopRequireWildcard(_Utils);\n\nvar ApiResponse = (function () {\n    _createClass(ApiResponse, null, [{\n        key: '_contentType',\n        value: 'Content-Type',\n        enumerable: true\n    }, {\n        key: '_jsonContentType',\n        value: 'application/json',\n        enumerable: true\n    }, {\n        key: '_multipartContentType',\n        value: 'multipart/mixed',\n        enumerable: true\n    }, {\n        key: '_urlencodedContentType',\n        value: 'application/x-www-form-urlencoded',\n        enumerable: true\n    }, {\n        key: '_headerSeparator',\n        value: ':',\n        enumerable: true\n    }, {\n        key: '_bodySeparator',\n        value: '\\n\\n',\n        enumerable: true\n    }, {\n        key: '_boundarySeparator',\n        value: '--',\n\n        /**\n         * @param {Request} request\n         * @param {Response} response\n         * @param {string} responseText\n         */\n        enumerable: true\n    }]);\n\n    function ApiResponse(request, response, responseText) {\n        _classCallCheck(this, ApiResponse);\n\n        /** @type {Request} */\n        this._request = request;\n\n        /** @type {Response} */\n        this._response = response;\n\n        this._text = responseText;\n        this._json = null;\n        this._multipart = [];\n    }\n\n    /**\n     * @return {Response}\n     */\n\n    ApiResponse.prototype.response = function response() {\n        return this._response;\n    };\n\n    /**\n     * @return {Request}\n     */\n\n    ApiResponse.prototype.request = function request() {\n        return this._request;\n    };\n\n    /**\n     * @return {boolean}\n     */\n\n    ApiResponse.prototype.ok = function ok() {\n        return this._response && this._response.ok;\n    };\n\n    /**\n     * @return {string}\n     */\n\n    ApiResponse.prototype.text = function text() {\n        if (!this._isJson() && !this._isMultipart()) throw new Error('Response is not text');\n        return this._text;\n    };\n\n    /**\n     * @return {object}\n     */\n\n    ApiResponse.prototype.json = function json() {\n        if (!this._isJson()) throw new Error('Response is not JSON');\n        if (!this._json) {\n            this._json = this._text ? JSON.parse(this._text) : null;\n        }\n        return this._json;\n    };\n\n    /**\n     * @param [skipOKCheck]\n     * @return {string}\n     */\n\n    ApiResponse.prototype.error = function error(skipOKCheck) {\n\n        if (this.ok() && !skipOKCheck) return null;\n\n        var message = (this._response && this._response.status ? this._response.status + ' ' : '') + (this._response && this._response.statusText ? this._response.statusText : '');\n\n        try {\n\n            if (this.json().message) message = this.json().message;\n            if (this.json().error_description) message = this.json().error_description;\n            if (this.json().description) message = this.json().description;\n        } catch (e) {}\n\n        return message;\n    };\n\n    /**\n     * @return {ApiResponse[]}\n     */\n\n    ApiResponse.prototype.multipart = function multipart() {\n\n        if (!this._isMultipart()) throw new Error('Response is not multipart');\n\n        if (!this._multipart.length) {\n\n            // Step 1. Split multipart response\n\n            var text = this.text();\n\n            if (!text) throw new Error('No response body');\n\n            var boundary = this._getContentType().match(/boundary=([^;]+)/i)[1];\n\n            if (!boundary) throw new Error('Cannot find boundary');\n\n            var parts = text.toString().split(ApiResponse._boundarySeparator + boundary);\n\n            if (parts[0].trim() === '') parts.shift();\n            if (parts[parts.length - 1].trim() == ApiResponse._boundarySeparator) parts.pop();\n\n            if (parts.length < 1) throw new Error('No parts in body');\n\n            // Step 2. Parse status info\n\n            var statusInfo = ApiResponse.create(parts.shift(), this._response.status, this._response.statusText).json();\n\n            // Step 3. Parse all other parts\n\n            this._multipart = parts.map(function (part, i) {\n\n                var status = statusInfo.response[i].status;\n\n                return ApiResponse.create(part, status);\n            });\n        }\n\n        return this._multipart;\n    };\n\n    ApiResponse.prototype._isContentType = function _isContentType(contentType) {\n        return this._getContentType().indexOf(contentType) > -1;\n    };\n\n    ApiResponse.prototype._getContentType = function _getContentType() {\n        return this._response.headers.get(ApiResponse._contentType) || '';\n    };\n\n    ApiResponse.prototype._isMultipart = function _isMultipart() {\n        return this._isContentType(ApiResponse._multipartContentType);\n    };\n\n    ApiResponse.prototype._isUrlEncoded = function _isUrlEncoded() {\n        return this._isContentType(ApiResponse._urlencodedContentType);\n    };\n\n    ApiResponse.prototype._isJson = function _isJson() {\n        return this._isContentType(ApiResponse._jsonContentType);\n    };\n\n    /**\n     * Method is used to create ApiResponse object from string parts of multipart/mixed response\n     * @param {string} [text]\n     * @param {number} [status]\n     * @param {string} [statusText]\n     * @return {ApiResponse}\n     */\n\n    ApiResponse.create = function create(text, status, statusText) {\n\n        text = text || '';\n        status = status || 200;\n        statusText = statusText || 'OK';\n\n        text = text.replace(/\\r/g, '');\n\n        var headers = new _coreExternals.Headers(),\n            headersAndBody = text.split(ApiResponse._bodySeparator),\n            headersText = headersAndBody.length > 1 ? headersAndBody.shift() : '';\n\n        text = headersAndBody.join(ApiResponse._bodySeparator);\n\n        (headersText || '').split('\\n').forEach(function (header) {\n\n            var split = header.trim().split(ApiResponse._headerSeparator),\n                key = split.shift().trim(),\n                value = split.join(ApiResponse._headerSeparator).trim();\n\n            if (key) headers.append(key, value);\n        });\n\n        return new ApiResponse(null, utils.createResponse(text, {\n            headers: headers,\n            status: status,\n            statusText: statusText\n        }), text);\n    };\n\n    return ApiResponse;\n})();\n\nexports['default'] = ApiResponse;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _Registry = __webpack_require__(18);\n\nvar _Registry2 = _interopRequireDefault(_Registry);\n\nvar _httpClient = __webpack_require__(14);\n\nvar _httpClient2 = _interopRequireDefault(_httpClient);\n\nvar Client = (function (_HttpClient) {\n    _inherits(Client, _HttpClient);\n\n    function Client() {\n        _classCallCheck(this, Client);\n\n        _HttpClient.call(this);\n        this._registry = new _Registry2['default']();\n    }\n\n    Client.prototype.registry = function registry() {\n        return this._registry;\n    };\n\n    Client.prototype._loadResponse = function _loadResponse(request) {\n        var mock;\n        return regeneratorRuntime.async(function _loadResponse$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    mock = this._registry.find(request);\n                    context$2$0.next = 3;\n                    return regeneratorRuntime.awrap(mock.getResponse(request));\n\n                case 3:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 4:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    return Client;\n})(_httpClient2['default']);\n\nexports['default'] = Client;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _Mock = __webpack_require__(19);\n\nvar _Mock2 = _interopRequireDefault(_Mock);\n\nvar Registry = (function () {\n    function Registry() {\n        _classCallCheck(this, Registry);\n\n        this._mocks = [];\n    }\n\n    Registry.prototype.add = function add(mock) {\n        this._mocks.push(mock);\n        return this;\n    };\n\n    Registry.prototype.clear = function clear() {\n        this._mocks = [];\n        return this;\n    };\n\n    Registry.prototype.find = function find(request) {\n\n        //console.log('Registry is looking for', request);\n\n        var mock = this._mocks.shift();\n\n        if (!mock) throw new Error('No mock in registry for request ' + request.method + ' ' + request.url);\n\n        if (!mock.test(request)) throw new Error('Wrong request ' + request.method + ' ' + request.url + ' for expected mock ' + mock.method() + ' ' + mock.path());\n\n        return mock;\n    };\n\n    Registry.prototype.apiCall = function apiCall(method, path, response, status, statusText) {\n\n        this.add(new _Mock2['default'](method, path, response, status, statusText));\n\n        return this;\n    };\n\n    Registry.prototype.authentication = function authentication() {\n\n        this.apiCall('POST', '/restapi/oauth/token', {\n            'access_token': 'ACCESS_TOKEN',\n            'token_type': 'bearer',\n            'expires_in': 3600,\n            'refresh_token': 'REFRESH_TOKEN',\n            'refresh_token_expires_in': 60480,\n            'scope': 'SMS RCM Foo Boo',\n            'expireTime': new Date().getTime() + 3600000\n        });\n\n        return this;\n    };\n\n    Registry.prototype.logout = function logout() {\n\n        this.apiCall('POST', '/restapi/oauth/revoke', {});\n\n        return this;\n    };\n\n    Registry.prototype.presenceLoad = function presenceLoad(id) {\n\n        this.apiCall('GET', '/restapi/v1.0/account/~/extension/' + id + '/presence', {\n            \"uri\": \"https://platform.ringcentral.com/restapi/v1.0/account/123/extension/\" + id + \"/presence\",\n            \"extension\": {\n                \"uri\": \"https://platform.ringcentral.com/restapi/v1.0/account/123/extension/\" + id,\n                \"id\": id,\n                \"extensionNumber\": \"101\"\n            },\n            \"activeCalls\": [],\n            \"presenceStatus\": \"Available\",\n            \"telephonyStatus\": \"Ringing\",\n            \"userStatus\": \"Available\",\n            \"dndStatus\": \"TakeAllCalls\",\n            \"extensionId\": id\n        });\n\n        return this;\n    };\n\n    Registry.prototype.subscribeGeneric = function subscribeGeneric(expiresIn) {\n\n        expiresIn = expiresIn || 15 * 60 * 60;\n\n        var date = new Date();\n\n        this.apiCall('POST', '/restapi/v1.0/subscription', {\n            'eventFilters': ['/restapi/v1.0/account/~/extension/~/presence'],\n            'expirationTime': new Date(date.getTime() + expiresIn * 1000).toISOString(),\n            'expiresIn': expiresIn,\n            'deliveryMode': {\n                'transportType': 'PubNub',\n                'encryption': false,\n                'address': '123_foo',\n                'subscriberKey': 'sub-c-foo',\n                'secretKey': 'sec-c-bar'\n            },\n            'id': 'foo-bar-baz',\n            'creationTime': date.toISOString(),\n            'status': 'Active',\n            'uri': 'https://platform.ringcentral.com/restapi/v1.0/subscription/foo-bar-baz'\n        });\n\n        return this;\n    };\n\n    Registry.prototype.subscribeOnPresence = function subscribeOnPresence(id, detailed) {\n\n        id = id || '1';\n\n        var date = new Date();\n\n        this.apiCall('POST', '/restapi/v1.0/subscription', {\n            'eventFilters': ['/restapi/v1.0/account/~/extension/' + id + '/presence' + (detailed ? '?detailedTelephonyState=true' : '')],\n            'expirationTime': new Date(date.getTime() + 15 * 60 * 60 * 1000).toISOString(),\n            'deliveryMode': {\n                'transportType': 'PubNub',\n                'encryption': true,\n                'address': '123_foo',\n                'subscriberKey': 'sub-c-foo',\n                'secretKey': 'sec-c-bar',\n                'encryptionAlgorithm': 'AES',\n                'encryptionKey': 'VQwb6EVNcQPBhE/JgFZ2zw=='\n            },\n            'creationTime': date.toISOString(),\n            'id': 'foo-bar-baz',\n            'status': 'Active',\n            'uri': 'https://platform.ringcentral.com/restapi/v1.0/subscription/foo-bar-baz'\n        });\n\n        return this;\n    };\n\n    Registry.prototype.tokenRefresh = function tokenRefresh(failure) {\n\n        if (!failure) {\n\n            this.apiCall('POST', '/restapi/oauth/token', {\n                'access_token': 'ACCESS_TOKEN_FROM_REFRESH',\n                'token_type': 'bearer',\n                'expires_in': 3600,\n                'refresh_token': 'REFRESH_TOKEN_FROM_REFRESH',\n                'refresh_token_expires_in': 60480,\n                'scope': 'SMS RCM Foo Boo'\n            });\n        } else {\n\n            this.apiCall('POST', '/restapi/oauth/token', {\n                'message': 'Wrong token',\n                'error_description': 'Wrong token',\n                'description': 'Wrong token'\n            }, 400);\n        }\n\n        return this;\n    };\n\n    return Registry;\n})();\n\nexports['default'] = Registry;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _httpApiResponse = __webpack_require__(16);\n\nvar _httpApiResponse2 = _interopRequireDefault(_httpApiResponse);\n\nvar _coreUtils = __webpack_require__(2);\n\nvar _httpUtils = __webpack_require__(15);\n\nvar Mock = (function () {\n    function Mock(method, path, json, status, statusText, delay) {\n        _classCallCheck(this, Mock);\n\n        this._method = method.toUpperCase();\n        this._path = path;\n        this._json = json || {};\n        this._delay = delay || 10;\n        this._status = status || 200;\n        this._statusText = statusText || 'OK';\n    }\n\n    Mock.prototype.path = function path() {\n        return this._path;\n    };\n\n    Mock.prototype.method = function method() {\n        return this._method;\n    };\n\n    Mock.prototype.test = function test(request) {\n\n        return request.url.indexOf(this._path) > -1 && request.method.toUpperCase() == this._method;\n    };\n\n    Mock.prototype.getResponse = function getResponse(request) {\n        return regeneratorRuntime.async(function getResponse$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.next = 2;\n                    return regeneratorRuntime.awrap(_coreUtils.delay(this._delay));\n\n                case 2:\n                    return context$2$0.abrupt('return', this.createResponse(this._json));\n\n                case 3:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    Mock.prototype.createResponse = function createResponse(json, init) {\n\n        init = init || {};\n\n        init.status = init.status || this._status;\n        init.statusText = init.statusText || this._statusText;\n\n        var str = JSON.stringify(json),\n            res = _httpUtils.createResponse(str, init);\n\n        res.headers.set(_httpApiResponse2['default']._contentType, _httpApiResponse2['default']._jsonContentType);\n\n        return res;\n    };\n\n    return Mock;\n})();\n\nexports['default'] = Mock;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _coreObservable = __webpack_require__(12);\n\nvar _coreObservable2 = _interopRequireDefault(_coreObservable);\n\nvar _coreQueue = __webpack_require__(13);\n\nvar _coreQueue2 = _interopRequireDefault(_coreQueue);\n\nvar _Auth = __webpack_require__(21);\n\nvar _Auth2 = _interopRequireDefault(_Auth);\n\nvar _coreExternals = __webpack_require__(3);\n\nvar _coreUtils = __webpack_require__(2);\n\nvar Platform = (function (_Observable) {\n    _inherits(Platform, _Observable);\n\n    _createClass(Platform, null, [{\n        key: '_urlPrefix',\n        value: '/restapi',\n        enumerable: true\n    }, {\n        key: '_apiVersion',\n        value: 'v1.0',\n        enumerable: true\n    }, {\n        key: '_accessTokenTtl',\n        value: null,\n        // Platform server by default sets it to 60 * 60 = 1 hour\n        enumerable: true\n    }, {\n        key: '_refreshTokenTtl',\n        value: 10 * 60 * 60,\n        // 10 hours\n        enumerable: true\n    }, {\n        key: '_refreshTokenTtlRemember',\n        value: 7 * 24 * 60 * 60,\n        // 1 week\n        enumerable: true\n    }, {\n        key: '_tokenEndpoint',\n        value: '/restapi/oauth/token',\n        enumerable: true\n    }, {\n        key: '_revokeEndpoint',\n        value: '/restapi/oauth/revoke',\n        enumerable: true\n    }, {\n        key: '_authorizeEndpoint',\n        value: '/restapi/oauth/authorize',\n        enumerable: true\n    }, {\n        key: '_refreshDelayMs',\n        value: 100,\n        enumerable: true\n    }, {\n        key: '_cacheId',\n        value: 'platform',\n        enumerable: true\n    }, {\n        key: '_clearCacheOnRefreshError',\n        value: true,\n        enumerable: true\n    }]);\n\n    function Platform(client, cache, server, appKey, appSecret) {\n        _classCallCheck(this, Platform);\n\n        _Observable.call(this);\n\n        this.events = {\n            beforeLogin: 'beforeLogin',\n            loginSuccess: 'loginSuccess',\n            loginError: 'loginError',\n            beforeRefresh: 'beforeRefresh',\n            refreshSuccess: 'refreshSuccess',\n            refreshError: 'refreshError',\n            beforeLogout: 'beforeLogout',\n            logoutSuccess: 'logoutSuccess',\n            logoutError: 'logoutError'\n        };\n        this._server = server;\n        this._appKey = appKey;\n        this._appSecret = appSecret;\n\n        /** @type {Cache} */\n        this._cache = cache;\n\n        /** @type {Client} */\n        this._client = client;\n\n        this._queue = new _coreQueue2['default'](this._cache, Platform._cacheId + '-refresh');\n\n        this._auth = new _Auth2['default'](this._cache, Platform._cacheId);\n    }\n\n    /**\n     * @return {Auth}\n     */\n\n    Platform.prototype.auth = function auth() {\n        return this._auth;\n    };\n\n    /**\n     * @return {Client}\n     */\n\n    Platform.prototype.client = function client() {\n        return this._client;\n    };\n\n    /**\n     * @param {string} path\n     * @param {object} [options]\n     * @param {boolean} [options.addServer]\n     * @param {string} [options.addMethod]\n     * @param {boolean} [options.addToken]\n     * @return {string}\n     */\n\n    Platform.prototype.createUrl = function createUrl(path, options) {\n\n        path = path || '';\n        options = options || {};\n\n        var builtUrl = '',\n            hasHttp = path.indexOf('http://') != -1 || path.indexOf('https://') != -1;\n\n        if (options.addServer && !hasHttp) builtUrl += this._server;\n\n        if (path.indexOf(Platform._urlPrefix) == -1 && !hasHttp) builtUrl += Platform._urlPrefix + '/' + Platform._apiVersion;\n\n        builtUrl += path;\n\n        if (options.addMethod || options.addToken) builtUrl += path.indexOf('?') > -1 ? '&' : '?';\n\n        if (options.addMethod) builtUrl += '_method=' + options.addMethod;\n        if (options.addToken) builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this._auth.accessToken();\n\n        return builtUrl;\n    };\n\n    /**\n     * @param {string} options.redirectUri\n     * @param {string} options.state\n     * @param {string} options.brandId\n     * @param {string} options.display\n     * @param {string} options.prompt\n     * @return {string}\n     */\n\n    Platform.prototype.authUrl = function authUrl(options) {\n\n        options = options || {};\n\n        return this.createUrl(Platform._authorizeEndpoint + '?' + _coreUtils.queryStringify({\n            'response_type': 'code',\n            'redirect_uri': options.redirectUri || '',\n            'client_id': this._appKey,\n            'state': options.state || '',\n            'brand_id': options.brandId || '',\n            'display': options.display || '',\n            'prompt': options.prompt || ''\n        }), { addServer: true });\n    };\n\n    /**\n     * @param {string} url\n     * @return {Object}\n     */\n\n    Platform.prototype.parseAuthRedirectUrl = function parseAuthRedirectUrl(url) {\n\n        var qs = _coreUtils.parseQueryString(url.split('?').reverse()[0]),\n            error = qs.error_description || qs.error;\n\n        if (error) {\n            var e = new Error(error);\n            e.error = qs.error;\n            throw e;\n        }\n\n        return qs;\n    };\n\n    /**\n     * @return {Promise<boolean>}\n     */\n\n    Platform.prototype.loggedIn = function loggedIn() {\n        return regeneratorRuntime.async(function loggedIn$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.prev = 0;\n                    context$2$0.next = 3;\n                    return regeneratorRuntime.awrap(this._ensureAuthentication());\n\n                case 3:\n                    return context$2$0.abrupt('return', true);\n\n                case 6:\n                    context$2$0.prev = 6;\n                    context$2$0.t0 = context$2$0['catch'](0);\n                    return context$2$0.abrupt('return', false);\n\n                case 9:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this, [[0, 6]]);\n    };\n\n    /**\n     * @param {string} options.username\n     * @param {string} options.password\n     * @param {string} options.extension\n     * @param {string} options.code\n     * @param {string} options.redirectUri\n     * @param {string} options.endpointId\n     * @returns {Promise<ApiResponse>}\n     */\n\n    Platform.prototype.login = function login(options) {\n        var body, apiResponse, json;\n        return regeneratorRuntime.async(function login$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.prev = 0;\n\n                    options = options || {};\n\n                    options.remember = options.remember || false;\n\n                    this.emit(this.events.beforeLogin);\n\n                    body = {\n                        \"access_token_ttl\": Platform._accessTokenTtl,\n                        \"refresh_token_ttl\": options.remember ? Platform._refreshTokenTtlRemember : Platform._refreshTokenTtl\n                    };\n\n                    if (!options.code) {\n\n                        body.grant_type = 'password';\n                        body.username = options.username;\n                        body.password = options.password;\n                        body.extension = options.extension || '';\n                    } else if (options.code) {\n\n                        body.grant_type = 'authorization_code';\n                        body.code = options.code;\n                        body.redirect_uri = options.redirectUri;\n                        //body.client_id = this.getCredentials().key; // not needed\n                    }\n\n                    if (options.endpointId) body.endpoint_id = options.endpointId;\n\n                    context$2$0.next = 9;\n                    return regeneratorRuntime.awrap(this._tokenRequest(Platform._tokenEndpoint, body));\n\n                case 9:\n                    apiResponse = context$2$0.sent;\n                    json = apiResponse.json();\n\n                    this._auth.setData(json).setRemember(options.remember);\n\n                    this.emit(this.events.loginSuccess, apiResponse);\n\n                    return context$2$0.abrupt('return', apiResponse);\n\n                case 16:\n                    context$2$0.prev = 16;\n                    context$2$0.t0 = context$2$0['catch'](0);\n\n                    this._cache.clean();\n\n                    this.emit(this.events.loginError, context$2$0.t0);\n\n                    throw context$2$0.t0;\n\n                case 21:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this, [[0, 16]]);\n    };\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n\n    Platform.prototype.refresh = function refresh() {\n        var res, json;\n        return regeneratorRuntime.async(function refresh$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.prev = 0;\n\n                    this.emit(this.events.beforeRefresh);\n\n                    if (!this._queue.isPaused()) {\n                        context$2$0.next = 9;\n                        break;\n                    }\n\n                    context$2$0.next = 5;\n                    return regeneratorRuntime.awrap(this._queue.poll());\n\n                case 5:\n                    if (this._isAccessTokenValid()) {\n                        context$2$0.next = 7;\n                        break;\n                    }\n\n                    throw new Error('Automatic authentification timeout');\n\n                case 7:\n\n                    this.emit(this.events.refreshSuccess, null);\n\n                    return context$2$0.abrupt('return', null);\n\n                case 9:\n\n                    this._queue.pause();\n\n                    // Make sure all existing AJAX calls had a chance to reach the server\n                    context$2$0.next = 12;\n                    return regeneratorRuntime.awrap(_coreUtils.delay(Platform._refreshDelayMs));\n\n                case 12:\n                    if (this._auth.refreshToken()) {\n                        context$2$0.next = 14;\n                        break;\n                    }\n\n                    throw new Error('Refresh token is missing');\n\n                case 14:\n                    if (this._auth.refreshTokenValid()) {\n                        context$2$0.next = 16;\n                        break;\n                    }\n\n                    throw new Error('Refresh token has expired');\n\n                case 16:\n                    if (this._queue.isPaused()) {\n                        context$2$0.next = 18;\n                        break;\n                    }\n\n                    throw new Error('Queue was resumed before refresh call');\n\n                case 18:\n                    context$2$0.next = 20;\n                    return regeneratorRuntime.awrap(this._tokenRequest(Platform._tokenEndpoint, {\n                        \"grant_type\": \"refresh_token\",\n                        \"refresh_token\": this._auth.refreshToken(),\n                        \"access_token_ttl\": Platform._accessTokenTtl,\n                        \"refresh_token_ttl\": this._auth.remember() ? Platform._refreshTokenTtlRemember : Platform._refreshTokenTtl\n                    }));\n\n                case 20:\n                    res = context$2$0.sent;\n                    json = res.json();\n\n                    if (json.access_token) {\n                        context$2$0.next = 24;\n                        break;\n                    }\n\n                    throw this._client.makeError(new Error('Malformed OAuth response'), res);\n\n                case 24:\n\n                    this._auth.setData(json);\n                    this._queue.resume();\n\n                    this.emit(this.events.refreshSuccess, res);\n\n                    return context$2$0.abrupt('return', res);\n\n                case 30:\n                    context$2$0.prev = 30;\n                    context$2$0.t0 = context$2$0['catch'](0);\n\n                    context$2$0.t0 = this._client.makeError(context$2$0.t0);\n\n                    if (Platform._clearCacheOnRefreshError) {\n                        this._cache.clean();\n                    }\n\n                    this.emit(this.events.refreshError, context$2$0.t0);\n\n                    throw context$2$0.t0;\n\n                case 36:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this, [[0, 30]]);\n    };\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n\n    Platform.prototype.logout = function logout() {\n        var res;\n        return regeneratorRuntime.async(function logout$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.prev = 0;\n\n                    this.emit(this.events.beforeLogout);\n\n                    this._queue.pause();\n\n                    context$2$0.next = 5;\n                    return regeneratorRuntime.awrap(this._tokenRequest(Platform._revokeEndpoint, {\n                        token: this._auth.accessToken()\n                    }));\n\n                case 5:\n                    res = context$2$0.sent;\n\n                    this._queue.resume();\n                    this._cache.clean();\n\n                    this.emit(this.events.logoutSuccess, res);\n\n                    return context$2$0.abrupt('return', res);\n\n                case 12:\n                    context$2$0.prev = 12;\n                    context$2$0.t0 = context$2$0['catch'](0);\n\n                    this._queue.resume();\n\n                    this.emit(this.events.logoutError, context$2$0.t0);\n\n                    throw context$2$0.t0;\n\n                case 17:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this, [[0, 12]]);\n    };\n\n    /**\n     * @param {Request} request\n     * @param {object} [options]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<Request>}\n     */\n\n    Platform.prototype.inflateRequest = function inflateRequest(request, options) {\n        return regeneratorRuntime.async(function inflateRequest$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n\n                    options = options || {};\n\n                    if (!options.skipAuthCheck) {\n                        context$2$0.next = 3;\n                        break;\n                    }\n\n                    return context$2$0.abrupt('return', request);\n\n                case 3:\n                    context$2$0.next = 5;\n                    return regeneratorRuntime.awrap(this._ensureAuthentication());\n\n                case 5:\n\n                    request.headers.set('Authorization', this._authHeader());\n                    //request.url = this.createUrl(request.url, {addServer: true}); //FIXME Spec prevents this...\n\n                    //TODO Add User-Agent here\n\n                    return context$2$0.abrupt('return', request);\n\n                case 7:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    /**\n     * @param {Request} request\n     * @param {object} [options]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n\n    Platform.prototype.sendRequest = function sendRequest(request, options) {\n        return regeneratorRuntime.async(function sendRequest$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.prev = 0;\n                    context$2$0.next = 3;\n                    return regeneratorRuntime.awrap(this.inflateRequest(request, options));\n\n                case 3:\n                    request = context$2$0.sent;\n                    context$2$0.next = 6;\n                    return regeneratorRuntime.awrap(this._client.sendRequest(request));\n\n                case 6:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 9:\n                    context$2$0.prev = 9;\n                    context$2$0.t0 = context$2$0['catch'](0);\n\n                    if (!(!context$2$0.t0.apiResponse || !context$2$0.t0.apiResponse.response() || context$2$0.t0.apiResponse.response().status != 401)) {\n                        context$2$0.next = 13;\n                        break;\n                    }\n\n                    throw context$2$0.t0;\n\n                case 13:\n\n                    this._auth.cancelAccessToken();\n\n                    context$2$0.next = 16;\n                    return regeneratorRuntime.awrap(this.sendRequest(request, options));\n\n                case 16:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 17:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this, [[0, 9]]);\n    };\n\n    /**\n     * General purpose function to send anything to server\n     * @param {string} options.url\n     * @param {object} [options.body]\n     * @param {string} [options.method]\n     * @param {object} [options.query]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n\n    Platform.prototype.send = function send() {\n        var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n        return regeneratorRuntime.async(function send$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n\n                    //FIXME https://github.com/bitinn/node-fetch/issues/43\n                    options.url = this.createUrl(options.url, { addServer: true });\n\n                    context$2$0.next = 3;\n                    return regeneratorRuntime.awrap(this.sendRequest(this._client.createRequest(options), options));\n\n                case 3:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 4:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    /**\n     * @param {string} url\n     * @param {object} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n\n    Platform.prototype.get = function get(url, query, options) {\n        return regeneratorRuntime.async(function get$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    options = options || {};\n                    options.method = 'GET';\n                    options.url = url;\n                    options.query = query;\n                    context$2$0.next = 6;\n                    return regeneratorRuntime.awrap(this.send(options));\n\n                case 6:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 7:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    /**\n     * @param {string} url\n     * @param {object} body\n     * @param {object} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n\n    Platform.prototype.post = function post(url, body, query, options) {\n        return regeneratorRuntime.async(function post$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    options = options || {};\n                    options.method = 'POST';\n                    options.url = url;\n                    options.query = query;\n                    options.body = body;\n                    context$2$0.next = 7;\n                    return regeneratorRuntime.awrap(this.send(options));\n\n                case 7:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 8:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    /**\n     * @param {string} url\n     * @param {object} [body]\n     * @param {object} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n\n    Platform.prototype.put = function put(url, body, query, options) {\n        return regeneratorRuntime.async(function put$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    options = options || {};\n                    options.method = 'PUT';\n                    options.url = url;\n                    options.query = query;\n                    options.body = body;\n                    context$2$0.next = 7;\n                    return regeneratorRuntime.awrap(this.send(options));\n\n                case 7:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 8:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    /**\n     * @param {string} url\n     * @param {string} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n\n    Platform.prototype['delete'] = function _delete(url, query, options) {\n        return regeneratorRuntime.async(function _delete$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    options = options || {};\n                    options.method = 'DELETE';\n                    options.url = url;\n                    options.query = query;\n                    context$2$0.next = 6;\n                    return regeneratorRuntime.awrap(this.send(options));\n\n                case 6:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 7:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    Platform.prototype._tokenRequest = function _tokenRequest(path, body) {\n        return regeneratorRuntime.async(function _tokenRequest$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.next = 2;\n                    return regeneratorRuntime.awrap(this.send({\n                        url: path,\n                        skipAuthCheck: true,\n                        body: body,\n                        method: 'POST',\n                        headers: {\n                            'Authorization': 'Basic ' + this._apiKey(),\n                            'Content-Type': 'application/x-www-form-urlencoded'\n                        }\n                    }));\n\n                case 2:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 3:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    Platform.prototype._ensureAuthentication = function _ensureAuthentication() {\n        return regeneratorRuntime.async(function _ensureAuthentication$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    if (!this._isAccessTokenValid()) {\n                        context$2$0.next = 2;\n                        break;\n                    }\n\n                    return context$2$0.abrupt('return', null);\n\n                case 2:\n                    context$2$0.next = 4;\n                    return regeneratorRuntime.awrap(this.refresh());\n\n                case 4:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 5:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    Platform.prototype._isAccessTokenValid = function _isAccessTokenValid() {\n\n        return this._auth.accessTokenValid() && !this._queue.isPaused();\n    };\n\n    Platform.prototype._apiKey = function _apiKey() {\n        var apiKey = this._appKey + ':' + this._appSecret;\n        return typeof btoa == 'function' ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n    };\n\n    Platform.prototype._authHeader = function _authHeader() {\n        var token = this._auth.accessToken();\n        return this._auth.tokenType() + (token ? ' ' + token : '');\n    };\n\n    return Platform;\n})(_coreObservable2['default']);\n\nexports['default'] = Platform;\nmodule.exports = exports['default'];\n\n// Perform sanity checks\n\n/** @type {ApiResponse} */\n\n// Guard is for errors that come from polling\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n'use strict';\n\nexports.__esModule = true;\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar Auth = (function () {\n    _createClass(Auth, null, [{\n        key: 'refreshHandicapMs',\n        value: 60 * 1000,\n        // 1 minute\n        enumerable: true\n    }, {\n        key: 'forcedTokenType',\n        value: 'forced',\n        enumerable: true\n    }]);\n\n    function Auth(cache, cacheId) {\n        _classCallCheck(this, Auth);\n\n        /** @type {Cache} */\n        this._cache = cache;\n        this._cacheId = cacheId;\n    }\n\n    //export interface IAuthData {\n    //    remember?:boolean;\n    //    token_type?:string;\n    //    access_token?:string;\n    //    expires_in?:number; // actually it's string\n    //    expire_time?:number;\n    //    refresh_token?:string;\n    //    refresh_token_expires_in?:number; // actually it's string\n    //    refresh_token_expire_time?:number;\n    //    scope?:string;\n    //}\n\n    Auth.prototype.accessToken = function accessToken() {\n        return this.data().access_token;\n    };\n\n    Auth.prototype.refreshToken = function refreshToken() {\n        return this.data().refresh_token;\n    };\n\n    Auth.prototype.tokenType = function tokenType() {\n        return this.data().token_type;\n    };\n\n    /**\n     * @return {{token_type: string, access_token: string, expires_in: number, refresh_token: string, refresh_token_expires_in: number}}\n     */\n\n    Auth.prototype.data = function data() {\n\n        return this._cache.getItem(this._cacheId) || {\n            token_type: '',\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        };\n    };\n\n    /**\n     * @param {object} newData\n     * @return {Auth}\n     */\n\n    Auth.prototype.setData = function setData(newData) {\n\n        newData = newData || {};\n\n        var data = this.data();\n\n        Object.keys(newData).forEach(function (key) {\n            data[key] = newData[key];\n        });\n\n        data.expire_time = Date.now() + data.expires_in * 1000;\n        data.refresh_token_expire_time = Date.now() + data.refresh_token_expires_in * 1000;\n\n        this._cache.setItem(this._cacheId, data);\n\n        return this;\n    };\n\n    /**\n     * Check if there is a valid (not expired) access token\n     * @return {boolean}\n     */\n\n    Auth.prototype.accessTokenValid = function accessTokenValid() {\n\n        var authData = this.data();\n        return authData.token_type === Auth.forcedTokenType || authData.expire_time - Auth.refreshHandicapMs > Date.now();\n    };\n\n    /**\n     * Check if there is a valid (not expired) access token\n     * @return {boolean}\n     */\n\n    Auth.prototype.refreshTokenValid = function refreshTokenValid() {\n\n        return this.data().refresh_token_expire_time > Date.now();\n    };\n\n    /**\n     * @return {Auth}\n     */\n\n    Auth.prototype.cancelAccessToken = function cancelAccessToken() {\n\n        return this.setData({\n            access_token: '',\n            expires_in: 0\n        });\n    };\n\n    /**\n     * This method sets a special authentication mode used in Service Web\n     * @return {Auth}\n     */\n\n    Auth.prototype.forceAuthentication = function forceAuthentication() {\n\n        this.setData({\n            token_type: Auth.forcedTokenType,\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        });\n\n        return this;\n    };\n\n    /**\n     * @param remember\n     * @return {Auth}\n     */\n\n    Auth.prototype.setRemember = function setRemember(remember) {\n\n        return this.setData({ remember: remember });\n    };\n\n    /**\n     * @return {boolean}\n     */\n\n    Auth.prototype.remember = function remember() {\n\n        return !!this.data().remember;\n    };\n\n    return Auth;\n})();\n\nexports['default'] = Auth;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _PubnubMockJs = __webpack_require__(23);\n\nvar _PubnubMockJs2 = _interopRequireDefault(_PubnubMockJs);\n\nvar _coreExternals = __webpack_require__(3);\n\nvar PubnubMockFactory = (function () {\n    function PubnubMockFactory() {\n        _classCallCheck(this, PubnubMockFactory);\n\n        this.crypto_obj = _coreExternals.PUBNUB.crypto_obj;\n    }\n\n    PubnubMockFactory.prototype.init = function init(options) {\n        return new _PubnubMockJs2['default'](options);\n    };\n\n    return PubnubMockFactory;\n})();\n\nexports['default'] = PubnubMockFactory;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _coreObservable = __webpack_require__(12);\n\nvar _coreObservable2 = _interopRequireDefault(_coreObservable);\n\nvar _coreExternals = __webpack_require__(3);\n\nvar PubnubMock = (function (_Observable) {\n    _inherits(PubnubMock, _Observable);\n\n    function PubnubMock(options) {\n        _classCallCheck(this, PubnubMock);\n\n        _Observable.call(this);\n        this.options = options;\n        this.crypto_obj = _coreExternals.PUBNUB.crypto_obj;\n    }\n\n    PubnubMock.prototype.ready = function ready() {};\n\n    PubnubMock.prototype.subscribe = function subscribe(options) {\n        this.on('message-' + options.channel, options.message);\n    };\n\n    PubnubMock.prototype.unsubscribe = function unsubscribe(options) {\n        this.off('message-' + options.channel);\n    };\n\n    PubnubMock.prototype.receiveMessage = function receiveMessage(msg, channel) {\n        this.emit('message-' + channel, msg, 'env', channel);\n    };\n\n    return PubnubMock;\n})(_coreObservable2['default']);\n\nexports['default'] = PubnubMock;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _coreObservable = __webpack_require__(12);\n\nvar _coreObservable2 = _interopRequireDefault(_coreObservable);\n\nvar _httpClient = __webpack_require__(14);\n\nvar _httpClient2 = _interopRequireDefault(_httpClient);\n\nvar _coreUtils = __webpack_require__(2);\n\nvar Subscription = (function (_Observable) {\n    _inherits(Subscription, _Observable);\n\n    _createClass(Subscription, null, [{\n        key: '_renewHandicapMs',\n        value: 2 * 60 * 1000,\n        enumerable: true\n    }, {\n        key: '_pollInterval',\n        value: 10 * 1000,\n        enumerable: true\n    }]);\n\n    function Subscription(pubnubFactory, platform) {\n        _classCallCheck(this, Subscription);\n\n        _Observable.call(this);\n\n        this.events = {\n            notification: 'notification',\n            removeSuccess: 'removeSuccess',\n            removeError: 'removeError',\n            renewSuccess: 'renewSuccess',\n            renewError: 'renewError',\n            subscribeSuccess: 'subscribeSuccess',\n            subscribeError: 'subscribeError'\n        };\n        this._pubnubFactory = pubnubFactory;\n        this._platform = platform;\n        this._pubnub = null;\n        this._timeout = null;\n        this._subscription = {};\n    }\n\n    //export interface ISubscription {\n    //    id?:string;\n    //    uri?: string;\n    //    eventFilters?:string[];\n    //    expirationTime?:string; // 2014-03-12T19:54:35.613Z\n    //    expiresIn?:number;\n    //    deliveryMode?: {\n    //        transportType?:string;\n    //        encryption?:boolean;\n    //        address?:string;\n    //        subscriberKey?:string;\n    //        encryptionKey?:string;\n    //        secretKey?:string;\n    //    };\n    //    creationTime?:string; // 2014-03-12T19:54:35.613Z\n    //    status?:string; // Active\n    //}\n\n    Subscription.prototype.subscribed = function subscribed() {\n\n        return !!(this._subscription.id && this._subscription.deliveryMode && this._subscription.deliveryMode.subscriberKey && this._subscription.deliveryMode.address);\n    };\n\n    /**\n     * @return {boolean}\n     */\n\n    Subscription.prototype.alive = function alive() {\n\n        return this.subscribed() && Date.now() < this.expirationTime();\n    };\n\n    Subscription.prototype.expirationTime = function expirationTime() {\n        return new Date(this._subscription.expirationTime || 0).getTime() - Subscription._renewHandicapMs;\n    };\n\n    Subscription.prototype.setSubscription = function setSubscription(subscription) {\n\n        subscription = subscription || {};\n\n        this._clearTimeout();\n\n        this._subscription = subscription;\n\n        if (!this._pubnub) this._subscribeAtPubnub();\n\n        this._setTimeout();\n\n        return this;\n    };\n\n    Subscription.prototype.subscription = function subscription() {\n        return this._subscription;\n    };\n\n    /**\n     * Creates or updates subscription if there is an active one\n     * @returns {Promise<ApiResponse>}\n     */\n\n    Subscription.prototype.register = function register() {\n        return regeneratorRuntime.async(function register$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    if (!this.alive()) {\n                        context$2$0.next = 6;\n                        break;\n                    }\n\n                    context$2$0.next = 3;\n                    return regeneratorRuntime.awrap(this.renew());\n\n                case 3:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 6:\n                    context$2$0.next = 8;\n                    return regeneratorRuntime.awrap(this.subscribe());\n\n                case 8:\n                    return context$2$0.abrupt('return', context$2$0.sent);\n\n                case 9:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this);\n    };\n\n    Subscription.prototype.eventFilters = function eventFilters() {\n        return this._subscription.eventFilters || [];\n    };\n\n    /**\n     * @param {string[]} events\n     * @return {Subscription}\n     */\n\n    Subscription.prototype.addEventFilters = function addEventFilters(events) {\n        this.setEventFilters(this.eventFilters().concat(events));\n        return this;\n    };\n\n    /**\n     * @param {string[]} events\n     * @return {Subscription}\n     */\n\n    Subscription.prototype.setEventFilters = function setEventFilters(events) {\n        this._subscription.eventFilters = events;\n        return this;\n    };\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n\n    Subscription.prototype.subscribe = function subscribe() {\n        var response, json;\n        return regeneratorRuntime.async(function subscribe$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.prev = 0;\n\n                    this._clearTimeout();\n\n                    if (this.eventFilters().length) {\n                        context$2$0.next = 4;\n                        break;\n                    }\n\n                    throw new Error('Events are undefined');\n\n                case 4:\n                    context$2$0.next = 6;\n                    return regeneratorRuntime.awrap(this._platform.post('/restapi/v1.0/subscription', {\n                        eventFilters: this._getFullEventFilters(),\n                        deliveryMode: {\n                            transportType: 'PubNub'\n                        }\n                    }));\n\n                case 6:\n                    response = context$2$0.sent;\n                    json = response.json();\n\n                    this.setSubscription(json).emit(this.events.subscribeSuccess, response);\n\n                    return context$2$0.abrupt('return', response);\n\n                case 12:\n                    context$2$0.prev = 12;\n                    context$2$0.t0 = context$2$0['catch'](0);\n\n                    context$2$0.t0 = this._platform.client().makeError(context$2$0.t0);\n\n                    this.reset().emit(this.events.subscribeError, context$2$0.t0);\n\n                    throw context$2$0.t0;\n\n                case 17:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this, [[0, 12]]);\n    };\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n\n    Subscription.prototype.renew = function renew() {\n        var response, json;\n        return regeneratorRuntime.async(function renew$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.prev = 0;\n\n                    this._clearTimeout();\n\n                    if (this.alive()) {\n                        context$2$0.next = 4;\n                        break;\n                    }\n\n                    throw new Error('Subscription is not alive');\n\n                case 4:\n                    if (this.eventFilters().length) {\n                        context$2$0.next = 6;\n                        break;\n                    }\n\n                    throw new Error('Events are undefined');\n\n                case 6:\n                    context$2$0.next = 8;\n                    return regeneratorRuntime.awrap(this._platform.put('/restapi/v1.0/subscription/' + this._subscription.id, {\n                        eventFilters: this._getFullEventFilters()\n                    }));\n\n                case 8:\n                    response = context$2$0.sent;\n                    json = response.json();\n\n                    this.setSubscription(json).emit(this.events.renewSuccess, response);\n\n                    return context$2$0.abrupt('return', response);\n\n                case 14:\n                    context$2$0.prev = 14;\n                    context$2$0.t0 = context$2$0['catch'](0);\n\n                    context$2$0.t0 = this._platform.client().makeError(context$2$0.t0);\n\n                    this.reset().emit(this.events.renewError, context$2$0.t0);\n\n                    throw context$2$0.t0;\n\n                case 19:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this, [[0, 14]]);\n    };\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n\n    Subscription.prototype.remove = function remove() {\n        var response;\n        return regeneratorRuntime.async(function remove$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.prev = 0;\n\n                    if (this.subscribed()) {\n                        context$2$0.next = 3;\n                        break;\n                    }\n\n                    throw new Error('No subscription');\n\n                case 3:\n                    context$2$0.next = 5;\n                    return regeneratorRuntime.awrap(this._platform['delete']('/restapi/v1.0/subscription/' + this._subscription.id));\n\n                case 5:\n                    response = context$2$0.sent;\n\n                    this.reset().emit(this.events.removeSuccess, response);\n\n                    return context$2$0.abrupt('return', response);\n\n                case 10:\n                    context$2$0.prev = 10;\n                    context$2$0.t0 = context$2$0['catch'](0);\n\n                    context$2$0.t0 = this._platform.client().makeError(context$2$0.t0);\n\n                    this.emit(this.events.removeError, context$2$0.t0);\n\n                    throw context$2$0.t0;\n\n                case 15:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this, [[0, 10]]);\n    };\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n\n    Subscription.prototype.resubscribe = function resubscribe() {\n\n        return this.reset().setEventFilters(this.eventFilters()).subscribe();\n    };\n\n    /**\n     * Remove subscription and disconnect from PUBNUB\n     * This method resets subscription at client side but backend is not notified\n     */\n\n    Subscription.prototype.reset = function reset() {\n        this._clearTimeout();\n        if (this.subscribed() && this._pubnub) this._pubnub.unsubscribe({ channel: this._subscription.deliveryMode.address });\n        this._subscription = {};\n        return this;\n    };\n\n    Subscription.prototype._getFullEventFilters = function _getFullEventFilters() {\n        var _this = this;\n\n        return this.eventFilters().map(function (event) {\n            return _this._platform.createUrl(event);\n        });\n    };\n\n    Subscription.prototype._setTimeout = function _setTimeout() {\n        var _this2 = this;\n\n        this._clearTimeout();\n\n        if (!this.alive()) throw new Error('Subscription is not alive');\n\n        _coreUtils.poll(function (next) {\n\n            if (_this2.alive()) return next();\n\n            _this2.renew();\n        }, Subscription._pollInterval, this._timeout);\n\n        return this;\n    };\n\n    Subscription.prototype._clearTimeout = function _clearTimeout() {\n\n        _coreUtils.stopPolling(this._timeout);\n\n        return this;\n    };\n\n    Subscription.prototype._decrypt = function _decrypt(message) {\n\n        if (!this.subscribed()) throw new Error('No subscription');\n\n        if (this._subscription.deliveryMode.encryptionKey) {\n\n            var PUBNUB = this._pubnubFactory;\n\n            message = PUBNUB.crypto_obj.decrypt(message, this._subscription.deliveryMode.encryptionKey, {\n                encryptKey: false,\n                keyEncoding: 'base64',\n                keyLength: 128,\n                mode: 'ecb'\n            });\n        }\n\n        return message;\n    };\n\n    Subscription.prototype._notify = function _notify(message) {\n\n        this.emit(this.events.notification, this._decrypt(message));\n\n        return this;\n    };\n\n    Subscription.prototype._subscribeAtPubnub = function _subscribeAtPubnub() {\n\n        if (!this.alive()) throw new Error('Subscription is not alive');\n\n        var PUBNUB = this._pubnubFactory;\n\n        this._pubnub = PUBNUB.init({\n            ssl: true,\n            subscribe_key: this._subscription.deliveryMode.subscriberKey\n        });\n\n        this._pubnub.ready();\n\n        this._pubnub.subscribe({\n            channel: this._subscription.deliveryMode.address,\n            message: this._notify.bind(this),\n            connect: function connect() {}\n        });\n\n        return this;\n    };\n\n    return Subscription;\n})(_coreObservable2['default']);\n\nexports['default'] = Subscription;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _Subscription2 = __webpack_require__(24);\n\nvar _Subscription3 = _interopRequireDefault(_Subscription2);\n\nvar _coreQueue = __webpack_require__(13);\n\nvar _coreQueue2 = _interopRequireDefault(_coreQueue);\n\nvar CachedSubscription = (function (_Subscription) {\n    _inherits(CachedSubscription, _Subscription);\n\n    function CachedSubscription(pubnubFactory, platform, cache, cacheKey) {\n        var _this = this;\n\n        _classCallCheck(this, CachedSubscription);\n\n        _Subscription.call(this, pubnubFactory, platform);\n\n        this._cache = cache;\n        this._cacheKey = cacheKey;\n        this._renewQueue = new _coreQueue2['default'](this._cache, cacheKey + '-renew');\n        this._resubscribeQueue = new _coreQueue2['default'](this._cache, cacheKey + '-resubscribe');\n\n        this.events = _extends({}, this.events, {\n            queuedRenewSuccess: 'queuedRenewSuccess',\n            queuedRenewError: 'queuedRenewError',\n            queuedResubscribeSuccess: 'queuedResubscribeSuccess',\n            queuedResubscribeError: 'queuedResubscribeError'\n        });\n\n        this.on(this.events.renewError, function () {\n            _this.resubscribe();\n        });\n\n        this.on([this.events.subscribeSuccess, this.events.renewSuccess], function () {\n            _this._cache.setItem(_this._cacheKey, _this.subscription());\n        });\n\n        this.on(this.events.removeSuccess, function () {\n            _this._cache.removeItem(_this._cacheKey);\n        });\n    }\n\n    /**\n     * TODO Combine with Platform.refresh and move elsewhere\n     * @param actionCb\n     * @param queue\n     * @param successEvent\n     * @param errorEvent\n     * @param errorMessage\n     * @return {*}\n     * @private\n     */\n\n    CachedSubscription.prototype._queue = function _queue(actionCb, queue, successEvent, errorEvent, errorMessage) {\n        var res;\n        return regeneratorRuntime.async(function _queue$(context$2$0) {\n            while (1) switch (context$2$0.prev = context$2$0.next) {\n                case 0:\n                    context$2$0.prev = 0;\n\n                    if (!queue.isPaused()) {\n                        context$2$0.next = 8;\n                        break;\n                    }\n\n                    context$2$0.next = 4;\n                    return regeneratorRuntime.awrap(queue.poll());\n\n                case 4:\n                    if (this.alive()) {\n                        context$2$0.next = 6;\n                        break;\n                    }\n\n                    throw new Error(errorMessage);\n\n                case 6:\n\n                    this.emit(successEvent, null);\n\n                    return context$2$0.abrupt('return', null);\n\n                case 8:\n\n                    queue.pause();\n\n                    context$2$0.next = 11;\n                    return regeneratorRuntime.awrap(actionCb.call(this));\n\n                case 11:\n                    res = context$2$0.sent;\n\n                    queue.resume();\n\n                    this.emit(successEvent, res);\n\n                    return context$2$0.abrupt('return', res);\n\n                case 17:\n                    context$2$0.prev = 17;\n                    context$2$0.t0 = context$2$0['catch'](0);\n\n                    this.emit(errorEvent, context$2$0.t0);\n\n                    throw context$2$0.t0;\n\n                case 21:\n                case 'end':\n                    return context$2$0.stop();\n            }\n        }, null, this, [[0, 17]]);\n    };\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n\n    CachedSubscription.prototype.renew = function renew() {\n\n        return this._queue(_Subscription.prototype.renew, this._renewQueue, this.events.queuedRenewSuccess, this.events.queuedRenewError, 'Subscription is not alive after renew timeout');\n    };\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n\n    CachedSubscription.prototype.resubscribe = function resubscribe() {\n\n        return this._queue(_Subscription.prototype.resubscribe, this._resubscribeQueue, this.events.queuedResubscribeSuccess, this.events.queuedResubscribeError, 'Subscription is not alive after resubscribe timeout');\n    };\n\n    /**\n     * @param {string[]} events\n     * @return {CachedSubscription}\n     */\n\n    CachedSubscription.prototype.restore = function restore(events) {\n\n        var cachedSubscriptionData = this._cache.getItem(this._cacheKey);\n\n        if (cachedSubscriptionData) {\n            try {\n                this.setSubscription(cachedSubscriptionData);\n            } catch (e) {}\n        } else {\n            this.setEventFilters(events);\n        }\n\n        return this;\n    };\n\n    return CachedSubscription;\n})(_Subscription3['default']);\n\nexports['default'] = CachedSubscription;\nmodule.exports = exports['default'];\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var iteratorSymbol =\n    typeof Symbol === \"function\" && Symbol.iterator || \"@@iterator\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    // This invoke function is written in a style that assumes some\n    // calling function (or Promise) will handle exceptions.\n    function invoke(method, arg) {\n      var result = generator[method](arg);\n      var value = result.value;\n      return value instanceof AwaitArgument\n        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n        : Promise.resolve(value).then(function(unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            return result;\n          });\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var invokeNext = invoke.bind(generator, \"next\");\n    var invokeThrow = invoke.bind(generator, \"throw\");\n    var invokeReturn = invoke.bind(generator, \"return\");\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return invoke(method, arg);\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : new Promise(function (resolve) {\n          resolve(callInvokeWithMethodAndArg());\n        });\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          if (state === GenStateSuspendedYield) {\n            context.sent = arg;\n          } else {\n            context.sent = undefined;\n          }\n\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=ringcentral-bundle.js.map"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 376cc765ad2cf3304422\n **/","import * as Utils from './core/Utils';\nimport Cache from './core/Cache';\nimport * as Externals from './core/Externals';\nimport Observable from './core/Observable';\nimport Queue from './core/Queue';\n\nimport Client from './http/Client';\nimport ApiResponse from './http/ApiResponse';\nimport * as HttpUtils from './http/Utils';\n\nimport {default as ClientMock} from './mocks/ClientMock';\nimport Mock from './mocks/Mock';\nimport Registry from './mocks/Registry';\n\nimport Platform from './platform/Platform';\nimport Auth from './platform/Auth';\n\nimport PubnubMockFactory from './pubnub/PubnubFactory';\n\nimport Subscription from './subscription/Subscription';\nimport CachedSubscription from './subscription/CachedSubscription';\n\nrequire(\"regenerator/runtime\");\n\nexport default class SDK {\n\n    static version = '2.0.0';\n\n    static server = {\n        sandbox: 'https://platform.devtest.ringcentral.com',\n        production: 'https://platform.ringcentral.com'\n    };\n\n    /**\n     * @constructor\n     * @param {object} [options]\n     * @param {string} [options.server]\n     * @param {string} [options.cachePrefix]\n     * @param {string} [options.appSecret]\n     * @param {string} [options.appKey]\n     * @param {string} [options.appName]\n     * @param {string} [options.appVersion]\n     * @param {string} [options.pubnubFactory]\n     * @param {string} [options.client]\n     */\n    constructor(options) {\n\n        options = options || {};\n\n        this._cache = new Cache(Externals.localStorage, options.cachePrefix);\n\n        this._client = options.client || new Client();\n\n        this._platform = new Platform(this._client, this._cache, options.server, options.appKey, options.appSecret);\n\n        this._pubnubFactory = options.pubnubFactory || Externals.PUBNUB;\n\n    }\n\n    /**\n     * @return {Platform}\n     */\n    platform() {\n        return this._platform;\n    }\n\n    /**\n     * @return {Subscription}\n     */\n    createSubscription() {\n        return new Subscription(this._pubnubFactory, this._platform);\n    }\n\n    /**\n     * @return {CachedSubscription}\n     */\n    createCachedSubscription(cacheKey) {\n        return new CachedSubscription(this._pubnubFactory, this._platform, this._cache, cacheKey);\n    }\n\n    /**\n     * @return {Cache}\n     */\n    cache() {\n        return this._cache;\n    }\n\n    static core = {\n        Cache: Cache,\n        Observable: Observable,\n        Utils: Utils,\n        Externals: Externals,\n        Queue: Queue\n    };\n\n    static http = {\n        Client: Client,\n        ApiResponse: ApiResponse,\n        Utils: HttpUtils\n    };\n\n    static platform = {\n        Auth: Auth,\n        Platform: Platform\n    };\n\n    static subscription = {\n        Subscription: Subscription\n    };\n\n    static mocks = {\n        Client: ClientMock,\n        Registry: Registry,\n        Mock: Mock\n    };\n\n    static pubnub = {\n        PubnubMockFactory: PubnubMockFactory\n    };\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/SDK.js\n **/","import {Promise} from './Externals.js';\n\n/**\n * TODO Replace with something better\n * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n * @param {object} parameters\n * @returns {string}\n */\nexport function queryStringify(parameters) {\n\n    var array = [];\n\n    parameters = parameters || {};\n\n    Object.keys(parameters).forEach((k) => {\n\n        var v = parameters[k];\n\n        if (isArray(v)) {\n            v.forEach((vv) => {\n                array.push(encodeURIComponent(k) + '=' + encodeURIComponent(vv));\n            });\n        } else {\n            array.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\n        }\n\n    });\n\n    return array.join('&');\n\n}\n\n/**\n * TODO Replace with something better\n * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n * @param {string} queryString\n * @returns {object}\n */\nexport function parseQueryString(queryString) {\n\n    var argsParsed = {};\n\n    queryString.split('&').forEach((arg) => {\n\n        arg = decodeURIComponent(arg);\n\n        if (arg.indexOf('=') == -1) {\n\n            argsParsed[arg.trim()] = true;\n\n        } else {\n\n            var pair = arg.split('='),\n                key = pair[0].trim(),\n                value = pair[1].trim();\n\n            if (key in argsParsed) {\n                if (key in argsParsed && !isArray(argsParsed[key])) argsParsed[key] = [argsParsed[key]];\n                argsParsed[key].push(value);\n            } else {\n                argsParsed[key] = value;\n            }\n\n        }\n\n    });\n\n    return argsParsed;\n\n}\n\n/**\n * @param obj\n * @return {boolean}\n */\nexport function isFunction(obj) {\n    return typeof obj === \"function\";\n}\n\n/**\n * @param obj\n * @return {boolean}\n */\nexport function isArray(obj) {\n    return Array.isArray ? Array.isArray(obj) : typeof obj === \"array\";\n}\n\n/**\n * @param fn\n * @param interval\n * @param timeout\n */\nexport function poll(fn, interval, timeout) { //NodeJS.Timer|number\n\n    module.exports.stopPolling(timeout);\n\n    interval = interval || 1000;\n\n    var next = (delay) => {\n\n        delay = delay || interval;\n\n        interval = delay;\n\n        return setTimeout(() => {\n\n            fn(next, delay);\n\n        }, delay);\n\n    };\n\n    return next();\n\n}\n\nexport function stopPolling(timeout) {\n    if (timeout) clearTimeout(timeout);\n}\n\nexport function isNodeJS() {\n    return (typeof process !== 'undefined');\n}\n\nexport function isBrowser() {\n    return (typeof window !== 'undefined');\n}\n\nexport function delay(timeout) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            resolve(null);\n        }, timeout);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Utils.js\n **/","import ES6Promise from 'es6-promise';\nimport nodeFetch from 'node-fetch';\nimport pubnub from 'pubnub';\n\nvar root = (new Function('return this'))();\n\nexport var Promise = (ES6Promise && ES6Promise.Promise) || root.Promise;\n\nexport var fetch = root.fetch || nodeFetch;\nexport var Request = root.Request || fetch.Request;\nexport var Response = root.Response || fetch.Response;\nexport var Headers = root.Headers || fetch.Headers;\n\nexport var PUBNUB = root.PUBNUB || pubnub;\n\nexport var localStorage = (typeof root.localStorage !== 'undefined') ? root.localStorage : {};\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Externals.js\n **/","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.2.0\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$toString = {}.toString;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    function lib$es6$promise$asap$$asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    var lib$es6$promise$asap$$default = lib$es6$promise$asap$$asap;\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      var nextTick = process.nextTick;\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // setImmediate should be used instead instead\n      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n        nextTick = setImmediate;\n      }\n      return function() {\n        nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertex() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertex();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$default(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = lib$es6$promise$$internal$$getThen(maybeThenable);\n\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFullfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      var enumerator = this;\n\n      enumerator._instanceConstructor = Constructor;\n      enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (enumerator._validateInput(input)) {\n        enumerator._input     = input;\n        enumerator.length     = input.length;\n        enumerator._remaining = input.length;\n\n        enumerator._init();\n\n        if (enumerator.length === 0) {\n          lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n        } else {\n          enumerator.length = enumerator.length || 0;\n          enumerator._enumerate();\n          if (enumerator._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError());\n      }\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return lib$es6$promise$utils$$isArray(input);\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var enumerator = this;\n\n      var length  = enumerator.length;\n      var promise = enumerator.promise;\n      var input   = enumerator._input;\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        enumerator._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var enumerator = this;\n      var c = enumerator._instanceConstructor;\n\n      if (lib$es6$promise$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING) {\n          entry._onerror = null;\n          enumerator._settledAt(entry._state, i, entry._result);\n        } else {\n          enumerator._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        enumerator._remaining--;\n        enumerator._result[i] = entry;\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var enumerator = this;\n      var promise = enumerator.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        enumerator._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          enumerator._result[i] = value;\n        }\n      }\n\n      if (enumerator._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, enumerator._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$es6$promise$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n    var lib$es6$promise$promise$$counter = 0;\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise’s eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this._id = lib$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        if (!lib$es6$promise$utils$$isFunction(resolver)) {\n          lib$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof lib$es6$promise$promise$$Promise)) {\n          lib$es6$promise$promise$$needsNew();\n        }\n\n        lib$es6$promise$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$default;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor(lib$es6$promise$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          lib$es6$promise$asap$$default(function(){\n            lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/es6-promise/promise.js\n ** module id = 4\n ** module chunks = 0\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/timers-browserify/main.js\n ** module id = 5\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 8\n ** module chunks = 0\n **/","(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.url = null\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    var request\n    if (Request.prototype.isPrototypeOf(input) && !init) {\n      request = input\n    } else {\n      request = new Request(input, init)\n    }\n\n    return new Promise(function(resolve, reject) {\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/fetch/fetch.js\n ** module id = 9\n ** module chunks = 0\n **/","// Version: 3.7.14\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     JSON     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\n(window['JSON'] && window['JSON']['stringify']) || (function () {\n    window['JSON'] || (window['JSON'] = {});\n\n    function toJSON(key) {\n        try      { return this.valueOf() }\n        catch(e) { return null }\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ?\n            '\"' + string.replace(escapable, function (a) {\n                var c = meta[a];\n                return typeof c === 'string' ? c :\n                    '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + '\"' :\n            '\"' + string + '\"';\n    }\n\n    function str(key, holder) {\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            partial,\n            mind  = gap,\n            value = holder[key];\n\n        if (value && typeof value === 'object') {\n            value = toJSON.call( value, key );\n        }\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n            return String(value);\n\n        case 'object':\n\n            if (!value) {\n                return 'null';\n            }\n\n            gap += indent;\n            partial = [];\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n                v = partial.length === 0 ? '[]' :\n                    gap ? '[\\n' + gap +\n                            partial.join(',\\n' + gap) + '\\n' +\n                                mind + ']' :\n                          '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? '{}' :\n                gap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' +\n                        mind + '}' : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON['stringify'] !== 'function') {\n        JSON['stringify'] = function (value, replacer, space) {\n            var i;\n            gap = '';\n            indent = '';\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                     typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n            return str('', {'': value});\n        };\n    }\n\n    if (typeof JSON['parse'] !== 'function') {\n        // JSON is parsed on the server for security.\n        JSON['parse'] = function (text) {return eval('('+text+')')};\n    }\n}());\nvar NOW             = 1\n,   READY           = false\n,   READY_BUFFER    = []\n,   PRESENCE_SUFFIX = '-pnpres'\n,   DEF_WINDOWING   = 10     // MILLISECONDS.\n,   DEF_TIMEOUT     = 10000  // MILLISECONDS.\n,   DEF_SUB_TIMEOUT = 310    // SECONDS.\n,   DEF_KEEPALIVE   = 60     // SECONDS (FOR TIMESYNC).\n,   SECOND          = 1000   // A THOUSAND MILLISECONDS.\n,   URLBIT          = '/'\n,   PARAMSBIT       = '&'\n,   PRESENCE_HB_THRESHOLD = 5\n,   PRESENCE_HB_DEFAULT  = 30\n,   SDK_VER         = '3.7.14'\n,   REPL            = /{([\\w\\-]+)}/g;\n\n/**\n * UTILITIES\n */\nfunction unique() { return'x'+ ++NOW+''+(+new Date) }\nfunction rnow()   { return+new Date }\n\n/**\n * NEXTORIGIN\n * ==========\n * var next_origin = nextorigin();\n */\nvar nextorigin = (function() {\n    var max = 20\n    ,   ori = Math.floor(Math.random() * max);\n    return function( origin, failover ) {\n        return origin.indexOf('pubsub.') > 0\n            && origin.replace(\n             'pubsub', 'ps' + (\n                failover ? generate_uuid().split('-')[0] :\n                (++ori < max? ori : ori=1)\n            ) ) || origin;\n    }\n})();\n\n\n/**\n * Build Url\n * =======\n *\n */\nfunction build_url( url_components, url_params ) {\n    var url    = url_components.join(URLBIT)\n    ,   params = [];\n\n    if (!url_params) return url;\n\n    each( url_params, function( key, value ) {\n        var value_str = (typeof value == 'object')?JSON['stringify'](value):value;\n        (typeof value != 'undefined' &&\n            value != null && encode(value_str).length > 0\n        ) && params.push(key + \"=\" + encode(value_str));\n    } );\n\n    url += \"?\" + params.join(PARAMSBIT);\n    return url;\n}\n\n/**\n * UPDATER\n * =======\n * var timestamp = unique();\n */\nfunction updater( fun, rate ) {\n    var timeout\n    ,   last   = 0\n    ,   runnit = function() {\n        if (last + rate > rnow()) {\n            clearTimeout(timeout);\n            timeout = setTimeout( runnit, rate );\n        }\n        else {\n            last = rnow();\n            fun();\n        }\n    };\n\n    return runnit;\n}\n\n/**\n * GREP\n * ====\n * var list = grep( [1,2,3], function(item) { return item % 2 } )\n */\nfunction grep( list, fun ) {\n    var fin = [];\n    each( list || [], function(l) { fun(l) && fin.push(l) } );\n    return fin\n}\n\n/**\n * SUPPLANT\n * ========\n * var text = supplant( 'Hello {name}!', { name : 'John' } )\n */\nfunction supplant( str, values ) {\n    return str.replace( REPL, function( _, match ) {\n        return values[match] || _\n    } );\n}\n\n/**\n * timeout\n * =======\n * timeout( function(){}, 100 );\n */\nfunction timeout( fun, wait ) {\n    return setTimeout( fun, wait );\n}\n\n/**\n * uuid\n * ====\n * var my_uuid = generate_uuid();\n */\nfunction generate_uuid(callback) {\n    var u = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,\n    function(c) {\n        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n    if (callback) callback(u);\n    return u;\n}\n\nfunction isArray(arg) {\n  return !!arg && typeof arg !== 'string' && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n  //return !!arg && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n}\n\n/**\n * EACH\n * ====\n * each( [1,2,3], function(item) { } )\n */\nfunction each( o, f) {\n    if ( !o || !f ) return;\n\n    if ( isArray(o) )\n        for ( var i = 0, l = o.length; i < l; )\n            f.call( o[i], o[i], i++ );\n    else\n        for ( var i in o )\n            o.hasOwnProperty    &&\n            o.hasOwnProperty(i) &&\n            f.call( o[i], i, o[i] );\n}\n\n/**\n * MAP\n * ===\n * var list = map( [1,2,3], function(item) { return item + 1 } )\n */\nfunction map( list, fun ) {\n    var fin = [];\n    each( list || [], function( k, v ) { fin.push(fun( k, v )) } );\n    return fin;\n}\n\n\nfunction pam_encode(str) {\n  return encodeURIComponent(str).replace(/[!'()*~]/g, function(c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\n\n/**\n * ENCODE\n * ======\n * var encoded_data = encode('path');\n */\nfunction encode(path) { return encodeURIComponent(path) }\n\n/**\n * Generate Subscription Channel List\n * ==================================\n * generate_channel_list(channels_object);\n */\nfunction generate_channel_list(channels, nopresence) {\n    var list = [];\n    each( channels, function( channel, status ) {\n        if (nopresence) {\n            if(channel.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel);\n            }\n        } else {\n            if (status.subscribed) list.push(channel);\n        }\n    });\n    return list.sort();\n}\n\n/**\n * Generate Subscription Channel Groups List\n * ==================================\n * generate_channel_group_list(channels_groups object);\n */\nfunction generate_channel_group_list(channel_groups, nopresence) {\n    var list = [];\n    each(channel_groups, function( channel_group, status ) {\n        if (nopresence) {\n            if(channel_group.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel_group);\n            }\n        } else {\n            if (status.subscribed) list.push(channel_group);\n        }\n    });\n    return list.sort();\n}\n\n// PUBNUB READY TO CONNECT\nfunction ready() { timeout( function() {\n    if (READY) return;\n    READY = 1;\n    each( READY_BUFFER, function(connect) { connect() } );\n}, SECOND ); }\n\nfunction PNmessage(args) {\n    msg = args || {'apns' : {}},\n    msg['getPubnubMessage'] = function() {\n        var m = {};\n\n        if (Object.keys(msg['apns']).length) {\n            m['pn_apns'] = {\n                    'aps' : {\n                        'alert' : msg['apns']['alert'] ,\n                        'badge' : msg['apns']['badge']\n                    }\n            }\n            for (var k in msg['apns']) {\n                m['pn_apns'][k] = msg['apns'][k];\n            }\n            var exclude1 = ['badge','alert'];\n            for (var k in exclude1) {\n                delete m['pn_apns'][exclude1[k]];\n            }\n        }\n\n\n\n        if (msg['gcm']) {\n            m['pn_gcm'] = {\n                'data' : msg['gcm']\n            }\n        }\n\n        for (var k in msg) {\n            m[k] = msg[k];\n        }\n        var exclude = ['apns','gcm','publish', 'channel','callback','error'];\n        for (var k in exclude) {\n            delete m[exclude[k]];\n        }\n\n        return m;\n    };\n    msg['publish'] = function() {\n\n        var m = msg.getPubnubMessage();\n\n        if (msg['pubnub'] && msg['channel']) {\n            msg['pubnub'].publish({\n                'message' : m,\n                'channel' : msg['channel'],\n                'callback' : msg['callback'],\n                'error' : msg['error']\n            })\n        }\n    };\n    return msg;\n}\n\nfunction PN_API(setup) {\n    var SUB_WINDOWING =  +setup['windowing']   || DEF_WINDOWING\n    ,   SUB_TIMEOUT   = (+setup['timeout']     || DEF_SUB_TIMEOUT) * SECOND\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   TIME_CHECK    = setup['timecheck']     || 0\n    ,   NOLEAVE       = setup['noleave']       || 0\n    ,   PUBLISH_KEY   = setup['publish_key']\n    ,   SUBSCRIBE_KEY = setup['subscribe_key']\n    ,   AUTH_KEY      = setup['auth_key']      || ''\n    ,   SECRET_KEY    = setup['secret_key']    || ''\n    ,   hmac_SHA256   = setup['hmac_SHA256']\n    ,   SSL           = setup['ssl']            ? 's' : ''\n    ,   ORIGIN        = 'http'+SSL+'://'+(setup['origin']||'pubsub.pubnub.com')\n    ,   STD_ORIGIN    = nextorigin(ORIGIN)\n    ,   SUB_ORIGIN    = nextorigin(ORIGIN)\n    ,   CONNECT       = function(){}\n    ,   PUB_QUEUE     = []\n    ,   CLOAK         = true\n    ,   TIME_DRIFT    = 0\n    ,   SUB_CALLBACK  = 0\n    ,   SUB_CHANNEL   = 0\n    ,   SUB_RECEIVER  = 0\n    ,   SUB_RESTORE   = setup['restore'] || 0\n    ,   SUB_BUFF_WAIT = 0\n    ,   TIMETOKEN     = 0\n    ,   RESUMED       = false\n    ,   CHANNELS      = {}\n    ,   CHANNEL_GROUPS       = {}\n    ,   SUB_ERROR     = function(){}\n    ,   STATE         = {}\n    ,   PRESENCE_HB_TIMEOUT  = null\n    ,   PRESENCE_HB          = validate_presence_heartbeat(\n        setup['heartbeat'] || setup['pnexpires'] || 0, setup['error']\n    )\n    ,   PRESENCE_HB_INTERVAL = setup['heartbeat_interval'] || (PRESENCE_HB / 2) -1\n    ,   PRESENCE_HB_RUNNING  = false\n    ,   NO_WAIT_FOR_PENDING  = setup['no_wait_for_pending']\n    ,   COMPATIBLE_35 = setup['compatible_3.5']  || false\n    ,   xdr           = setup['xdr']\n    ,   params        = setup['params'] || {}\n    ,   error         = setup['error']      || function() {}\n    ,   _is_online    = setup['_is_online'] || function() { return 1 }\n    ,   jsonp_cb      = setup['jsonp_cb']   || function() { return 0 }\n    ,   db            = setup['db']         || {'get': function(){}, 'set': function(){}}\n    ,   CIPHER_KEY    = setup['cipher_key']\n    ,   UUID          = setup['uuid'] || ( !setup['unique_uuid'] && db && db['get'](SUBSCRIBE_KEY+'uuid') || '')\n    ,   USE_INSTANCEID = setup['instance_id'] || false\n    ,   INSTANCEID    = ''\n    ,   shutdown      = setup['shutdown']\n    ,   use_send_beacon = (typeof setup['use_send_beacon'] != 'undefined')?setup['use_send_beacon']:true\n    ,   sendBeacon    = (use_send_beacon)?setup['sendBeacon']:null\n    ,   _poll_timer\n    ,   _poll_timer2;\n\n    if (PRESENCE_HB === 2) PRESENCE_HB_INTERVAL = 1;\n\n    var crypto_obj    = setup['crypto_obj'] ||\n        {\n            'encrypt' : function(a,key){ return a},\n            'decrypt' : function(b,key){return b}\n        };\n\n    function _get_url_params(data) {\n        if (!data) data = {};\n        each( params , function( key, value ) {\n            if (!(key in data)) data[key] = value;\n        });\n        return data;\n    }\n\n    function _object_to_key_list(o) {\n        var l = []\n        each( o , function( key, value ) {\n            l.push(key);\n        });\n        return l;\n    }\n    function _object_to_key_list_sorted(o) {\n        return _object_to_key_list(o).sort();\n    }\n\n    function _get_pam_sign_input_from_params(params) {\n        var si = \"\";\n        var l = _object_to_key_list_sorted(params);\n\n        for (var i in l) {\n            var k = l[i]\n            si += k + \"=\" + pam_encode(params[k]) ;\n            if (i != l.length - 1) si += \"&\"\n        }\n        return si;\n    }\n\n    function validate_presence_heartbeat(heartbeat, cur_heartbeat, error) {\n        var err = false;\n\n        if (typeof heartbeat === 'undefined') {\n            return cur_heartbeat;\n        }\n\n        if (typeof heartbeat === 'number') {\n            if (heartbeat > PRESENCE_HB_THRESHOLD || heartbeat == 0)\n                err = false;\n            else\n                err = true;\n        } else if(typeof heartbeat === 'boolean'){\n            if (!heartbeat) {\n                return 0;\n            } else {\n                return PRESENCE_HB_DEFAULT;\n            }\n        } else {\n            err = true;\n        }\n\n        if (err) {\n            error && error(\"Presence Heartbeat value invalid. Valid range ( x > \" + PRESENCE_HB_THRESHOLD + \" or x = 0). Current Value : \" + (cur_heartbeat || PRESENCE_HB_THRESHOLD));\n            return cur_heartbeat || PRESENCE_HB_THRESHOLD;\n        } else return heartbeat;\n    }\n\n    function encrypt(input, key) {\n        return crypto_obj['encrypt'](input, key || CIPHER_KEY) || input;\n    }\n    function decrypt(input, key) {\n        return crypto_obj['decrypt'](input, key || CIPHER_KEY) ||\n               crypto_obj['decrypt'](input, CIPHER_KEY) ||\n               input;\n    }\n\n    function error_common(message, callback) {\n        callback && callback({ 'error' : message || \"error occurred\"});\n        error && error(message);\n    }\n    function _presence_heartbeat() {\n\n        clearTimeout(PRESENCE_HB_TIMEOUT);\n\n        if (!PRESENCE_HB_INTERVAL || PRESENCE_HB_INTERVAL >= 500 ||\n            PRESENCE_HB_INTERVAL < 1 ||\n            (!generate_channel_list(CHANNELS,true).length  && !generate_channel_group_list(CHANNEL_GROUPS, true).length ) )\n        {\n            PRESENCE_HB_RUNNING = false;\n            return;\n        }\n\n        PRESENCE_HB_RUNNING = true;\n        SELF['presence_heartbeat']({\n            'callback' : function(r) {\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            },\n            'error' : function(e) {\n                error && error(\"Presence Heartbeat unable to reach Pubnub servers.\" + JSON.stringify(e));\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            }\n        });\n    }\n\n    function start_presence_heartbeat() {\n        !PRESENCE_HB_RUNNING && _presence_heartbeat();\n    }\n\n    function publish(next) {\n\n        if (NO_WAIT_FOR_PENDING) {\n            if (!PUB_QUEUE.length) return;\n        } else {\n            if (next) PUB_QUEUE.sending = 0;\n            if ( PUB_QUEUE.sending || !PUB_QUEUE.length ) return;\n            PUB_QUEUE.sending = 1;\n        }\n\n        xdr(PUB_QUEUE.shift());\n    }\n    function each_channel_group(callback) {\n        var count = 0;\n\n        each( generate_channel_group_list(CHANNEL_GROUPS), function(channel_group) {\n            var chang = CHANNEL_GROUPS[channel_group];\n\n            if (!chang) return;\n\n            count++;\n            (callback||function(){})(chang);\n        } );\n\n        return count;\n    }\n\n    function each_channel(callback) {\n        var count = 0;\n\n        each( generate_channel_list(CHANNELS), function(channel) {\n            var chan = CHANNELS[channel];\n\n            if (!chan) return;\n\n            count++;\n            (callback||function(){})(chan);\n        } );\n\n        return count;\n    }\n    function _invoke_callback(response, callback, err) {\n        if (typeof response == 'object') {\n            if (response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n\n                err && err(callback_data);\n                return;\n\n            }\n            if (response['payload']) {\n                if (response['next_page'])\n                    callback && callback(response['payload'], response['next_page']);\n                else\n                    callback && callback(response['payload']);\n                return;\n            }\n        }\n        callback && callback(response);\n    }\n\n    function _invoke_error(response,err) {\n\n        if (typeof response == 'object' && response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n                \n                err && err(callback_data);\n                return;\n        } else {\n            err && err(response);\n        }\n    }\n    function CR(args, callback, url1, data) {\n            var callback        = args['callback']      || callback\n            ,   err             = args['error']         || error\n            ,   jsonp           = jsonp_cb();\n\n            data = data || {};\n            \n            if (!data['auth']) {\n                data['auth'] = args['auth_key'] || AUTH_KEY;\n            }\n            \n            var url = [\n                    STD_ORIGIN, 'v1', 'channel-registration',\n                    'sub-key', SUBSCRIBE_KEY\n                ];\n\n            url.push.apply(url,url1);\n            \n            if (jsonp) data['callback']              = jsonp;\n            \n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n    }\n\n    // Announce Leave Event\n    var SELF = {\n        'LEAVE' : function( channel, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   url\n            ,   jsonp  = jsonp_cb();\n\n\n\n            // Prevent Leaving a Presence Channel\n            if (channel.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n\n\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            url = [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel), 'leave'\n                ];\n\n            params = _get_url_params(data);\n\n\n            if (sendBeacon) {\n                url_string = build_url(url, params);\n                if (sendBeacon(url_string)) {\n                    callback && callback({\"status\": 200, \"action\": \"leave\", \"message\": \"OK\", \"service\": \"Presence\"});\n                    return true;\n                }\n            }\n\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 2000,\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n            return true;\n        },\n        'LEAVE_GROUP' : function( channel_group, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel Group\n            if (channel_group.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (channel_group && channel_group.length > 0) data['channel-group'] = channel_group;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 5000,\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(','), 'leave'\n                ]\n            });\n            return true;\n        },\n        'set_resumed' : function(resumed) {\n                RESUMED = resumed;\n        },\n        'get_cipher_key' : function() {\n            return CIPHER_KEY;\n        },\n        'set_cipher_key' : function(key) {\n            CIPHER_KEY = key;\n        },\n        'raw_encrypt' : function(input, key) {\n            return encrypt(input, key);\n        },\n        'raw_decrypt' : function(input, key) {\n            return decrypt(input, key);\n        },\n        'get_heartbeat' : function() {\n            return PRESENCE_HB;\n        },\n        \n        'set_heartbeat' : function(heartbeat, heartbeat_interval) {\n            PRESENCE_HB = validate_presence_heartbeat(heartbeat, PRESENCE_HB, error);\n            PRESENCE_HB_INTERVAL = heartbeat_interval || (PRESENCE_HB / 2) - 1;\n            if (PRESENCE_HB == 2) {\n                PRESENCE_HB_INTERVAL = 1;\n            }\n            CONNECT();\n            _presence_heartbeat();\n        },\n        \n        'get_heartbeat_interval' : function() {\n            return PRESENCE_HB_INTERVAL;\n        },\n        \n        'set_heartbeat_interval' : function(heartbeat_interval) {\n            PRESENCE_HB_INTERVAL = heartbeat_interval;\n            _presence_heartbeat();\n        },\n        \n        'get_version' : function() {\n            return SDK_VER;\n        },\n        'getGcmMessageObject' : function(obj) {\n            return {\n                'data' : obj\n            }\n        },\n        'getApnsMessageObject' : function(obj) {\n            var x =  {\n                'aps' : { 'badge' : 1, 'alert' : ''}\n            }\n            for (k in obj) {\n                k[x] = obj[k];\n            }\n            return x;\n        },\n        'newPnMessage' : function() {\n            var x = {};\n            if (gcm) x['pn_gcm'] = gcm;\n            if (apns) x['pn_apns'] = apns;\n            for ( k in n ) {\n                x[k] = n[k];\n            }\n            return x;\n        },\n\n        '_add_param' : function(key,val) {\n            params[key] = val;\n        },\n\n        'channel_group' : function(args, callback) {\n            var ns_ch       = args['channel_group']\n            ,   callback    = callback         || args['callback']\n            ,   channels    = args['channels'] || args['channel']\n            ,   cloak       = args['cloak']\n            ,   namespace\n            ,   channel_group\n            ,   url = []\n            ,   data = {}\n            ,   mode = args['mode'] || 'add';\n\n\n            if (ns_ch) {\n                var ns_ch_a = ns_ch.split(':');\n\n                if (ns_ch_a.length > 1) {\n                    namespace = (ns_ch_a[0] === '*')?null:ns_ch_a[0];\n\n                    channel_group = ns_ch_a[1];\n                } else {\n                    channel_group = ns_ch_a[0];\n                }\n            }\n\n            namespace && url.push('namespace') && url.push(encode(namespace));\n\n            url.push('channel-group');\n\n            if (channel_group && channel_group !== '*') {\n                url.push(channel_group);\n            }\n\n            if (channels ) {\n                if (isArray(channels)) {\n                    channels = channels.join(',');\n                }\n                data[mode] = channels;\n                data['cloak'] = (CLOAK)?'true':'false';\n            } else {\n                if (mode === 'remove') url.push('remove');\n            }\n\n            if (typeof cloak != 'undefined') data['cloak'] = (cloak)?'true':'false';\n\n            CR(args, callback, url, data);\n        },\n\n        'channel_group_list_groups' : function(args, callback) {\n            var namespace;\n\n            namespace = args['namespace'] || args['ns'] || args['channel_group'] || null;\n            if (namespace) {\n                args[\"channel_group\"] = namespace + \":*\";\n            }\n\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_list_channels' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_remove_channel' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_remove_group' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (args['channel']) return error('Use channel_group_remove_channel if you want to remove a channel from a group.');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_add_channel' : function(args, callback) {\n           if (!args['channel_group']) return error('Missing Channel Group');\n           if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_cloak' : function(args, callback) {\n            if (typeof args['cloak'] == 'undefined') {\n                callback(CLOAK);\n                return;\n            }\n            CLOAK = args['cloak'];\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_list_namespaces' : function(args, callback) {\n            var url = ['namespace'];\n            CR(args, callback, url);\n        },\n        'channel_group_remove_namespace' : function(args, callback) {\n            var url = ['namespace',args['namespace'],'remove'];\n            CR(args, callback, url);\n        },\n\n        /*\n            PUBNUB.history({\n                channel  : 'my_chat_channel',\n                limit    : 100,\n                callback : function(history) { }\n            });\n        */\n        'history' : function( args, callback ) {\n            var callback         = args['callback'] || callback\n            ,   count            = args['count']    || args['limit'] || 100\n            ,   reverse          = args['reverse']  || \"false\"\n            ,   err              = args['error']    || function(){}\n            ,   auth_key         = args['auth_key'] || AUTH_KEY\n            ,   cipher_key       = args['cipher_key']\n            ,   channel          = args['channel']\n            ,   channel_group    = args['channel_group']\n            ,   start            = args['start']\n            ,   end              = args['end']\n            ,   include_token    = args['include_token']\n            ,   string_msg_token = args['string_message_token'] || false\n            ,   params           = {}\n            ,   jsonp            = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) return error('Missing Channel');\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            params['stringtoken'] = 'true';\n            params['count']       = count;\n            params['reverse']     = reverse;\n            params['auth']        = auth_key;\n\n            if (channel_group) {\n                params['channel-group'] = channel_group;\n                if (!channel) {\n                    channel = ','; \n                }\n            }\n            if (jsonp) params['callback']              = jsonp;\n            if (start) params['start']                 = start;\n            if (end)   params['end']                   = end;\n            if (include_token) params['include_token'] = 'true';\n            if (string_msg_token) params['string_message_token'] = 'true';\n\n            // Send Message\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(params),\n                success  : function(response) {\n                    if (typeof response == 'object' && response['error']) {\n                        err({'message' : response['message'], 'payload' : response['payload']});\n                        return;\n                    }\n                    var messages = response[0];\n                    var decrypted_messages = [];\n                    for (var a = 0; a < messages.length; a++) {\n                        var new_message = decrypt(messages[a],cipher_key);\n                        try {\n                            decrypted_messages['push'](JSON['parse'](new_message));\n                        } catch (e) {\n                            decrypted_messages['push']((new_message));\n                        }\n                    }\n                    callback([decrypted_messages, response[1], response[2]]);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'history', 'sub-key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel)\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.replay({\n                source      : 'my_channel',\n                destination : 'new_channel'\n            });\n        */\n        'replay' : function(args, callback) {\n            var callback    = callback || args['callback'] || function(){}\n            ,   auth_key    = args['auth_key'] || AUTH_KEY\n            ,   source      = args['source']\n            ,   destination = args['destination']\n            ,   stop        = args['stop']\n            ,   start       = args['start']\n            ,   end         = args['end']\n            ,   reverse     = args['reverse']\n            ,   limit       = args['limit']\n            ,   jsonp       = jsonp_cb()\n            ,   data        = {}\n            ,   url;\n\n            // Check User Input\n            if (!source)        return error('Missing Source Channel');\n            if (!destination)   return error('Missing Destination Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Setup URL Params\n            if (jsonp != '0') data['callback'] = jsonp;\n            if (stop)         data['stop']     = 'all';\n            if (reverse)      data['reverse']  = 'true';\n            if (start)        data['start']    = start;\n            if (end)          data['end']      = end;\n            if (limit)        data['count']    = limit;\n\n            data['auth'] = auth_key;\n\n            // Compose URL Parts\n            url = [\n                STD_ORIGIN, 'v1', 'replay',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                source, destination\n            ];\n\n            // Start (or Stop) Replay!\n            xdr({\n                callback : jsonp,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function() { callback([ 0, 'Disconnected' ]) },\n                url      : url,\n                data     : _get_url_params(data)\n            });\n        },\n\n        /*\n            PUBNUB.auth('AJFLKAJSDKLA');\n        */\n        'auth' : function(auth) {\n            AUTH_KEY = auth;\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.time(function(time){ });\n        */\n        'time' : function(callback) {\n            var jsonp = jsonp_cb();\n\n            var data = { 'uuid' : UUID, 'auth' : AUTH_KEY }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [STD_ORIGIN, 'time', jsonp],\n                success  : function(response) { callback(response[0]) },\n                fail     : function() { callback(0) }\n            });\n        },\n\n        /*\n            PUBNUB.publish({\n                channel : 'my_chat_channel',\n                message : 'hello!'\n            });\n        */\n        'publish' : function( args, callback ) {\n            var msg      = args['message'];\n            if (!msg) return error('Missing Message');\n\n            var callback = callback || args['callback'] || msg['callback'] || function(){}\n            ,   channel  = args['channel'] || msg['channel']\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   cipher_key = args['cipher_key']\n            ,   err      = args['error'] || msg['error'] || function() {}\n            ,   post     = args['post'] || false\n            ,   store    = ('store_in_history' in args) ? args['store_in_history']: true\n            ,   jsonp    = jsonp_cb()\n            ,   add_msg  = 'push'\n            ,   params\n            ,   url;\n\n            if (args['prepend']) add_msg = 'unshift'\n\n            if (!channel)       return error('Missing Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (msg['getPubnubMessage']) {\n                msg = msg['getPubnubMessage']();\n            }\n\n            // If trying to send Object\n            msg = JSON['stringify'](encrypt(msg, cipher_key));\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'publish',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                0, encode(channel),\n                jsonp, encode(msg)\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key }\n\n            if (!store) params['store'] =\"0\"\n\n            if (USE_INSTANCEID) params['instanceid'] = INSTANCEID;\n\n            // Queue Message Send\n            PUB_QUEUE[add_msg]({\n                callback : jsonp,\n                timeout  : SECOND * 5,\n                url      : url,\n                data     : _get_url_params(params),\n                fail     : function(response){\n                    _invoke_error(response, err);\n                    publish(1);\n                },\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                    publish(1);\n                },\n                mode     : (post)?'POST':'GET'\n            });\n\n            // Send Message\n            publish();\n        },\n\n        /*\n            PUBNUB.unsubscribe({ channel : 'my_chat' });\n        */\n        'unsubscribe' : function(args, callback) {\n            var channel       = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   auth_key      = args['auth_key']    || AUTH_KEY\n            ,   callback      = callback            || args['callback'] || function(){}\n            ,   err           = args['error']       || function(){};\n\n            TIMETOKEN   = 0;\n            //SUB_RESTORE = 1;    REVISIT !!!!\n\n            if (channel) {\n                // Prepare Channel(s)\n                channel = map( (\n                    channel.join ? channel.join(',') : ''+channel\n                ).split(','), function(channel) {\n                    if (!CHANNELS[channel]) return;\n                    return channel + ',' + channel + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over Channels\n                each( channel.split(','), function(ch) {\n                    var CB_CALLED = true;\n                    if (!ch) return;\n                    CHANNELS[ch] = 0;\n                    if (ch in STATE) delete STATE[ch];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE']( ch, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                    \n                } );\n            }\n\n            if (channel_group) {\n                // Prepare channel group(s)\n                channel_group = map( (\n                    channel_group.join ? channel_group.join(',') : ''+channel_group\n                ).split(','), function(channel_group) {\n                    if (!CHANNEL_GROUPS[channel_group]) return;\n                    return channel_group + ',' + channel_group + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over channel groups\n                each( channel_group.split(','), function(chg) {\n                    var CB_CALLED = true;\n                    if (!chg) return;\n                    CHANNEL_GROUPS[chg] = 0;\n                    if (chg in STATE) delete STATE[chg];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE_GROUP']( chg, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                } );\n            }\n\n            // Reset Connection if Count Less\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.subscribe({\n                channel  : 'my_chat'\n                callback : function(message) { }\n            });\n        */\n        'subscribe' : function( args, callback ) {\n            var channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   callback        = callback            || args['callback']\n            ,   callback        = callback            || args['message']\n            ,   connect         = args['connect']     || function(){}\n            ,   reconnect       = args['reconnect']   || function(){}\n            ,   disconnect      = args['disconnect']  || function(){}\n            ,   SUB_ERROR       = args['error']       || SUB_ERROR || function(){}\n            ,   idlecb          = args['idle']        || function(){}\n            ,   presence        = args['presence']    || 0\n            ,   noheresync      = args['noheresync']  || 0\n            ,   backfill        = args['backfill']    || 0\n            ,   timetoken       = args['timetoken']   || 0\n            ,   sub_timeout     = args['timeout']     || SUB_TIMEOUT\n            ,   windowing       = args['windowing']   || SUB_WINDOWING\n            ,   state           = args['state']\n            ,   heartbeat       = args['heartbeat'] || args['pnexpires']\n            ,   heartbeat_interval = args['heartbeat_interval']\n            ,   restore         = args['restore'] || SUB_RESTORE;\n\n            AUTH_KEY            = args['auth_key']    || AUTH_KEY;\n\n            // Restore Enabled?\n            SUB_RESTORE = restore;\n\n            // Always Reset the TT\n            TIMETOKEN = timetoken;\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) {\n                return error('Missing Channel');\n            }\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (heartbeat || heartbeat === 0 || heartbeat_interval || heartbeat_interval === 0) {\n                SELF['set_heartbeat'](heartbeat, heartbeat_interval);\n            }\n\n            // Setup Channel(s)\n            if (channel) {\n                each( (channel.join ? channel.join(',') : ''+channel).split(','),\n                function(channel) {\n                    var settings = CHANNELS[channel] || {};\n\n                    // Store Channel State\n                    CHANNELS[SUB_CHANNEL = channel] = {\n                        name         : channel,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    if (state) {\n                        if (channel in state) {\n                            STATE[channel] = state[channel];\n                        } else {\n                            STATE[channel] = state;\n                        }\n                    }\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel'  : channel + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel'  : channel,\n                        'data'     : _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel ); } );\n                        }\n                    });\n                } );\n            }\n\n            // Setup Channel Groups\n            if (channel_group) {\n                each( (channel_group.join ? channel_group.join(',') : ''+channel_group).split(','),\n                function(channel_group) {\n                    var settings = CHANNEL_GROUPS[channel_group] || {};\n\n                    CHANNEL_GROUPS[channel_group] = {\n                        name         : channel_group,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel_group'  : channel_group + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore,\n                        'auth_key' : AUTH_KEY\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel_group'  : channel_group,\n                        'data'           : _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel_group ); } );\n                        }\n                    });\n                } );\n            }\n\n\n            // Test Network Connection\n            function _test_connection(success) {\n                if (success) {\n                    // Begin Next Socket Connection\n                    timeout( CONNECT, windowing);\n                }\n                else {\n                    // New Origin on Failed Connection\n                    STD_ORIGIN = nextorigin( ORIGIN, 1 );\n                    SUB_ORIGIN = nextorigin( ORIGIN, 1 );\n\n                    // Re-test Connection\n                    timeout( function() {\n                        SELF['time'](_test_connection);\n                    }, SECOND );\n                }\n\n                // Disconnect & Reconnect\n                each_channel(function(channel){\n                    // Reconnect\n                    if (success && channel.disconnected) {\n                        channel.disconnected = 0;\n                        return channel.reconnect(channel.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel.disconnected) {\n                        channel.disconnected = 1;\n                        channel.disconnect(channel.name);\n                    }\n                });\n                \n                // Disconnect & Reconnect for channel groups\n                each_channel_group(function(channel_group){\n                    // Reconnect\n                    if (success && channel_group.disconnected) {\n                        channel_group.disconnected = 0;\n                        return channel_group.reconnect(channel_group.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel_group.disconnected) {\n                        channel_group.disconnected = 1;\n                        channel_group.disconnect(channel_group.name);\n                    }\n                });\n            }\n\n            // Evented Subscribe\n            function _connect() {\n                var jsonp           = jsonp_cb()\n                ,   channels        = generate_channel_list(CHANNELS).join(',')\n                ,   channel_groups  = generate_channel_group_list(CHANNEL_GROUPS).join(',');\n\n                // Stop Connection\n                if (!channels && !channel_groups) return;\n\n                if (!channels) channels = ',';\n\n                // Connect to PubNub Subscribe Servers\n                _reset_offline();\n\n                var data = _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY });\n\n                if (channel_groups) {\n                    data['channel-group'] = channel_groups;\n                }\n\n\n                var st = JSON.stringify(STATE);\n                if (st.length > 2) data['state'] = JSON.stringify(STATE);\n\n                if (PRESENCE_HB) data['heartbeat'] = PRESENCE_HB;\n\n                if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n                start_presence_heartbeat();\n                SUB_RECEIVER = xdr({\n                    timeout  : sub_timeout,\n                    callback : jsonp,\n                    fail     : function(response) {\n                        if (response && response['error'] && response['service']) {\n                            _invoke_error(response, SUB_ERROR);\n                            _test_connection(1);\n                        } else {\n                            SELF['time'](function(success){\n                                !success && ( _invoke_error(response, SUB_ERROR));\n                                _test_connection(success);\n                            });\n                        }\n                    },\n                    data     : _get_url_params(data),\n                    url      : [\n                        SUB_ORIGIN, 'subscribe',\n                        SUBSCRIBE_KEY, encode(channels),\n                        jsonp, TIMETOKEN\n                    ],\n                    success : function(messages) {\n\n                        // Check for Errors\n                        if (!messages || (\n                            typeof messages == 'object' &&\n                            'error' in messages         &&\n                            messages['error']\n                        )) {\n                            SUB_ERROR(messages['error']);\n                            return timeout( CONNECT, SECOND );\n                        }\n\n                        // User Idle Callback\n                        idlecb(messages[1]);\n\n                        // Restore Previous Connection Point if Needed\n                        TIMETOKEN = !TIMETOKEN               &&\n                                    SUB_RESTORE              &&\n                                    db['get'](SUBSCRIBE_KEY) || messages[1];\n\n                        /*\n                        // Connect\n                        each_channel_registry(function(registry){\n                            if (registry.connected) return;\n                            registry.connected = 1;\n                            registry.connect(channel.name);\n                        });\n                        */\n\n                        // Connect\n                        each_channel(function(channel){\n                            if (channel.connected) return;\n                            channel.connected = 1;\n                            channel.connect(channel.name);\n                        });\n\n                        // Connect for channel groups\n                        each_channel_group(function(channel_group){\n                            if (channel_group.connected) return;\n                            channel_group.connected = 1;\n                            channel_group.connect(channel_group.name);\n                        });\n\n                        if (RESUMED && !SUB_RESTORE) {\n                                TIMETOKEN = 0;\n                                RESUMED = false;\n                                // Update Saved Timetoken\n                                db['set']( SUBSCRIBE_KEY, 0 );\n                                timeout( _connect, windowing );\n                                return;\n                        }\n\n                        // Invoke Memory Catchup and Receive Up to 100\n                        // Previous Messages from the Queue.\n                        if (backfill) {\n                            TIMETOKEN = 10000;\n                            backfill  = 0;\n                        }\n\n                        // Update Saved Timetoken\n                        db['set']( SUBSCRIBE_KEY, messages[1] );\n\n                        // Route Channel <---> Callback for Message\n                        var next_callback = (function() {\n                            var channels = '';\n                            var channels2 = '';\n\n                            if (messages.length > 3) {\n                                channels  = messages[3];\n                                channels2 = messages[2];\n                            } else if (messages.length > 2) {\n                                channels = messages[2];\n                            } else {\n                                channels =  map(\n                                    generate_channel_list(CHANNELS), function(chan) { return map(\n                                        Array(messages[0].length)\n                                        .join(',').split(','),\n                                        function() { return chan; }\n                                    ) }).join(',')\n                            }\n\n                            var list  = channels.split(',');\n                            var list2 = (channels2)?channels2.split(','):[];\n\n                            return function() {\n                                var channel  = list.shift()||SUB_CHANNEL;\n                                var channel2 = list2.shift();\n\n                                var chobj = {};\n\n                                if (channel2) {\n                                    if (channel && channel.indexOf('-pnpres') >= 0 \n                                        && channel2.indexOf('-pnpres') < 0) {\n                                        channel2 += '-pnpres';\n                                    }\n                                    chobj = CHANNEL_GROUPS[channel2] || CHANNELS[channel2] || {'callback' : function(){}};\n                                } else {\n                                    chobj = CHANNELS[channel];\n                                }\n\n                                var r = [\n                                    chobj\n                                    .callback||SUB_CALLBACK,\n                                    channel.split(PRESENCE_SUFFIX)[0]\n                                ];\n                                channel2 && r.push(channel2.split(PRESENCE_SUFFIX)[0]);\n                                return r;\n                            };\n                        })();\n\n                        var latency = detect_latency(+messages[1]);\n                        each( messages[0], function(msg) {\n                            var next = next_callback();\n                            var decrypted_msg = decrypt(msg,\n                                (CHANNELS[next[1]])?CHANNELS[next[1]]['cipher_key']:null);\n                            next[0] && next[0]( decrypted_msg, messages, next[2] || next[1], latency, next[1]);\n                        });\n\n                        timeout( _connect, windowing );\n                    }\n                });\n            }\n\n            CONNECT = function() {\n                _reset_offline();\n                timeout( _connect, windowing );\n            };\n\n            // Reduce Status Flicker\n            if (!READY) return READY_BUFFER.push(CONNECT);\n\n            // Connect Now\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.here_now({ channel : 'my_chat', callback : fun });\n        */\n        'here_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   jsonp    = jsonp_cb()\n            ,   uuids    = ('uuids' in args) ? args['uuids'] : true\n            ,   state    = args['state']\n            ,   data     = { 'uuid' : UUID, 'auth' : auth_key };\n\n            if (!uuids) data['disable_uuids'] = 1;\n            if (state) data['state'] = 1;\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            var url = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY\n                ];\n\n            channel && url.push('channel') && url.push(encode(channel));\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (channel_group) {\n                data['channel-group'] = channel_group;\n                !channel && url.push('channel') && url.push(','); \n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n        },\n\n        /*\n            PUBNUB.current_channels_by_uuid({ channel : 'my_chat', callback : fun });\n        */\n        'where_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   uuid     = args['uuid']     || UUID\n            ,   data     = { 'auth' : auth_key };\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY,\n                    'uuid', encode(uuid)\n                ]\n            });\n        },\n\n        'state' : function(args, callback) {\n            var callback = args['callback'] || callback || function(r) {}\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   state    = args['state']\n            ,   uuid     = args['uuid'] || UUID\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   url\n            ,   data     = _get_url_params({ 'auth' : auth_key });\n\n            // Make sure we have a Channel\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!uuid) return error('Missing UUID');\n            if (!channel && !channel_group) return error('Missing Channel');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (typeof channel != 'undefined'\n                && CHANNELS[channel] && CHANNELS[channel].subscribed ) {\n                if (state) STATE[channel] = state;\n            }\n\n            if (typeof channel_group != 'undefined'\n                && CHANNEL_GROUPS[channel_group]\n                && CHANNEL_GROUPS[channel_group].subscribed\n                ) {\n                if (state) STATE[channel_group] = state;\n                data['channel-group'] = channel_group;\n\n                if (!channel) {\n                    channel = ',';\n                }\n            }\n\n            data['state'] = JSON.stringify(state);\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            if (state) {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', uuid, 'data'\n                ]\n            } else {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', encode(uuid)\n                ]\n            }\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n\n            });\n\n        },\n\n        /*\n            PUBNUB.grant({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                ttl      : 24 * 60, // Minutes\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'grant' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']  || args['channels']\n            ,   channel_group   = args['channel_group']\n            ,   jsonp           = jsonp_cb()\n            ,   ttl             = args['ttl']\n            ,   r               = (args['read'] )?\"1\":\"0\"\n            ,   w               = (args['write'])?\"1\":\"0\"\n            ,   m               = (args['manage'])?\"1\":\"0\"\n            ,   auth_key        = args['auth_key'] || args['auth_keys'];\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\" + PUBLISH_KEY + \"\\n\"\n                    + \"grant\" + \"\\n\";\n\n            var data = {\n                'w'         : w,\n                'r'         : r,\n                'timestamp' : timestamp\n            };\n            if (args['manage']) {\n                data['m'] = m;\n            }\n            if (isArray(channel)) {\n                channel = channel['join'](',');\n            }\n            if (isArray(auth_key)) {\n                auth_key = auth_key['join'](',');\n            }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (ttl || ttl === 0) data['ttl'] = ttl;\n\n            if (auth_key) data['auth'] = auth_key;\n\n            data = _get_url_params(data)\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'grant' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n         PUBNUB.mobile_gw_provision ({\n         device_id: 'A655FBA9931AB',\n         op       : 'add' | 'remove',\n         gw_type  : 'apns' | 'gcm',\n         channel  : 'my_chat',\n         callback : fun,\n         error    : fun,\n         });\n         */\n\n        'mobile_gw_provision' : function( args ) {\n\n            var callback = args['callback'] || function(){}\n                ,   auth_key       = args['auth_key'] || AUTH_KEY\n                ,   err            = args['error'] || function() {}\n                ,   jsonp          = jsonp_cb()\n                ,   channel        = args['channel']\n                ,   op             = args['op']\n                ,   gw_type        = args['gw_type']\n                ,   device_id      = args['device_id']\n                ,   params\n                ,   url;\n\n            if (!device_id)     return error('Missing Device ID (device_id)');\n            if (!gw_type)       return error('Missing GW Type (gw_type: gcm or apns)');\n            if (!op)            return error('Missing GW Operation (op: add or remove)');\n            if (!channel)       return error('Missing gw destination Channel (channel)');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'v1/push/sub-key',\n                SUBSCRIBE_KEY, 'devices', device_id\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key, 'type': gw_type};\n\n            if (op == \"add\") {\n                params['add'] = channel;\n            } else if (op == \"remove\") {\n                params['remove'] = channel;\n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n        },\n\n        /*\n            PUBNUB.audit({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'audit' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   auth_key        = args['auth_key']\n            ,   jsonp           = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\"\n                + PUBLISH_KEY + \"\\n\"\n                + \"audit\" + \"\\n\";\n\n            var data = {'timestamp' : timestamp };\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (auth_key) data['auth']    = auth_key;\n\n            data = _get_url_params(data);\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'audit' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.revoke({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'revoke' : function( args, callback ) {\n            args['read']  = false;\n            args['write'] = false;\n            SELF['grant']( args, callback );\n        },\n        'set_uuid' : function(uuid) {\n            UUID = uuid;\n            CONNECT();\n        },\n        'get_uuid' : function() {\n            return UUID;\n        },\n        'isArray'  : function(arg) {\n            return isArray(arg);\n        },\n        'get_subscibed_channels' : function() {\n            return generate_channel_list(CHANNELS, true);\n        },\n        'presence_heartbeat' : function(args) {\n            var callback = args['callback'] || function() {}\n            var err      = args['error']    || function() {}\n            var jsonp    = jsonp_cb();\n            var data     = { 'uuid' : UUID, 'auth' : AUTH_KEY };\n\n            var st = JSON['stringify'](STATE);\n            if (st.length > 2) data['state'] = JSON['stringify'](STATE);\n\n            if (PRESENCE_HB > 0 && PRESENCE_HB < 320) data['heartbeat'] = PRESENCE_HB;\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            var channels        = encode(generate_channel_list(CHANNELS, true)['join'](','));\n            var channel_groups  = generate_channel_group_list(CHANNEL_GROUPS, true)['join'](',');\n\n            if (!channels) channels = ',';\n            if (channel_groups) data['channel-group'] = channel_groups;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel' , channels,\n                    'heartbeat'\n                ],\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) { _invoke_error(response, err); }\n            });\n        },\n        'stop_timers': function () {\n            clearTimeout(_poll_timer);\n            clearTimeout(_poll_timer2);\n            clearTimeout(PRESENCE_HB_TIMEOUT);\n        },\n        'shutdown': function () {\n            SELF['stop_timers']();\n            shutdown && shutdown();\n        },\n\n        // Expose PUBNUB Functions\n        'xdr'           : xdr,\n        'ready'         : ready,\n        'db'            : db,\n        'uuid'          : generate_uuid,\n        'map'           : map,\n        'each'          : each,\n        'each-channel'  : each_channel,\n        'grep'          : grep,\n        'offline'       : function(){ _reset_offline(\n            1, { \"message\" : \"Offline. Please check your network settings.\" })\n        },\n        'supplant'      : supplant,\n        'now'           : rnow,\n        'unique'        : unique,\n        'updater'       : updater\n    };\n\n    function _poll_online() {\n        _is_online() || _reset_offline( 1, {\n            \"error\" : \"Offline. Please check your network settings. \"\n        });\n        _poll_timer && clearTimeout(_poll_timer);\n        _poll_timer = timeout( _poll_online, SECOND );\n    }\n\n    function _poll_online2() {\n        if (!TIME_CHECK) return;\n        SELF['time'](function(success){\n            detect_time_detla( function(){}, success );\n            success || _reset_offline( 1, {\n                \"error\" : \"Heartbeat failed to connect to Pubnub Servers.\" +\n                    \"Please check your network settings.\"\n                });\n            _poll_timer2 && clearTimeout(_poll_timer2);\n            _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n        });\n    }\n\n    function _reset_offline(err, msg) {\n        SUB_RECEIVER && SUB_RECEIVER(err, msg);\n        SUB_RECEIVER = null;\n\n        clearTimeout(_poll_timer);\n        clearTimeout(_poll_timer2);\n    }\n    \n    if (!UUID) UUID = SELF['uuid']();\n    if (!INSTANCEID) INSTANCEID = SELF['uuid']();\n    db['set']( SUBSCRIBE_KEY + 'uuid', UUID );\n\n    _poll_timer  = timeout( _poll_online,  SECOND    );\n    _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n    PRESENCE_HB_TIMEOUT = timeout(\n        start_presence_heartbeat,\n        ( PRESENCE_HB_INTERVAL - 3 ) * SECOND\n    );\n\n    // Detect Age of Message\n    function detect_latency(tt) {\n        var adjusted_time = rnow() - TIME_DRIFT;\n        return adjusted_time - tt / 10000;\n    }\n\n    detect_time_detla();\n    function detect_time_detla( cb, time ) {\n        var stime = rnow();\n\n        time && calculate(time) || SELF['time'](calculate);\n\n        function calculate(time) {\n            if (!time) return;\n            var ptime   = time / 10000\n            ,   latency = (rnow() - stime) / 2;\n            TIME_DRIFT = rnow() - (ptime + latency);\n            cb && cb(TIME_DRIFT);\n        }\n    }\n\n    return SELF;\n}\nfunction crypto_obj() {\n\n    function SHA256(s) {\n        return CryptoJS['SHA256'](s)['toString'](CryptoJS['enc']['Hex']);\n    }\n\n    var iv = \"0123456789012345\";\n\n    var allowedKeyEncodings = ['hex', 'utf8', 'base64', 'binary'];\n    var allowedKeyLengths = [128, 256];\n    var allowedModes = ['ecb', 'cbc'];\n\n    var defaultOptions = {\n        'encryptKey': true,\n        'keyEncoding': 'utf8',\n        'keyLength': 256,\n        'mode': 'cbc'\n    };\n\n    function parse_options(options) {\n\n        // Defaults\n        options = options || {};\n        if (!options['hasOwnProperty']('encryptKey')) options['encryptKey'] = defaultOptions['encryptKey'];\n        if (!options['hasOwnProperty']('keyEncoding')) options['keyEncoding'] = defaultOptions['keyEncoding'];\n        if (!options['hasOwnProperty']('keyLength')) options['keyLength'] = defaultOptions['keyLength'];\n        if (!options['hasOwnProperty']('mode')) options['mode'] = defaultOptions['mode'];\n\n        // Validation\n        if (allowedKeyEncodings['indexOf'](options['keyEncoding']['toLowerCase']()) == -1) options['keyEncoding'] = defaultOptions['keyEncoding'];\n        if (allowedKeyLengths['indexOf'](parseInt(options['keyLength'], 10)) == -1) options['keyLength'] = defaultOptions['keyLength'];\n        if (allowedModes['indexOf'](options['mode']['toLowerCase']()) == -1) options['mode'] = defaultOptions['mode'];\n\n        return options;\n\n    }\n\n    function decode_key(key, options) {\n        if (options['keyEncoding'] == 'base64') {\n            return CryptoJS['enc']['Base64']['parse'](key);\n        } else if (options['keyEncoding'] == 'hex') {\n            return CryptoJS['enc']['Hex']['parse'](key);\n        } else {\n            return key;\n        }\n    }\n\n    function get_padded_key(key, options) {\n        key = decode_key(key, options);\n        if (options['encryptKey']) {\n            return CryptoJS['enc']['Utf8']['parse'](SHA256(key)['slice'](0, 32));\n        } else {\n            return key;\n        }\n    }\n\n    function get_mode(options) {\n        if (options['mode'] == 'ecb') {\n            return CryptoJS['mode']['ECB'];\n        } else {\n            return CryptoJS['mode']['CBC'];\n        }\n    }\n\n    function get_iv(options) {\n        return (options['mode'] == 'cbc') ? CryptoJS['enc']['Utf8']['parse'](iv) : null;\n    }\n\n    return {\n\n        'encrypt': function(data, key, options) {\n            if (!key) return data;\n            options = parse_options(options);\n            var iv = get_iv(options);\n            var mode = get_mode(options);\n            var cipher_key = get_padded_key(key, options);\n            var hex_message = JSON['stringify'](data);\n            var encryptedHexArray = CryptoJS['AES']['encrypt'](hex_message, cipher_key, {'iv': iv, 'mode': mode})['ciphertext'];\n            var base_64_encrypted = encryptedHexArray['toString'](CryptoJS['enc']['Base64']);\n            return base_64_encrypted || data;\n        },\n\n        'decrypt': function(data, key, options) {\n            if (!key) return data;\n            options = parse_options(options);\n            var iv = get_iv(options);\n            var mode = get_mode(options);\n            var cipher_key = get_padded_key(key, options);\n            try {\n                var binary_enc = CryptoJS['enc']['Base64']['parse'](data);\n                var json_plain = CryptoJS['AES']['decrypt']({'ciphertext': binary_enc}, cipher_key, {'iv': iv, 'mode': mode})['toString'](CryptoJS['enc']['Utf8']);\n                var plaintext = JSON['parse'](json_plain);\n                return plaintext;\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n    };\n}\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     UTIL     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nwindow['PUBNUB'] || (function() {\n\n/**\n * UTIL LOCALS\n */\n\nvar SWF             = 'https://pubnub.a.ssl.fastly.net/pubnub.swf'\n,   ASYNC           = 'async'\n,   UA              = navigator.userAgent\n,   PNSDK           = 'PubNub-JS-' + 'Web' + '/' + '3.7.14'\n,   XORIGN          = UA.indexOf('MSIE 6') == -1;\n\n/**\n * CONSOLE COMPATIBILITY\n */\nwindow.console || (window.console=window.console||{});\nconsole.log    || (\n    console.log   =\n    console.error =\n    ((window.opera||{}).postError||function(){})\n);\n\n/**\n * LOCAL STORAGE OR COOKIE\n */\nvar db = (function(){\n    var store = {};\n    var ls = false;\n    try {\n        ls = window['localStorage'];\n    } catch (e) { }\n    var cookieGet = function(key) {\n        if (document.cookie.indexOf(key) == -1) return null;\n        return ((document.cookie||'').match(\n            RegExp(key+'=([^;]+)')\n        )||[])[1] || null;\n    };\n    var cookieSet = function( key, value ) {\n        document.cookie = key + '=' + value +\n            '; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/';\n    };\n    var cookieTest = (function() {\n        try {\n            cookieSet('pnctest', '1');\n            return cookieGet('pnctest') === '1';\n        } catch (e) {\n            return false;\n        }\n    }());\n    return {\n        'get' : function(key) {\n            try {\n                if (ls) return ls.getItem(key);\n                if (cookieTest) return cookieGet(key);\n                return store[key];\n            } catch(e) {\n                return store[key];\n            }\n        },\n        'set' : function( key, value ) {\n            try {\n                if (ls) return ls.setItem( key, value ) && 0;\n                if (cookieTest) cookieSet( key, value );\n                store[key] = value;\n            } catch(e) {\n                store[key] = value;\n            }\n        }\n    };\n})();\n\nfunction get_hmac_SHA256(data,key) {\n    var hash = CryptoJS['HmacSHA256'](data, key);\n    return hash.toString(CryptoJS['enc']['Base64']);\n}\n\n/**\n * $\n * =\n * var div = $('divid');\n */\nfunction $(id) { return document.getElementById(id) }\n\n/**\n * ERROR\n * =====\n * error('message');\n */\nfunction error(message) { console['error'](message) }\n\n/**\n * SEARCH\n * ======\n * var elements = search('a div span');\n */\nfunction search( elements, start) {\n    var list = [];\n    each( elements.split(/\\s+/), function(el) {\n        each( (start || document).getElementsByTagName(el), function(node) {\n            list.push(node);\n        } );\n    });\n    return list;\n}\n\n/**\n * BIND\n * ====\n * bind( 'keydown', search('a')[0], function(element) {\n *     ...\n * } );\n */\nfunction bind( type, el, fun ) {\n    each( type.split(','), function(etype) {\n        var rapfun = function(e) {\n            if (!e) e = window.event;\n            if (!fun(e)) {\n                e.cancelBubble = true;\n                e.preventDefault  && e.preventDefault();\n                e.stopPropagation && e.stopPropagation();\n            }\n        };\n\n        if ( el.addEventListener ) el.addEventListener( etype, rapfun, false );\n        else if ( el.attachEvent ) el.attachEvent( 'on' + etype, rapfun );\n        else  el[ 'on' + etype ] = rapfun;\n    } );\n}\n\n/**\n * UNBIND\n * ======\n * unbind( 'keydown', search('a')[0] );\n */\nfunction unbind( type, el, fun ) {\n    if ( el.removeEventListener ) el.removeEventListener( type, false );\n    else if ( el.detachEvent ) el.detachEvent( 'on' + type, false );\n    else  el[ 'on' + type ] = null;\n}\n\n/**\n * HEAD\n * ====\n * head().appendChild(elm);\n */\nfunction head() { return search('head')[0] }\n\n/**\n * ATTR\n * ====\n * var attribute = attr( node, 'attribute' );\n */\nfunction attr( node, attribute, value ) {\n    if (value) node.setAttribute( attribute, value );\n    else return node && node.getAttribute && node.getAttribute(attribute);\n}\n\n/**\n * CSS\n * ===\n * var obj = create('div');\n */\nfunction css( element, styles ) {\n    for (var style in styles) if (styles.hasOwnProperty(style))\n        try {element.style[style] = styles[style] + (\n            '|width|height|top|left|'.indexOf(style) > 0 &&\n            typeof styles[style] == 'number'\n            ? 'px' : ''\n        )}catch(e){}\n}\n\n/**\n * CREATE\n * ======\n * var obj = create('div');\n */\nfunction create(element) { return document.createElement(element) }\n\n\n/**\n * jsonp_cb\n * ========\n * var callback = jsonp_cb();\n */\nfunction jsonp_cb() { return XORIGN || FDomainRequest() ? 0 : unique() }\n\n\n\n/**\n * EVENTS\n * ======\n * PUBNUB.events.bind( 'you-stepped-on-flower', function(message) {\n *     // Do Stuff with message\n * } );\n *\n * PUBNUB.events.fire( 'you-stepped-on-flower', \"message-data\" );\n * PUBNUB.events.fire( 'you-stepped-on-flower', {message:\"data\"} );\n * PUBNUB.events.fire( 'you-stepped-on-flower', [1,2,3] );\n *\n */\nvar events = {\n    'list'   : {},\n    'unbind' : function( name ) { events.list[name] = [] },\n    'bind'   : function( name, fun ) {\n        (events.list[name] = events.list[name] || []).push(fun);\n    },\n    'fire' : function( name, data ) {\n        each(\n            events.list[name] || [],\n            function(fun) { fun(data) }\n        );\n    }\n};\n\n/**\n * XDR Cross Domain Request\n * ========================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction xdr( setup ) {\n    if (XORIGN || FDomainRequest()) return ajax(setup);\n\n    var script    = create('script')\n    ,   callback  = setup.callback\n    ,   id        = unique()\n    ,   finished  = 0\n    ,   xhrtme    = setup.timeout || DEF_TIMEOUT\n    ,   timer     = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail      = setup.fail    || function(){}\n    ,   data      = setup.data    || {}\n    ,   success   = setup.success || function(){}\n    ,   append    = function() { head().appendChild(script) }\n    ,   done      = function( failed, response ) {\n            if (finished) return;\n            finished = 1;\n\n            script.onerror = null;\n            clearTimeout(timer);\n\n            (failed || !response) || success(response);\n\n            timeout( function() {\n                failed && fail();\n                var s = $(id)\n                ,   p = s && s.parentNode;\n                p && p.removeChild(s);\n            }, SECOND );\n        };\n\n    window[callback] = function(response) {\n        done( 0, response );\n    };\n\n    if (!setup.blocking) script[ASYNC] = ASYNC;\n\n    script.onerror = function() { done(1) };\n    script.src     = build_url( setup.url, data );\n\n    attr( script, 'id', id );\n\n    append();\n    return done;\n}\n\n/**\n * CORS XHR Request\n * ================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction ajax( setup ) {\n    var xhr, response\n    ,   finished = function() {\n            if (loaded) return;\n            loaded = 1;\n\n            clearTimeout(timer);\n\n            try       { response = JSON['parse'](xhr.responseText); }\n            catch (r) { return done(1); }\n\n            complete = 1;\n            success(response);\n        }\n    ,   complete = 0\n    ,   loaded   = 0\n    ,   xhrtme   = setup.timeout || DEF_TIMEOUT\n    ,   timer    = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail     = setup.fail    || function(){}\n    ,   data     = setup.data    || {}\n    ,   success  = setup.success || function(){}\n    ,   async    = !(setup.blocking)\n    ,   done     = function(failed,response) {\n            if (complete) return;\n            complete = 1;\n\n            clearTimeout(timer);\n\n            if (xhr) {\n                xhr.onerror = xhr.onload = null;\n                xhr.abort && xhr.abort();\n                xhr = null;\n            }\n\n            failed && fail(response);\n        };\n\n    // Send\n    try {\n        xhr = FDomainRequest()      ||\n              window.XDomainRequest &&\n              new XDomainRequest()  ||\n              new XMLHttpRequest();\n\n        xhr.onerror = xhr.onabort   = function(e){ done(\n            1, e || (xhr && xhr.responseText) || { \"error\" : \"Network Connection Error\"}\n        ) };\n        xhr.onload  = xhr.onloadend = finished;\n        xhr.onreadystatechange = function() {\n            if (xhr && xhr.readyState == 4) {\n                switch(xhr.status) {\n                    case 200:\n                        break;\n                    default:\n                        try {\n                            response = JSON['parse'](xhr.responseText);\n                            done(1,response);\n                        }\n                        catch (r) { return done(1, {status : xhr.status, payload : null, message : xhr.responseText}); }\n                        return;\n                }\n            }\n        }\n\n        var url = build_url(setup.url,data);\n\n        xhr.open( 'GET', url, async );\n        if (async) xhr.timeout = xhrtme;\n        xhr.send();\n    }\n    catch(eee) {\n        done(0);\n        XORIGN = 0;\n        return xdr(setup);\n    }\n\n    // Return 'done'\n    return done;\n}\n\n// Test Connection State\nfunction _is_online() {\n    if (!('onLine' in navigator)) return 1;\n    try       { return navigator['onLine'] }\n    catch (e) { return true }\n}\n\n\nfunction sendBeacon(url) {\n    if (!('sendBeacon' in navigator)) return false;\n\n    return navigator['sendBeacon'](url);\n}\n\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     PUBNUB     ===========================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nvar PDIV          = $('pubnub') || 0\n,   CREATE_PUBNUB = function(setup) {\n\n    // Force JSONP if requested from user.\n    if (setup['jsonp'])  XORIGN = 0;\n    else                 XORIGN = UA.indexOf('MSIE 6') == -1;\n\n    var SUBSCRIBE_KEY = setup['subscribe_key'] || ''\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   UUID          = setup['uuid'] || db['get'](SUBSCRIBE_KEY+'uuid')||'';\n\n    var leave_on_unload = setup['leave_on_unload'] || 0;\n\n    setup['xdr']        = xdr;\n    setup['db']         = db;\n    setup['error']      = setup['error'] || error;\n    setup['_is_online'] = _is_online;\n    setup['jsonp_cb']   = jsonp_cb;\n    setup['hmac_SHA256']= get_hmac_SHA256;\n    setup['crypto_obj'] = crypto_obj();\n    setup['sendBeacon'] = sendBeacon;\n    setup['params']     = { 'pnsdk' : PNSDK }\n\n    var SELF = function(setup) {\n        return CREATE_PUBNUB(setup);\n    };\n\n    var PN = PN_API(setup);\n\n    for (var prop in PN) {\n        if (PN.hasOwnProperty(prop)) {\n            SELF[prop] = PN[prop];\n        }\n    }\n    SELF['css']         = css;\n    SELF['$']           = $;\n    SELF['create']      = create;\n    SELF['bind']        = bind;\n    SELF['head']        = head;\n    SELF['search']      = search;\n    SELF['attr']        = attr;\n    SELF['events']      = events;\n    SELF['init']        = SELF;\n    SELF['secure']      = SELF;\n    SELF['crypto_obj']  = crypto_obj(); // export to instance\n\n\n    // Add Leave Functions\n    bind( 'beforeunload', window, function() {\n        if (leave_on_unload) SELF['each-channel'](function(ch){ SELF['LEAVE']( ch.name, 0 ) });\n        return true;\n    } );\n\n    // Return without Testing\n    if (setup['notest']) return SELF;\n\n    bind( 'offline', window,   SELF['offline'] );\n    bind( 'offline', document, SELF['offline'] );\n\n    // Return PUBNUB Socket Object\n    return SELF;\n};\nCREATE_PUBNUB['init']   = CREATE_PUBNUB;\nCREATE_PUBNUB['secure'] = CREATE_PUBNUB;\nCREATE_PUBNUB['crypto_obj'] = crypto_obj(); // export to constructor\n\n// Bind for PUBNUB Readiness to Subscribe\nif (document.readyState === 'complete') {\n    timeout( ready, 0 );\n}\nelse {\n    bind( 'load', window, function(){ timeout( ready, 0 ) } );\n}\n\nvar pdiv = PDIV || {};\n\n// CREATE A PUBNUB GLOBAL OBJECT\nPUBNUB = CREATE_PUBNUB({\n    'notest'        : 1,\n    'publish_key'   : attr( pdiv, 'pub-key' ),\n    'subscribe_key' : attr( pdiv, 'sub-key' ),\n    'ssl'           : !document.location.href.indexOf('https') ||\n                      attr( pdiv, 'ssl' ) == 'on',\n    'origin'        : attr( pdiv, 'origin' ),\n    'uuid'          : attr( pdiv, 'uuid' )\n});\n\n// jQuery Interface\nwindow['jQuery'] && (window['jQuery']['PUBNUB'] = CREATE_PUBNUB);\n\n// For Modern JS + Testling.js - http://testling.com/\ntypeof(module) !== 'undefined' && (module['exports'] = PUBNUB) && ready();\n\nvar pubnubs = $('pubnubs') || 0;\n\n// LEAVE NOW IF NO PDIV.\nif (!PDIV) return;\n\n// PUBNUB Flash Socket\ncss( PDIV, { 'position' : 'absolute', 'top' : -SECOND } );\n\nif ('opera' in window || attr( PDIV, 'flash' )) PDIV['innerHTML'] =\n    '<object id=pubnubs data='  + SWF +\n    '><param name=movie value=' + SWF +\n    '><param name=allowscriptaccess value=always></object>';\n\n// Create Interface for Opera Flash\nPUBNUB['rdx'] = function( id, data ) {\n    if (!data) return FDomainRequest[id]['onerror']();\n    FDomainRequest[id]['responseText'] = unescape(data);\n    FDomainRequest[id]['onload']();\n};\n\nfunction FDomainRequest() {\n    if (!pubnubs || !pubnubs['get']) return 0;\n\n    var fdomainrequest = {\n        'id'    : FDomainRequest['id']++,\n        'send'  : function() {},\n        'abort' : function() { fdomainrequest['id'] = {} },\n        'open'  : function( method, url ) {\n            FDomainRequest[fdomainrequest['id']] = fdomainrequest;\n            pubnubs['get']( fdomainrequest['id'], url );\n        }\n    };\n\n    return fdomainrequest;\n}\nFDomainRequest['id'] = SECOND;\n\n})();\n(function(){\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET INTERFACE\n// ---------------------------------------------------------------------------\nvar WS = PUBNUB['ws'] = function( url, protocols ) {\n    if (!(this instanceof WS)) return new WS( url, protocols );\n\n    var self     = this\n    ,   url      = self.url      = url || ''\n    ,   protocol = self.protocol = protocols || 'Sec-WebSocket-Protocol'\n    ,   bits     = url.split('/')\n    ,   setup    = {\n         'ssl'           : bits[0] === 'wss:'\n        ,'origin'        : bits[2]\n        ,'publish_key'   : bits[3]\n        ,'subscribe_key' : bits[4]\n        ,'channel'       : bits[5]\n    };\n\n    // READY STATES\n    self['CONNECTING'] = 0; // The connection is not yet open.\n    self['OPEN']       = 1; // The connection is open and ready to communicate.\n    self['CLOSING']    = 2; // The connection is in the process of closing.\n    self['CLOSED']     = 3; // The connection is closed or couldn't be opened.\n\n    // CLOSE STATES\n    self['CLOSE_NORMAL']         = 1000; // Normal Intended Close; completed.\n    self['CLOSE_GOING_AWAY']     = 1001; // Closed Unexpecttedly.\n    self['CLOSE_PROTOCOL_ERROR'] = 1002; // Server: Not Supported.\n    self['CLOSE_UNSUPPORTED']    = 1003; // Server: Unsupported Protocol.\n    self['CLOSE_TOO_LARGE']      = 1004; // Server: Too Much Data.\n    self['CLOSE_NO_STATUS']      = 1005; // Server: No reason.\n    self['CLOSE_ABNORMAL']       = 1006; // Abnormal Disconnect.\n\n    // Events Default\n    self['onclose']   = self['onerror'] =\n    self['onmessage'] = self['onopen']  =\n    self['onsend']    =  function(){};\n\n    // Attributes\n    self['binaryType']     = '';\n    self['extensions']     = '';\n    self['bufferedAmount'] = 0;\n    self['trasnmitting']   = false;\n    self['buffer']         = [];\n    self['readyState']     = self['CONNECTING'];\n\n    // Close if no setup.\n    if (!url) {\n        self['readyState'] = self['CLOSED'];\n        self['onclose']({\n            'code'     : self['CLOSE_ABNORMAL'],\n            'reason'   : 'Missing URL',\n            'wasClean' : true\n        });\n        return self;\n    }\n\n    // PubNub WebSocket Emulation\n    self.pubnub       = PUBNUB['init'](setup);\n    self.pubnub.setup = setup;\n    self.setup        = setup;\n\n    self.pubnub['subscribe']({\n        'restore'    : false,\n        'channel'    : setup['channel'],\n        'disconnect' : self['onerror'],\n        'reconnect'  : self['onopen'],\n        'error'      : function() {\n            self['onclose']({\n                'code'     : self['CLOSE_ABNORMAL'],\n                'reason'   : 'Missing URL',\n                'wasClean' : false\n            });\n        },\n        'callback'   : function(message) {\n            self['onmessage']({ 'data' : message });\n        },\n        'connect'    : function() {\n            self['readyState'] = self['OPEN'];\n            self['onopen']();\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET SEND\n// ---------------------------------------------------------------------------\nWS.prototype.send = function(data) {\n    var self = this;\n    self.pubnub['publish']({\n        'channel'  : self.pubnub.setup['channel'],\n        'message'  : data,\n        'callback' : function(response) {\n            self['onsend']({ 'data' : response });\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET CLOSE\n// ---------------------------------------------------------------------------\nWS.prototype.close = function() {\n    var self = this;\n    self.pubnub['unsubscribe']({ 'channel' : self.pubnub.setup['channel'] });\n    self['readyState'] = self['CLOSED'];\n    self['onclose']({});\n};\n\n})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(h,s){var f={},g=f.lib={},q=function(){},m=g.Base={extend:function(a){q.prototype=this;var c=new q;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\nr=g.WordArray=m.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=s?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var c=this.words,d=a.words,b=this.sigBytes;a=a.sigBytes;this.clamp();if(b%4)for(var e=0;e<a;e++)c[b+e>>>2]|=(d[e>>>2]>>>24-8*(e%4)&255)<<24-8*((b+e)%4);else if(65535<d.length)for(e=0;e<a;e+=4)c[b+e>>>2]=d[e>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n32-8*(c%4);a.length=h.ceil(c/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*h.random()|0);return new r.init(c,a)}}),l=f.enc={},k=l.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++){var e=c[b>>>2]>>>24-8*(b%4)&255;d.push((e>>>4).toString(16));d.push((e&15).toString(16))}return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b+=2)d[b>>>3]|=parseInt(a.substr(b,\n2),16)<<24-4*(b%8);return new r.init(d,c/2)}},n=l.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++)d.push(String.fromCharCode(c[b>>>2]>>>24-8*(b%4)&255));return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b++)d[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return new r.init(d,c)}},j=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},\nu=g.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=j.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,b=c.sigBytes,e=this.blockSize,f=b/(4*e),f=a?h.ceil(f):h.max((f|0)-this._minBufferSize,0);a=f*e;b=h.min(4*a,b);if(a){for(var g=0;g<a;g+=e)this._doProcessBlock(d,g);g=d.splice(0,a);c.sigBytes-=b}return new r.init(g,b)},clone:function(){var a=m.clone.call(this);\na._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=u.extend({cfg:m.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new t.HMAC.init(a,\nd)).finalize(c)}}});var t=f.algo={};return f}(Math);\n\n// SHA256\n(function(h){for(var s=CryptoJS,f=s.lib,g=f.WordArray,q=f.Hasher,f=s.algo,m=[],r=[],l=function(a){return 4294967296*(a-(a|0))|0},k=2,n=0;64>n;){var j;a:{j=k;for(var u=h.sqrt(j),t=2;t<=u;t++)if(!(j%t)){j=!1;break a}j=!0}j&&(8>n&&(m[n]=l(h.pow(k,0.5))),r[n]=l(h.pow(k,1/3)),n++);k++}var a=[],f=f.SHA256=q.extend({_doReset:function(){this._hash=new g.init(m.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],g=b[2],j=b[3],h=b[4],m=b[5],n=b[6],q=b[7],p=0;64>p;p++){if(16>p)a[p]=\nc[d+p]|0;else{var k=a[p-15],l=a[p-2];a[p]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+a[p-7]+((l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10)+a[p-16]}k=q+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&m^~h&n)+r[p]+a[p];l=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&g^f&g);q=n;n=m;m=h;h=j+k|0;j=g;g=f;f=e;e=k+l|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+g|0;b[3]=b[3]+j|0;b[4]=b[4]+h|0;b[5]=b[5]+m|0;b[6]=b[6]+n|0;b[7]=b[7]+q|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;\nd[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=q.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=q._createHelper(f);s.HmacSHA256=q._createHmacHelper(f)})(Math);\n\n// HMAC SHA256\n(function(){var h=CryptoJS,s=h.enc.Utf8;h.algo.HMAC=h.lib.Base.extend({init:function(f,g){f=this._hasher=new f.init;\"string\"==typeof g&&(g=s.parse(g));var h=f.blockSize,m=4*h;g.sigBytes>m&&(g=f.finalize(g));g.clamp();for(var r=this._oKey=g.clone(),l=this._iKey=g.clone(),k=r.words,n=l.words,j=0;j<h;j++)k[j]^=1549556828,n[j]^=909522486;r.sigBytes=l.sigBytes=m;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var g=\nthis._hasher;f=g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f))}})})();\n\n// Base64\n(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+0.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join(\"\")},parse:function(d){var l=d.length,s=this._map,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<\nl;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n\n// BlockCipher\n(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},\n_doProcessBlock:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),\nf=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,\nm,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,\nE,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/\n4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this._process();b=this._hash;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});t.MD5=v._createHelper(r);t.HmacMD5=v._createHmacHelper(r)})(Math);\n(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,\nl)}})();\n\n// Cipher\nCryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this._xformMode=e;this._key=a;this.reset()},reset:function(){t.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},\nfinalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return(\"string\"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return(\"string\"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d<b;d++)e[a+d]^=\nc[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e;this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this._prevBlock=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,\ne,a,c);this._prevBlock=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,\nthis,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,\n1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},\ndecrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return\"string\"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,\nb.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this._parse(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();\n\n// AES\n(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,\n16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this._invKeySchedule=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>\n8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=\nd[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p._createHelper(d)})();\n\n// Mode ECB\nCryptoJS.mode.ECB = (function () {\n    var ECB = CryptoJS.lib.BlockCipherMode.extend();\n\n    ECB.Encryptor = ECB.extend({\n        processBlock: function (words, offset) {\n            this._cipher.encryptBlock(words, offset);\n        }\n    });\n\n    ECB.Decryptor = ECB.extend({\n        processBlock: function (words, offset) {\n            this._cipher.decryptBlock(words, offset);\n        }\n    });\n\n    return ECB;\n}());// Moved to hmac-sha-256.js\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/pubnub/web/pubnub.js\n ** module id = 10\n ** module chunks = 0\n **/","export default class Cache {\n\n    static defaultPrefix = 'rc-';\n\n    constructor(storage, prefix) {\n        this.setPrefix(prefix);\n        this._storage = storage;\n    }\n\n    setPrefix(prefix) {\n        this._prefix = prefix || Cache.defaultPrefix;\n        return this;\n    }\n\n    setItem(key, data) {\n        this._storage[this._prefixKey(key)] = JSON.stringify(data);\n        return this;\n    }\n\n    removeItem(key) {\n        delete this._storage[this._prefixKey(key)];\n        return this;\n    }\n\n    getItem(key) {\n        var item = this._storage[this._prefixKey(key)];\n        if (!item) return null;\n        return JSON.parse(item);\n    }\n\n    clean() {\n\n        for (var key in this._storage) {\n\n            if (!this._storage.hasOwnProperty(key)) continue;\n\n            if (key.indexOf(this._prefix) === 0) {\n                delete this._storage[key];\n            }\n\n        }\n\n        return this;\n\n    }\n\n    _prefixKey(key) {\n        return this._prefix + key;\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Cache.js\n **/","export default class Observable {\n\n    constructor() {\n        this.off();\n    }\n\n    hasListeners(event) {\n        return (event in this._listeners);\n    }\n\n    on(events, callback) {\n\n        if (typeof events == 'string') events = [events];\n        if (!events) throw new Error('No events to subscribe to');\n        if (typeof callback !== 'function') throw new Error('Callback must be a function');\n\n        events.forEach((event) => {\n\n            if (!this.hasListeners(event)) this._listeners[event] = [];\n\n            this._listeners[event].push(callback);\n\n        });\n\n        return this;\n\n    }\n\n    emit(event, ...args) {\n\n        var result = null;\n\n        if (!this.hasListeners(event)) return null;\n\n        this._listeners[event].some((callback) => {\n\n            result = callback.apply(this, args);\n            return (result === false);\n\n        });\n\n        return result;\n\n    }\n\n    off(event, callback) {\n\n        if (!event) {\n\n            this._listeners = {};\n\n        } else {\n\n            if (!callback) {\n\n                delete this._listeners[event];\n\n            } else {\n\n                if (!this.hasListeners(event)) return this;\n\n                this._listeners[event].forEach((cb, i) => {\n\n                    if (cb === callback) delete this._listeners[event][i];\n\n                });\n\n            }\n\n        }\n\n        return this;\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Observable.js\n **/","import {Promise} from '../core/Externals';\nimport {poll, stopPolling} from './Utils';\n\nexport default class Queue {\n\n    static _pollInterval = 250;\n    static _releaseTimeout = 5000;\n\n    constructor(cache, cacheId) {\n\n        this._cache = cache;\n        this._cacheId = cacheId;\n        this._promise = null;\n\n    }\n\n    isPaused() {\n\n        var time = this._cache.getItem(this._cacheId);\n\n        return !!time && Date.now() - parseInt(time) < Queue._releaseTimeout;\n    }\n\n    pause() {\n        this._cache.setItem(this._cacheId, Date.now());\n        return this;\n    }\n\n    resume() {\n        this._cache.removeItem(this._cacheId);\n        return this;\n    }\n\n    poll() {\n\n        if (this._promise) return this._promise;\n\n        this._promise = new Promise((resolve, reject) => {\n\n            poll((next) => {\n\n                if (this.isPaused()) return next();\n\n                this._promise = null;\n\n                this.resume(); // this is actually not needed but why not\n\n                resolve(null);\n\n            }, Queue._pollInterval);\n\n        });\n\n        return this._promise;\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Queue.js\n **/","import {fetch, Request, Response, Headers, Promise} from '../core/Externals';\nimport {queryStringify} from '../core/Utils';\nimport {findHeaderName} from './Utils';\nimport Observable from '../core/Observable';\nimport ApiResponse from './ApiResponse';\n\nexport default class Client extends Observable {\n\n    static _allowedMethods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'];\n\n    events = {\n        beforeRequest: 'beforeRequest',\n        requestSuccess: 'requestSuccess',\n        requestError: 'requestError'\n    };\n\n    /**\n     * @param {Request} request\n     * @return {Promise<ApiResponse>}\n     */\n    async sendRequest(request) {\n\n        var apiResponse = new ApiResponse(request);\n\n        try {\n\n            //TODO Stop request if listeners return false\n            this.emit(this.events.beforeRequest, apiResponse);\n\n            apiResponse._response = await this._loadResponse(request);\n\n            if (apiResponse._isMultipart() || apiResponse._isJson()) {\n                apiResponse._text = await apiResponse.response().text();\n            }\n\n            if (!apiResponse.ok()) throw new Error('Response has unsuccessful status');\n\n            this.emit(this.events.requestSuccess, apiResponse);\n\n            return apiResponse;\n\n        } catch (e) {\n\n            if (!e.apiResponse) e = this.makeError(e, apiResponse);\n\n            this.emit(this.events.requestError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @param {Request} request\n     * @return {Promise<Response>}\n     * @private\n     */\n    async _loadResponse(request) {\n        return await fetch.call(null, request);\n    }\n\n    /**\n     * Wraps the JS Error object with transaction information\n     * @param {Error|IApiError} e\n     * @param {ApiResponse} apiResponse\n     * @return {IApiError}\n     */\n    makeError(e, apiResponse) {\n\n        // Wrap only if regular error\n        if (!e.hasOwnProperty('apiResponse') && !e.hasOwnProperty('originalMessage')) {\n\n            e.apiResponse = apiResponse;\n            e.originalMessage = e.message;\n            e.message = (apiResponse && apiResponse.error(true)) || e.originalMessage;\n\n        }\n\n        return e;\n\n    }\n\n    /**\n     *\n     * @param {object} init\n     * @param {object} [init.url]\n     * @param {object} [init.body]\n     * @param {string} [init.method]\n     * @param {object} [init.query]\n     * @param {object} [init.headers]\n     * @return {Request}\n     */\n    createRequest(init) {\n\n        init = init || {};\n        init.headers = init.headers || {};\n\n        // Sanity checks\n        if (!init.url) throw new Error('Url is not defined');\n        if (!init.method) init.method = 'GET';\n        if (init.method && Client._allowedMethods.indexOf(init.method) < 0) throw new Error('Method has wrong value: ' + init.method);\n\n        // Defaults\n        init.credentials = init.credentials || 'include';\n        init.mode = init.mode || 'cors';\n\n        // Append Query String\n        if (init.query) {\n            init.url = init.url + (init.url.indexOf('?') > -1 ? '&' : '?') + queryStringify(init.query);\n        }\n\n        if (!(findHeaderName('Accept', init.headers))) {\n            init.headers['Accept'] = ApiResponse._jsonContentType;\n        }\n\n        // Serialize body\n        //TODO Check that body is a plain object\n        if (typeof init.body !== 'string' || !init.body) {\n\n            var contentTypeHeaderName = findHeaderName(ApiResponse._contentType, init.headers);\n\n            if (!contentTypeHeaderName) {\n                contentTypeHeaderName = ApiResponse._contentType;\n                init.headers[contentTypeHeaderName] = ApiResponse._jsonContentType;\n            }\n\n            var contentType = init.headers[contentTypeHeaderName];\n\n            // Assign a new encoded body\n            if (contentType.indexOf(ApiResponse._jsonContentType) > -1) {\n                init.body = JSON.stringify(init.body);\n            } else if (contentType.indexOf(ApiResponse._urlencodedContentType) > -1) {\n                init.body = queryStringify(init.body);\n            }\n\n        }\n\n        // Create a request with encoded body\n        var req = new Request(init.url, init);\n\n        // Keep the original body accessible directly (for mocks)\n        req.originalBody = init.body;\n\n        return req;\n\n    }\n\n}\n\n/**\n * @name IApiError\n * @property {string} stack\n * @property {string} originalMessage\n * @property {ApiResponse} apiResponse\n */\n\n\n/** WEBPACK FOOTER **\n ** ./src/http/Client.js\n **/","import {fetch, Request, Response, Headers, Promise} from '../core/Externals';\nimport * as utils from '../core/Utils';\n\n/**\n * Creates a response\n * @param stringBody\n * @param init\n * @return {Response}\n */\nexport function createResponse(stringBody, init) {\n\n    init = init || {};\n\n    var response = new Response(stringBody, init);\n\n    //TODO Wait for https://github.com/bitinn/node-fetch/issues/38\n    if (utils.isNodeJS()) {\n\n        response._text = stringBody;\n        response._decode = function() {\n            return this._text;\n        };\n\n    }\n\n    return response;\n\n}\n\nexport function findHeaderName(name, headers) {\n    name = name.toLowerCase();\n    return Object.keys(headers).reduce(function(res, key) {\n        if (res) return res;\n        if (name == key.toLowerCase()) return key;\n        return res;\n    }, null);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/http/Utils.js\n **/","import {fetch, Request, Response, Headers, Promise} from '../core/Externals';\nimport * as utils from './Utils';\n\nexport default class ApiResponse {\n\n    static _contentType = 'Content-Type';\n    static _jsonContentType = 'application/json';\n    static _multipartContentType = 'multipart/mixed';\n    static _urlencodedContentType = 'application/x-www-form-urlencoded';\n    static _headerSeparator = ':';\n    static _bodySeparator = '\\n\\n';\n    static _boundarySeparator = '--';\n\n    /**\n     * @param {Request} request\n     * @param {Response} response\n     * @param {string} responseText\n     */\n    constructor(request, response, responseText) {\n\n        /** @type {Request} */\n        this._request = request;\n\n        /** @type {Response} */\n        this._response = response;\n\n        this._text = responseText;\n        this._json = null;\n        this._multipart = [];\n\n    }\n\n    /**\n     * @return {Response}\n     */\n    response() {\n        return this._response;\n    }\n\n    /**\n     * @return {Request}\n     */\n    request() {\n        return this._request;\n    }\n\n    /**\n     * @return {boolean}\n     */\n    ok() {\n        return this._response && this._response.ok;\n    }\n\n    /**\n     * @return {string}\n     */\n    text() {\n        if (!this._isJson() && !this._isMultipart()) throw new Error('Response is not text');\n        return this._text;\n    }\n\n    /**\n     * @return {object}\n     */\n    json() {\n        if (!this._isJson()) throw new Error('Response is not JSON');\n        if (!this._json) {\n            this._json = this._text ? JSON.parse(this._text) : null;\n        }\n        return this._json;\n    }\n\n    /**\n     * @param [skipOKCheck]\n     * @return {string}\n     */\n    error(skipOKCheck) {\n\n        if (this.ok() && !skipOKCheck) return null;\n\n        var message = (this._response && this._response.status ? this._response.status + ' ' : '') +\n                      (this._response && this._response.statusText ? this._response.statusText : '');\n\n        try {\n\n            if (this.json().message) message = this.json().message;\n            if (this.json().error_description) message = this.json().error_description;\n            if (this.json().description) message = this.json().description;\n\n        } catch (e) {}\n\n        return message;\n\n    }\n\n    /**\n     * @return {ApiResponse[]}\n     */\n    multipart() {\n\n        if (!this._isMultipart()) throw new Error('Response is not multipart');\n\n        if (!this._multipart.length) {\n\n            // Step 1. Split multipart response\n\n            var text = this.text();\n\n            if (!text) throw new Error('No response body');\n\n            var boundary = this._getContentType().match(/boundary=([^;]+)/i)[1];\n\n            if (!boundary) throw new Error('Cannot find boundary');\n\n            var parts = text.toString().split(ApiResponse._boundarySeparator + boundary);\n\n            if (parts[0].trim() === '') parts.shift();\n            if (parts[parts.length - 1].trim() == ApiResponse._boundarySeparator) parts.pop();\n\n            if (parts.length < 1) throw new Error('No parts in body');\n\n            // Step 2. Parse status info\n\n            var statusInfo = ApiResponse.create(parts.shift(), this._response.status, this._response.statusText).json();\n\n            // Step 3. Parse all other parts\n\n            this._multipart = parts.map((part:string, i) => {\n\n                var status = statusInfo.response[i].status;\n\n                return ApiResponse.create(part, status);\n\n            });\n\n        }\n\n        return this._multipart;\n\n    }\n\n    _isContentType(contentType) {\n        return this._getContentType().indexOf(contentType) > -1;\n    }\n\n    _getContentType() {\n        return this._response.headers.get(ApiResponse._contentType) || '';\n    }\n\n    _isMultipart() {\n        return this._isContentType(ApiResponse._multipartContentType);\n    }\n\n    _isUrlEncoded() {\n        return this._isContentType(ApiResponse._urlencodedContentType);\n    }\n\n    _isJson() {\n        return this._isContentType(ApiResponse._jsonContentType);\n    }\n\n    /**\n     * Method is used to create ApiResponse object from string parts of multipart/mixed response\n     * @param {string} [text]\n     * @param {number} [status]\n     * @param {string} [statusText]\n     * @return {ApiResponse}\n     */\n    static create(text, status, statusText) {\n\n        text = text || '';\n        status = status || 200;\n        statusText = statusText || 'OK';\n\n        text = text.replace(/\\r/g, '');\n\n        var headers = new Headers(),\n            headersAndBody = text.split(ApiResponse._bodySeparator),\n            headersText = (headersAndBody.length > 1) ? headersAndBody.shift() : '';\n\n        text = headersAndBody.join(ApiResponse._bodySeparator);\n\n        (headersText || '')\n            .split('\\n')\n            .forEach((header:string) => {\n\n                var split = header.trim().split(ApiResponse._headerSeparator),\n                    key = split.shift().trim(),\n                    value = split.join(ApiResponse._headerSeparator).trim();\n\n                if (key) headers.append(key, value);\n\n            });\n\n        return new ApiResponse(null, utils.createResponse(text, {\n            headers: headers,\n            status: status,\n            statusText: statusText\n        }), text);\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/http/ApiResponse.js\n **/","import Registry from './Registry';\nimport {default as HttpClient} from '../http/Client';\n\nexport default class Client extends HttpClient {\n\n    constructor() {\n        super();\n        this._registry = new Registry();\n    }\n\n    registry() {\n        return this._registry;\n    }\n\n    async _loadResponse(request) {\n\n        var mock = this._registry.find(request);\n\n        return await mock.getResponse(request);\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/mocks/ClientMock.js\n **/","import Mock from './Mock';\n\nexport default class Registry {\n\n    constructor() {\n        this._mocks = [];\n    }\n\n    add(mock) {\n        this._mocks.push(mock);\n        return this;\n    }\n\n    clear() {\n        this._mocks = [];\n        return this;\n    }\n\n    find(request) {\n\n        //console.log('Registry is looking for', request);\n\n        var mock = this._mocks.shift();\n\n        if (!mock) throw new Error('No mock in registry for request ' + request.method + ' ' + request.url);\n\n        if (!mock.test(request)) throw new Error('Wrong request ' + request.method + ' ' + request.url +\n                                                 ' for expected mock ' + mock.method() + ' ' + mock.path());\n\n        return mock;\n\n    }\n\n    apiCall(method:string, path:string, response:any, status, statusText) {\n\n        this.add(new Mock(method, path, response, status, statusText));\n\n        return this;\n\n    }\n\n    authentication() {\n\n        this.apiCall('POST', '/restapi/oauth/token', {\n            'access_token': 'ACCESS_TOKEN',\n            'token_type': 'bearer',\n            'expires_in': 3600,\n            'refresh_token': 'REFRESH_TOKEN',\n            'refresh_token_expires_in': 60480,\n            'scope': 'SMS RCM Foo Boo',\n            'expireTime': new Date().getTime() + 3600000\n        });\n\n        return this;\n\n    }\n\n    logout() {\n\n        this.apiCall('POST', '/restapi/oauth/revoke', {});\n\n        return this;\n\n    }\n\n    presenceLoad(id) {\n\n        this.apiCall('GET', '/restapi/v1.0/account/~/extension/' + id + '/presence', {\n            \"uri\": \"https://platform.ringcentral.com/restapi/v1.0/account/123/extension/\" + id + \"/presence\",\n            \"extension\": {\n                \"uri\": \"https://platform.ringcentral.com/restapi/v1.0/account/123/extension/\" + id,\n                \"id\": id,\n                \"extensionNumber\": \"101\"\n            },\n            \"activeCalls\": [],\n            \"presenceStatus\": \"Available\",\n            \"telephonyStatus\": \"Ringing\",\n            \"userStatus\": \"Available\",\n            \"dndStatus\": \"TakeAllCalls\",\n            \"extensionId\": id\n        });\n\n        return this;\n\n    }\n\n    subscribeGeneric(expiresIn) {\n\n        expiresIn = expiresIn || 15 * 60 * 60;\n\n        var date = new Date();\n\n        this.apiCall('POST', '/restapi/v1.0/subscription', {\n            'eventFilters': [\n                '/restapi/v1.0/account/~/extension/~/presence'\n            ],\n            'expirationTime': new Date(date.getTime() + (expiresIn * 1000)).toISOString(),\n            'expiresIn': expiresIn,\n            'deliveryMode': {\n                'transportType': 'PubNub',\n                'encryption': false,\n                'address': '123_foo',\n                'subscriberKey': 'sub-c-foo',\n                'secretKey': 'sec-c-bar'\n            },\n            'id': 'foo-bar-baz',\n            'creationTime': date.toISOString(),\n            'status': 'Active',\n            'uri': 'https://platform.ringcentral.com/restapi/v1.0/subscription/foo-bar-baz'\n        });\n\n        return this;\n\n    }\n\n    subscribeOnPresence(id, detailed) {\n\n        id = id || '1';\n\n        var date = new Date();\n\n        this.apiCall('POST', '/restapi/v1.0/subscription', {\n            'eventFilters': ['/restapi/v1.0/account/~/extension/' + id + '/presence' + (detailed ? '?detailedTelephonyState=true' : '')],\n            'expirationTime': new Date(date.getTime() + (15 * 60 * 60 * 1000)).toISOString(),\n            'deliveryMode': {\n                'transportType': 'PubNub',\n                'encryption': true,\n                'address': '123_foo',\n                'subscriberKey': 'sub-c-foo',\n                'secretKey': 'sec-c-bar',\n                'encryptionAlgorithm': 'AES',\n                'encryptionKey': 'VQwb6EVNcQPBhE/JgFZ2zw=='\n            },\n            'creationTime': date.toISOString(),\n            'id': 'foo-bar-baz',\n            'status': 'Active',\n            'uri': 'https://platform.ringcentral.com/restapi/v1.0/subscription/foo-bar-baz'\n        });\n\n        return this;\n\n    }\n\n    tokenRefresh(failure) {\n\n        if (!failure) {\n\n            this.apiCall('POST', '/restapi/oauth/token', {\n                'access_token': 'ACCESS_TOKEN_FROM_REFRESH',\n                'token_type': 'bearer',\n                'expires_in': 3600,\n                'refresh_token': 'REFRESH_TOKEN_FROM_REFRESH',\n                'refresh_token_expires_in': 60480,\n                'scope': 'SMS RCM Foo Boo'\n            });\n\n        } else {\n\n            this.apiCall('POST', '/restapi/oauth/token', {\n                'message': 'Wrong token',\n                'error_description': 'Wrong token',\n                'description': 'Wrong token'\n            }, 400);\n\n        }\n\n        return this;\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/mocks/Registry.js\n **/","import ApiResponse from '../http/ApiResponse';\nimport {delay} from '../core/Utils';\nimport {createResponse} from '../http/Utils';\n\nexport default class Mock {\n\n    constructor(method, path, json, status, statusText, delay) {\n        this._method = method.toUpperCase();\n        this._path = path;\n        this._json = json || {};\n        this._delay = delay || 10;\n        this._status = status || 200;\n        this._statusText = statusText || 'OK';\n    }\n\n    path() {\n        return this._path;\n    }\n\n    method() {\n        return this._method;\n    }\n\n    test(request:Request) {\n\n        return request.url.indexOf(this._path) > -1 &&\n               request.method.toUpperCase() == this._method;\n\n    }\n\n    async getResponse(request) {\n\n        await delay(this._delay);\n\n        return this.createResponse(this._json);\n\n    }\n\n    createResponse(json, init) {\n\n        init = init || {};\n\n        init.status = init.status || this._status;\n        init.statusText = init.statusText || this._statusText;\n\n        var str = JSON.stringify(json),\n            res = createResponse(str, init);\n\n        res.headers.set(ApiResponse._contentType, ApiResponse._jsonContentType);\n\n        return res;\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/mocks/Mock.js\n **/","import Observable from '../core/Observable';\nimport Queue from '../core/Queue';\nimport Auth from './Auth';\nimport {Promise} from '../core/Externals';\nimport {queryStringify, parseQueryString, delay} from '../core/Utils';\n\nexport default class Platform extends Observable {\n\n    static _urlPrefix = '/restapi';\n    static _apiVersion = 'v1.0';\n    static _accessTokenTtl = null; // Platform server by default sets it to 60 * 60 = 1 hour\n    static _refreshTokenTtl = 10 * 60 * 60; // 10 hours\n    static _refreshTokenTtlRemember = 7 * 24 * 60 * 60; // 1 week\n    static _tokenEndpoint = '/restapi/oauth/token';\n    static _revokeEndpoint = '/restapi/oauth/revoke';\n    static _authorizeEndpoint = '/restapi/oauth/authorize';\n    static _refreshDelayMs = 100;\n    static _cacheId = 'platform';\n    static _clearCacheOnRefreshError = true;\n\n    events = {\n        beforeLogin: 'beforeLogin',\n        loginSuccess: 'loginSuccess',\n        loginError: 'loginError',\n        beforeRefresh: 'beforeRefresh',\n        refreshSuccess: 'refreshSuccess',\n        refreshError: 'refreshError',\n        beforeLogout: 'beforeLogout',\n        logoutSuccess: 'logoutSuccess',\n        logoutError: 'logoutError'\n    };\n\n    constructor(client, cache, server, appKey, appSecret) {\n\n        super();\n\n        this._server = server;\n        this._appKey = appKey;\n        this._appSecret = appSecret;\n\n        /** @type {Cache} */\n        this._cache = cache;\n\n        /** @type {Client} */\n        this._client = client;\n\n        this._queue = new Queue(this._cache, Platform._cacheId + '-refresh');\n\n        this._auth = new Auth(this._cache, Platform._cacheId);\n\n    }\n\n    /**\n     * @return {Auth}\n     */\n    auth() {\n        return this._auth;\n    }\n\n    /**\n     * @return {Client}\n     */\n    client() {\n        return this._client;\n    }\n\n    /**\n     * @param {string} path\n     * @param {object} [options]\n     * @param {boolean} [options.addServer]\n     * @param {string} [options.addMethod]\n     * @param {boolean} [options.addToken]\n     * @return {string}\n     */\n    createUrl(path, options) {\n\n        path = path || '';\n        options = options || {};\n\n        var builtUrl = '',\n            hasHttp = path.indexOf('http://') != -1 || path.indexOf('https://') != -1;\n\n        if (options.addServer && !hasHttp) builtUrl += this._server;\n\n        if (path.indexOf(Platform._urlPrefix) == -1 && !hasHttp) builtUrl += Platform._urlPrefix + '/' + Platform._apiVersion;\n\n        builtUrl += path;\n\n        if (options.addMethod || options.addToken) builtUrl += (path.indexOf('?') > -1 ? '&' : '?');\n\n        if (options.addMethod) builtUrl += '_method=' + options.addMethod;\n        if (options.addToken) builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this._auth.accessToken();\n\n        return builtUrl;\n\n    }\n\n    /**\n     * @param {string} options.redirectUri\n     * @param {string} options.state\n     * @param {string} options.brandId\n     * @param {string} options.display\n     * @param {string} options.prompt\n     * @return {string}\n     */\n    authUrl(options) {\n\n        options = options || {};\n\n        return this.createUrl(Platform._authorizeEndpoint + '?' + queryStringify({\n                'response_type': 'code',\n                'redirect_uri': options.redirectUri || '',\n                'client_id': this._appKey,\n                'state': options.state || '',\n                'brand_id': options.brandId || '',\n                'display': options.display || '',\n                'prompt': options.prompt || ''\n            }), {addServer: true})\n\n    }\n\n    /**\n     * @param {string} url\n     * @return {Object}\n     */\n    parseAuthRedirectUrl(url:string) {\n\n        var qs = parseQueryString(url.split('?').reverse()[0]),\n            error = qs.error_description || qs.error;\n\n        if (error) {\n            var e = new Error(error);\n            e.error = qs.error;\n            throw e;\n        }\n\n        return qs;\n\n    }\n\n    /**\n     * @return {Promise<boolean>}\n     */\n    async loggedIn() {\n\n        try {\n            await this._ensureAuthentication();\n            return true;\n        } catch (e) {\n            return false;\n        }\n\n    }\n\n    /**\n     * @param {string} options.username\n     * @param {string} options.password\n     * @param {string} options.extension\n     * @param {string} options.code\n     * @param {string} options.redirectUri\n     * @param {string} options.endpointId\n     * @returns {Promise<ApiResponse>}\n     */\n    async login(options) {\n\n        try {\n\n            options = options || {};\n\n            options.remember = options.remember || false;\n\n            this.emit(this.events.beforeLogin);\n\n            var body = {\n                \"access_token_ttl\": Platform._accessTokenTtl,\n                \"refresh_token_ttl\": options.remember ? Platform._refreshTokenTtlRemember : Platform._refreshTokenTtl\n            };\n\n            if (!options.code) {\n\n                body.grant_type = 'password';\n                body.username = options.username;\n                body.password = options.password;\n                body.extension = options.extension || '';\n\n            } else if (options.code) {\n\n                body.grant_type = 'authorization_code';\n                body.code = options.code;\n                body.redirect_uri = options.redirectUri;\n                //body.client_id = this.getCredentials().key; // not needed\n\n            }\n\n            if (options.endpointId) body.endpoint_id = options.endpointId;\n\n            var apiResponse = await this._tokenRequest(Platform._tokenEndpoint, body),\n                json = apiResponse.json();\n\n            this._auth\n                .setData(json)\n                .setRemember(options.remember);\n\n            this.emit(this.events.loginSuccess, apiResponse);\n\n            return apiResponse;\n\n        } catch (e) {\n\n            this._cache.clean();\n\n            this.emit(this.events.loginError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    async refresh() {\n\n        try {\n\n            this.emit(this.events.beforeRefresh);\n\n            if (this._queue.isPaused()) {\n\n                await this._queue.poll();\n\n                if (!this._isAccessTokenValid()) {\n                    throw new Error('Automatic authentification timeout');\n                }\n\n                this.emit(this.events.refreshSuccess, null);\n\n                return null;\n\n            }\n\n            this._queue.pause();\n\n            // Make sure all existing AJAX calls had a chance to reach the server\n            await delay(Platform._refreshDelayMs);\n\n            // Perform sanity checks\n            if (!this._auth.refreshToken()) throw new Error('Refresh token is missing');\n            if (!this._auth.refreshTokenValid()) throw new Error('Refresh token has expired');\n            if (!this._queue.isPaused()) throw new Error('Queue was resumed before refresh call');\n\n            /** @type {ApiResponse} */\n            var res = await this._tokenRequest(Platform._tokenEndpoint, {\n                    \"grant_type\": \"refresh_token\",\n                    \"refresh_token\": this._auth.refreshToken(),\n                    \"access_token_ttl\": Platform._accessTokenTtl,\n                    \"refresh_token_ttl\": this._auth.remember() ? Platform._refreshTokenTtlRemember : Platform._refreshTokenTtl\n                }),\n                json = res.json();\n\n            if (!json.access_token) {\n                throw this._client.makeError(new Error('Malformed OAuth response'), res);\n            }\n\n            this._auth.setData(json);\n            this._queue.resume();\n\n            this.emit(this.events.refreshSuccess, res);\n\n            return res;\n\n        } catch (e) {\n\n            e = this._client.makeError(e);\n\n            if (Platform._clearCacheOnRefreshError) {\n                this._cache.clean();\n            }\n\n            this.emit(this.events.refreshError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    async logout() {\n\n        try {\n\n            this.emit(this.events.beforeLogout);\n\n            this._queue.pause();\n\n            var res = await this._tokenRequest(Platform._revokeEndpoint, {\n                token: this._auth.accessToken()\n            });\n\n            this._queue.resume();\n            this._cache.clean();\n\n            this.emit(this.events.logoutSuccess, res);\n\n            return res;\n\n        } catch (e) {\n\n            this._queue.resume();\n\n            this.emit(this.events.logoutError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @param {Request} request\n     * @param {object} [options]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<Request>}\n     */\n    async inflateRequest(request, options) {\n\n        options = options || {};\n\n        if (options.skipAuthCheck) return request;\n\n        await this._ensureAuthentication();\n\n        request.headers.set('Authorization', this._authHeader());\n        //request.url = this.createUrl(request.url, {addServer: true}); //FIXME Spec prevents this...\n\n        //TODO Add User-Agent here\n\n        return request;\n\n    }\n\n    /**\n     * @param {Request} request\n     * @param {object} [options]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async sendRequest(request, options) {\n\n        try {\n\n            request = await this.inflateRequest(request, options);\n\n            return (await this._client.sendRequest(request));\n\n        } catch (e) {\n\n            // Guard is for errors that come from polling\n            if (!e.apiResponse || !e.apiResponse.response() || (e.apiResponse.response().status != 401)) throw e;\n\n            this._auth.cancelAccessToken();\n\n            return (await this.sendRequest(request, options));\n\n        }\n\n    }\n\n    /**\n     * General purpose function to send anything to server\n     * @param {string} options.url\n     * @param {object} [options.body]\n     * @param {string} [options.method]\n     * @param {object} [options.query]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async send(options = {}) {\n\n        //FIXME https://github.com/bitinn/node-fetch/issues/43\n        options.url = this.createUrl(options.url, {addServer: true});\n\n        return await this.sendRequest(this._client.createRequest(options), options);\n\n    }\n\n    /**\n     * @param {string} url\n     * @param {object} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async get(url, query, options) {\n        options = options || {};\n        options.method = 'GET';\n        options.url = url;\n        options.query = query;\n        return await this.send(options);\n    }\n\n    /**\n     * @param {string} url\n     * @param {object} body\n     * @param {object} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async post(url, body, query, options) {\n        options = options || {};\n        options.method = 'POST';\n        options.url = url;\n        options.query = query;\n        options.body = body;\n        return await this.send(options);\n    }\n\n    /**\n     * @param {string} url\n     * @param {object} [body]\n     * @param {object} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async put(url, body, query, options) {\n        options = options || {};\n        options.method = 'PUT';\n        options.url = url;\n        options.query = query;\n        options.body = body;\n        return await this.send(options);\n    }\n\n    /**\n     * @param {string} url\n     * @param {string} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async 'delete'(url, query, options) {\n        options = options || {};\n        options.method = 'DELETE';\n        options.url = url;\n        options.query = query;\n        return await this.send(options);\n    }\n\n    async _tokenRequest(path, body) {\n\n        return await this.send({\n            url: path,\n            skipAuthCheck: true,\n            body: body,\n            method: 'POST',\n            headers: {\n                'Authorization': 'Basic ' + this._apiKey(),\n                'Content-Type': 'application/x-www-form-urlencoded'\n            }\n        });\n\n    }\n\n    async _ensureAuthentication() {\n\n        if (this._isAccessTokenValid()) return null;\n        return await this.refresh();\n\n    }\n\n    _isAccessTokenValid() {\n\n        return (this._auth.accessTokenValid() && !this._queue.isPaused());\n\n    }\n\n    _apiKey() {\n        var apiKey = this._appKey + ':' + this._appSecret;\n        return (typeof btoa == 'function') ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n    }\n\n    _authHeader() {\n        var token = this._auth.accessToken();\n        return this._auth.tokenType() + (token ? ' ' + token : '');\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/platform/Platform.js\n **/","export default class Auth {\n\n    static refreshHandicapMs:number = 60 * 1000; // 1 minute\n    static forcedTokenType = 'forced';\n\n    constructor(cache, cacheId:string) {\n\n        /** @type {Cache} */\n        this._cache = cache;\n        this._cacheId = cacheId;\n\n    }\n\n    accessToken() {\n        return this.data().access_token;\n    }\n\n    refreshToken() {\n        return this.data().refresh_token;\n    }\n\n    tokenType() {\n        return this.data().token_type;\n    }\n\n    /**\n     * @return {{token_type: string, access_token: string, expires_in: number, refresh_token: string, refresh_token_expires_in: number}}\n     */\n    data() {\n\n        return this._cache.getItem(this._cacheId) || {\n                token_type: '',\n                access_token: '',\n                expires_in: 0,\n                refresh_token: '',\n                refresh_token_expires_in: 0\n            };\n\n    }\n\n    /**\n     * @param {object} newData\n     * @return {Auth}\n     */\n    setData(newData) {\n\n        newData = newData || {};\n\n        var data = this.data();\n\n        Object.keys(newData).forEach((key) => {\n            data[key] = newData[key];\n        });\n\n        data.expire_time = Date.now() + (data.expires_in * 1000);\n        data.refresh_token_expire_time = Date.now() + (data.refresh_token_expires_in * 1000);\n\n        this._cache.setItem(this._cacheId, data);\n\n        return this;\n\n    }\n\n    /**\n     * Check if there is a valid (not expired) access token\n     * @return {boolean}\n     */\n    accessTokenValid() {\n\n        var authData = this.data();\n        return (authData.token_type === Auth.forcedTokenType || (authData.expire_time - Auth.refreshHandicapMs > Date.now()));\n\n    }\n\n    /**\n     * Check if there is a valid (not expired) access token\n     * @return {boolean}\n     */\n    refreshTokenValid() {\n\n        return (this.data().refresh_token_expire_time > Date.now());\n\n    }\n\n    /**\n     * @return {Auth}\n     */\n    cancelAccessToken() {\n\n        return this.setData({\n            access_token: '',\n            expires_in: 0\n        });\n\n    }\n\n    /**\n     * This method sets a special authentication mode used in Service Web\n     * @return {Auth}\n     */\n    forceAuthentication() {\n\n        this.setData({\n            token_type: Auth.forcedTokenType,\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        });\n\n        return this;\n\n    }\n\n    /**\n     * @param remember\n     * @return {Auth}\n     */\n    setRemember(remember) {\n\n        return this.setData({remember: remember});\n\n    }\n\n    /**\n     * @return {boolean}\n     */\n    remember() {\n\n        return !!this.data().remember;\n\n    }\n\n}\n\n//export interface IAuthData {\n//    remember?:boolean;\n//    token_type?:string;\n//    access_token?:string;\n//    expires_in?:number; // actually it's string\n//    expire_time?:number;\n//    refresh_token?:string;\n//    refresh_token_expires_in?:number; // actually it's string\n//    refresh_token_expire_time?:number;\n//    scope?:string;\n//}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/platform/Auth.js\n **/","import PubnubMock from './PubnubMock.js';\nimport {PUBNUB} from '../core/Externals';\n\nexport default class PubnubMockFactory {\n\n    constructor() {\n        this.crypto_obj = PUBNUB.crypto_obj;\n    }\n\n    init(options:PUBNUBInitOptions) {\n        return new PubnubMock(options);\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/pubnub/PubnubFactory.js\n **/","import Observable from '../core/Observable';\nimport {PUBNUB} from '../core/Externals';\n\nexport default class PubnubMock extends Observable {\n\n    constructor(options) {\n        super();\n        this.options = options;\n        this.crypto_obj = PUBNUB.crypto_obj;\n    }\n\n    ready() {}\n\n    subscribe(options:PUBNUBSubscribeOptions) {\n        this.on('message-' + options.channel, options.message);\n    }\n\n    unsubscribe(options:PUBNUBUnsubscribeOptions) {\n        this.off('message-' + options.channel);\n    }\n\n    receiveMessage(msg, channel) {\n        this.emit('message-' + channel, msg, 'env', channel);\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/pubnub/PubnubMock.js\n **/","import Observable from '../core/Observable';\nimport Client from '../http/Client';\nimport {poll, stopPolling, delay} from '../core/Utils';\n\nexport default class Subscription extends Observable {\n\n    static _renewHandicapMs = 2 * 60 * 1000;\n    static _pollInterval = 10 * 1000;\n\n    events = {\n        notification: 'notification',\n        removeSuccess: 'removeSuccess',\n        removeError: 'removeError',\n        renewSuccess: 'renewSuccess',\n        renewError: 'renewError',\n        subscribeSuccess: 'subscribeSuccess',\n        subscribeError: 'subscribeError'\n    };\n\n    constructor(pubnubFactory, platform) {\n\n        super();\n\n        this._pubnubFactory = pubnubFactory;\n        this._platform = platform;\n        this._pubnub = null;\n        this._timeout = null;\n        this._subscription = {};\n\n    }\n\n    subscribed(){\n\n        return !!(this._subscription.id &&\n                  this._subscription.deliveryMode &&\n                  this._subscription.deliveryMode.subscriberKey &&\n                  this._subscription.deliveryMode.address);\n\n    }\n\n    /**\n     * @return {boolean}\n     */\n    alive() {\n\n        return this.subscribed() && Date.now() < this.expirationTime();\n\n    }\n\n    expirationTime() {\n        return new Date(this._subscription.expirationTime || 0).getTime() - Subscription._renewHandicapMs;\n    }\n\n    setSubscription(subscription) {\n\n        subscription = subscription || {};\n\n        this._clearTimeout();\n\n        this._subscription = subscription;\n\n        if (!this._pubnub) this._subscribeAtPubnub();\n\n        this._setTimeout();\n\n        return this;\n\n    }\n\n    subscription() {\n        return this._subscription;\n    }\n\n    /**\n     * Creates or updates subscription if there is an active one\n     * @returns {Promise<ApiResponse>}\n     */\n    async register() {\n\n        if (this.alive()) {\n            return await this.renew();\n        } else {\n            return await this.subscribe();\n        }\n\n    }\n\n    eventFilters() {\n        return this._subscription.eventFilters || [];\n    }\n\n    /**\n     * @param {string[]} events\n     * @return {Subscription}\n     */\n    addEventFilters(events) {\n        this.setEventFilters(this.eventFilters().concat(events));\n        return this;\n    }\n\n    /**\n     * @param {string[]} events\n     * @return {Subscription}\n     */\n    setEventFilters(events) {\n        this._subscription.eventFilters = events;\n        return this;\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    async subscribe() {\n\n        try {\n\n            this._clearTimeout();\n\n            if (!this.eventFilters().length) throw new Error('Events are undefined');\n\n            var response = await this._platform.post('/restapi/v1.0/subscription', {\n                    eventFilters: this._getFullEventFilters(),\n                    deliveryMode: {\n                        transportType: 'PubNub'\n                    }\n                }),\n                json = response.json();\n\n            this.setSubscription(json)\n                .emit(this.events.subscribeSuccess, response);\n\n            return response;\n\n\n        } catch (e) {\n\n            e = this._platform.client().makeError(e);\n\n            this.reset()\n                .emit(this.events.subscribeError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    async renew() {\n\n        try {\n\n            this._clearTimeout();\n\n            if (!this.alive()) throw new Error('Subscription is not alive');\n\n            if (!this.eventFilters().length) throw new Error('Events are undefined');\n\n            var response = await this._platform.put('/restapi/v1.0/subscription/' + this._subscription.id, {\n                eventFilters: this._getFullEventFilters()\n            });\n\n            var json = response.json();\n\n            this.setSubscription(json)\n                .emit(this.events.renewSuccess, response);\n\n            return response;\n\n        } catch (e) {\n\n            e = this._platform.client().makeError(e);\n\n            this.reset()\n                .emit(this.events.renewError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    async remove() {\n\n        try {\n\n            if (!this.subscribed()) throw new Error('No subscription');\n\n            var response = await this._platform.delete('/restapi/v1.0/subscription/' + this._subscription.id);\n\n            this.reset()\n                .emit(this.events.removeSuccess, response);\n\n            return response;\n\n        } catch (e) {\n\n            e = this._platform.client().makeError(e);\n\n            this.emit(this.events.removeError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    resubscribe() {\n\n        return this.reset().setEventFilters(this.eventFilters()).subscribe();\n\n    }\n\n    /**\n     * Remove subscription and disconnect from PUBNUB\n     * This method resets subscription at client side but backend is not notified\n     */\n    reset() {\n        this._clearTimeout();\n        if (this.subscribed() && this._pubnub) this._pubnub.unsubscribe({channel: this._subscription.deliveryMode.address});\n        this._subscription = {};\n        return this;\n    }\n\n    _getFullEventFilters() {\n\n        return this.eventFilters().map((event) => {\n            return this._platform.createUrl(event);\n        });\n\n    }\n\n    _setTimeout() {\n\n        this._clearTimeout();\n\n        if (!this.alive()) throw new Error('Subscription is not alive');\n\n        poll((next)=> {\n\n            if (this.alive()) return next();\n\n            this.renew();\n\n        }, Subscription._pollInterval, this._timeout);\n\n        return this;\n\n    }\n\n    _clearTimeout() {\n\n        stopPolling(this._timeout);\n\n        return this;\n\n    }\n\n    _decrypt(message:any) {\n\n        if (!this.subscribed()) throw new Error('No subscription');\n\n        if (this._subscription.deliveryMode.encryptionKey) {\n\n            var PUBNUB = this._pubnubFactory;\n\n            message = PUBNUB.crypto_obj.decrypt(message, this._subscription.deliveryMode.encryptionKey, {\n                encryptKey: false,\n                keyEncoding: 'base64',\n                keyLength: 128,\n                mode: 'ecb'\n            });\n\n        }\n\n        return message;\n\n    }\n\n    _notify(message:any) {\n\n        this.emit(this.events.notification, this._decrypt(message));\n\n        return this;\n\n    }\n\n    _subscribeAtPubnub():Subscription {\n\n        if (!this.alive()) throw new Error('Subscription is not alive');\n\n        var PUBNUB = this._pubnubFactory;\n\n        this._pubnub = PUBNUB.init({\n            ssl: true,\n            subscribe_key: this._subscription.deliveryMode.subscriberKey\n        });\n\n        this._pubnub.ready();\n\n        this._pubnub.subscribe({\n            channel: this._subscription.deliveryMode.address,\n            message: this._notify.bind(this),\n            connect: () => {}\n        });\n\n        return this;\n\n    }\n\n}\n\n//export interface ISubscription {\n//    id?:string;\n//    uri?: string;\n//    eventFilters?:string[];\n//    expirationTime?:string; // 2014-03-12T19:54:35.613Z\n//    expiresIn?:number;\n//    deliveryMode?: {\n//        transportType?:string;\n//        encryption?:boolean;\n//        address?:string;\n//        subscriberKey?:string;\n//        encryptionKey?:string;\n//        secretKey?:string;\n//    };\n//    creationTime?:string; // 2014-03-12T19:54:35.613Z\n//    status?:string; // Active\n//}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/subscription/Subscription.js\n **/","import Subscription from './Subscription';\nimport Queue from '../core/Queue';\n\nexport default class CachedSubscription extends Subscription {\n\n    constructor(pubnubFactory, platform, cache, cacheKey) {\n\n        super(pubnubFactory, platform);\n\n        this._cache = cache;\n        this._cacheKey = cacheKey;\n        this._renewQueue = new Queue(this._cache, cacheKey + '-renew');\n        this._resubscribeQueue = new Queue(this._cache, cacheKey + '-resubscribe');\n\n        this.events = {\n            ...this.events,\n            queuedRenewSuccess: 'queuedRenewSuccess',\n            queuedRenewError: 'queuedRenewError',\n            queuedResubscribeSuccess: 'queuedResubscribeSuccess',\n            queuedResubscribeError: 'queuedResubscribeError'\n        };\n\n        this.on(this.events.renewError, () => {\n            this.resubscribe();\n        });\n\n        this.on([this.events.subscribeSuccess, this.events.renewSuccess], () => {\n            this._cache.setItem(this._cacheKey, this.subscription());\n        });\n\n        this.on(this.events.removeSuccess, () => {\n            this._cache.removeItem(this._cacheKey);\n        });\n\n    }\n\n    /**\n     * TODO Combine with Platform.refresh and move elsewhere\n     * @param actionCb\n     * @param queue\n     * @param successEvent\n     * @param errorEvent\n     * @param errorMessage\n     * @return {*}\n     * @private\n     */\n    async _queue(actionCb, queue, successEvent, errorEvent, errorMessage) {\n\n        try {\n\n            if (queue.isPaused()) {\n\n                await queue.poll();\n\n                if (!this.alive()) {\n                    throw new Error(errorMessage);\n                }\n\n                this.emit(successEvent, null);\n\n                return null;\n\n            }\n\n            queue.pause();\n\n            var res = await actionCb.call(this);\n\n            queue.resume();\n\n            this.emit(successEvent, res);\n\n            return res;\n\n        } catch (e) {\n\n            this.emit(errorEvent, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    renew() {\n\n        return this._queue(\n            super.renew,\n            this._renewQueue,\n            this.events.queuedRenewSuccess,\n            this.events.queuedRenewError,\n            'Subscription is not alive after renew timeout'\n        );\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    resubscribe() {\n\n        return this._queue(\n            super.resubscribe,\n            this._resubscribeQueue,\n            this.events.queuedResubscribeSuccess,\n            this.events.queuedResubscribeError,\n            'Subscription is not alive after resubscribe timeout'\n        );\n\n    }\n\n    /**\n     * @param {string[]} events\n     * @return {CachedSubscription}\n     */\n    restore(events) {\n\n        var cachedSubscriptionData = this._cache.getItem(this._cacheKey);\n\n        if (cachedSubscriptionData) {\n            try {\n                this.setSubscription(cachedSubscriptionData);\n            } catch (e) {}\n        } else {\n            this.setEventFilters(events);\n        }\n\n        return this;\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/subscription/CachedSubscription.js\n **/","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var iteratorSymbol =\n    typeof Symbol === \"function\" && Symbol.iterator || \"@@iterator\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    // This invoke function is written in a style that assumes some\n    // calling function (or Promise) will handle exceptions.\n    function invoke(method, arg) {\n      var result = generator[method](arg);\n      var value = result.value;\n      return value instanceof AwaitArgument\n        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n        : Promise.resolve(value).then(function(unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            return result;\n          });\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var invokeNext = invoke.bind(generator, \"next\");\n    var invokeThrow = invoke.bind(generator, \"throw\");\n    var invokeReturn = invoke.bind(generator, \"return\");\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return invoke(method, arg);\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : new Promise(function (resolve) {\n          resolve(callInvokeWithMethodAndArg());\n        });\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          if (state === GenStateSuspendedYield) {\n            context.sent = arg;\n          } else {\n            context.sent = undefined;\n          }\n\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/regenerator/runtime.js\n ** module id = 26\n ** module chunks = 0\n **/"],"sourceRoot":"/source/"}